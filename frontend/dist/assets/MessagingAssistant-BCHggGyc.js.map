{"version":3,"file":"MessagingAssistant-BCHggGyc.js","sources":["../../src/pages/MessagingAssistant.jsx"],"sourcesContent":["\nimport React, { useEffect, useState } from 'react';\nimport { useCampaign } from '../contexts/CampaignContext';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function MessagingAssistant() {\n  const { campaignData, updateCampaignData } = useCampaign();\n  const navigate = useNavigate();\n\n  const [inputs, setInputs] = useState({\n    issueName: campaignData.summary?.purpose || '',\n    proposedChange: campaignData.summary?.proposedChange || '',\n    geographicContext: campaignData.summary?.context || '',\n    desiredOutcome: campaignData.summary?.goal || '',\n    primaryAudience: campaignData.summary?.audience || '',\n    audienceProfile: {\n      demographics: '',\n      psychographics: '',\n      priorBeliefs: '',\n      mediaHabits: ''\n    },\n    campaignObjective: '',\n    deliveryContext: {\n      format: '',\n      messenger: '',\n      timing: ''\n    },\n    knownComparisons: '',\n    benchmarkData: ''\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [guideOutput, setGuideOutput] = useState('');\n\n  const handleChange = (field, value) => {\n    if (field.includes('.')) {\n      const [parent, child] = field.split('.');\n      setInputs(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: value\n        }\n      }));\n    } else {\n      setInputs(prev => ({ ...prev, [field]: value }));\n    }\n  };\n\n  const handleSubmit = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const res = await fetch('/api/messaging-guide', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(inputs)\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || 'Unknown error');\n\n      updateCampaignData({ messagingGuide: data.messagingGuide });\n      setGuideOutput(data.messagingGuide);\n    } catch (err) {\n      console.error('‚ùå Messaging Assistant Error:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-3xl mx-auto p-6\">\n      <h2 className=\"text-xl font-bold mb-4\">Messaging Assistant</h2>\n      <p className=\"text-sm mb-2 text-gray-600\">Fill in any missing info to generate a strategic messaging guide.</p>\n\n      {[\n        { label: 'Issue Name', field: 'issueName' },\n        { label: 'Proposed Change (Goal)', field: 'proposedChange' },\n        { label: 'Geographic Context', field: 'geographicContext' },\n        { label: 'Desired Outcome', field: 'desiredOutcome' },\n        { label: 'Primary Audience', field: 'primaryAudience' },\n        { label: 'Demographics', field: 'audienceProfile.demographics' },\n        { label: 'Psychographics', field: 'audienceProfile.psychographics' },\n        { label: 'Prior Beliefs', field: 'audienceProfile.priorBeliefs' },\n        { label: 'Media Habits', field: 'audienceProfile.mediaHabits' },\n        { label: 'Campaign Objective', field: 'campaignObjective' },\n        { label: 'Delivery Format', field: 'deliveryContext.format' },\n        { label: 'Delivery Messenger', field: 'deliveryContext.messenger' },\n        { label: 'Delivery Timing', field: 'deliveryContext.timing' },\n        { label: 'Known Comparisons', field: 'knownComparisons' },\n        { label: 'Benchmark Data', field: 'benchmarkData' }\n      ].map(({ label, field }) => (\n        <div key={field} className=\"mb-4\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">{label}</label>\n          <input\n            type=\"text\"\n            value={field.includes('.') ? inputs[field.split('.')[0]][field.split('.')[1]] : inputs[field]}\n            onChange={(e) => handleChange(field, e.target.value)}\n            className=\"w-full border border-gray-300 px-3 py-2 rounded shadow-sm\"\n          />\n        </div>\n      ))}\n\n      {error && <p className=\"text-red-600 mt-2\">{error}</p>}\n\n      <button\n        onClick={handleSubmit}\n        disabled={loading}\n        className=\"mt-4 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\n      >\n        {loading ? 'Generating...' : 'Generate Messaging Guide'}\n      </button>\n\n      {guideOutput && (\n        <div className=\"mt-6 p-4 border rounded bg-gray-50 whitespace-pre-wrap text-sm\">\n          <h3 className=\"font-bold mb-2\">Generated Messaging Guide</h3>\n          {guideOutput}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["MessagingAssistant","campaignData","updateCampaignData","useCampaign","useNavigate","inputs","setInputs","useState","_a","_b","_c","_d","_e","loading","setLoading","error","setError","guideOutput","setGuideOutput","handleChange","field","value","parent","child","prev","handleSubmit","res","data","err","jsxs","jsx","label","e"],"mappings":"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"}