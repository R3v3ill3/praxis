{"version":3,"file":"OnboardingSummary-DyR7TBEl.js","sources":["../../src/pages/OnboardingSummary.jsx"],"sourcesContent":["// OnboardingSummary.jsx (enhanced with per-question editing)\nimport React from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { db } from '../firebase';\nimport { doc, setDoc } from 'firebase/firestore';\nimport { getAuth } from 'firebase/auth';\n\nexport default function OnboardingSummary() {\n  const { state } = useLocation();\n  const navigate = useNavigate();\n  const auth = getAuth();\n  const answers = state?.answers ?? {};\n\n  const stepKeys = [\n    'org_type',\n    'scale',\n    'membership_size',\n    'campaign_budget',\n    'staff_count',\n    'volunteer_count',\n    'tech_stack',\n  ];\n\n  const handleConfirm = async () => {\n    const user = auth.currentUser;\n    if (user) {\n      await setDoc(doc(db, 'organisations', user.uid), answers);\n      navigate('/dashboard');\n    }\n  };\n\n  const handleEdit = (key) => {\n    const targetStep = stepKeys.indexOf(key);\n    if (targetStep >= 0) {\n      navigate('/onboarding', {\n        state: { answers, stepIndex: targetStep }\n      });\n    }\n  };\n\n  return (\n    <div className=\"p-4 max-w-xl mx-auto\">\n      <h2 className=\"text-xl font-bold mb-4\">Review Your Answers</h2>\n      <ul className=\"space-y-4\">\n        {Object.entries(answers).map(([key, value]) => (\n          <li key={key} className=\"border p-3 rounded shadow-sm bg-white\">\n            <div className=\"flex justify-between items-start\">\n              <div>\n                <strong>{key.replace(/_/g, ' ')}:</strong><br />\n                {Array.isArray(value) ? value.join(', ') : value}\n              </div>\n              <button\n                onClick={() => handleEdit(key)}\n                className=\"ml-4 px-2 py-1 text-sm bg-yellow-400 text-black rounded\"\n              >\n                Edit\n              </button>\n            </div>\n          </li>\n        ))}\n      </ul>\n      <div className=\"mt-6 flex space-x-4\">\n        <button\n          onClick={() => navigate('/onboarding', { state: { answers } })}\n          className=\"px-4 py-2 bg-gray-300 text-black rounded\"\n        >\n          Edit All\n        </button>\n        <button\n          onClick={handleConfirm}\n          className=\"px-4 py-2 bg-green-600 text-white rounded\"\n        >\n          Confirm & Continue\n        </button>\n      </div>\n    </div>\n  );\n}"],"names":["OnboardingSummary","state","useLocation","navigate","useNavigate","auth","getAuth","answers","stepKeys","handleConfirm","user","setDoc","doc","db","handleEdit","key","targetStep","jsxs","jsx","value"],"mappings":"6EAOA,SAAwBA,GAAoB,CACpC,KAAA,CAAE,MAAAC,CAAM,EAAIC,EAAY,EACxBC,EAAWC,EAAY,EACvBC,EAAOC,EAAQ,EACfC,GAAUN,GAAA,YAAAA,EAAO,UAAW,CAAC,EAE7BO,EAAW,CACf,WACA,QACA,kBACA,kBACA,cACA,kBACA,YACF,EAEMC,EAAgB,SAAY,CAChC,MAAMC,EAAOL,EAAK,YACdK,IACF,MAAMC,EAAOC,EAAIC,EAAI,gBAAiBH,EAAK,GAAG,EAAGH,CAAO,EACxDJ,EAAS,YAAY,EAEzB,EAEMW,EAAcC,GAAQ,CACpB,MAAAC,EAAaR,EAAS,QAAQO,CAAG,EACnCC,GAAc,GAChBb,EAAS,cAAe,CACtB,MAAO,CAAE,QAAAI,EAAS,UAAWS,CAAW,CAAA,CACzC,CAEL,EAGE,OAAAC,EAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,yBAAyB,SAAmB,sBAAA,EAC1DA,EAAAA,IAAC,MAAG,UAAU,YACX,gBAAO,QAAQX,CAAO,EAAE,IAAI,CAAC,CAACQ,EAAKI,CAAK,IACtCD,MAAA,KAAA,CAAa,UAAU,wCACtB,SAAAD,EAAA,KAAC,MAAI,CAAA,UAAU,mCACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAAAA,OAAC,SAAQ,CAAA,SAAA,CAAIF,EAAA,QAAQ,KAAM,GAAG,EAAE,GAAA,EAAC,QAAU,KAAG,EAAA,EAC7C,MAAM,QAAQI,CAAK,EAAIA,EAAM,KAAK,IAAI,EAAIA,CAAA,EAC7C,EACAD,EAAA,IAAC,SAAA,CACC,QAAS,IAAMJ,EAAWC,CAAG,EAC7B,UAAU,0DACX,SAAA,MAAA,CAAA,CAGH,CAAA,CAAA,CAAA,EAZOA,CAaT,CACD,EACH,EACAE,EAAAA,KAAC,MAAI,CAAA,UAAU,sBACb,SAAA,CAAAC,EAAA,IAAC,SAAA,CACC,QAAS,IAAMf,EAAS,cAAe,CAAE,MAAO,CAAE,QAAAI,CAAQ,EAAG,EAC7D,UAAU,2CACX,SAAA,UAAA,CAED,EACAW,EAAA,IAAC,SAAA,CACC,QAAST,EACT,UAAU,4CACX,SAAA,oBAAA,CAAA,CAED,CACF,CAAA,CAAA,EACF,CAEJ"}