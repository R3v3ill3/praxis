function dT(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Xv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Fd={exports:{}},$a={},Ud={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function fT(){if(Yg)return xe;Yg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function I(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,V={};function P(U,Q,me){this.props=U,this.context=Q,this.refs=V,this.updater=me||L}P.prototype.isReactComponent={},P.prototype.setState=function(U,Q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Q,"setState")},P.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function W(){}W.prototype=P.prototype;function Y(U,Q,me){this.props=U,this.context=Q,this.refs=V,this.updater=me||L}var Z=Y.prototype=new W;Z.constructor=Y,b(Z,P.prototype),Z.isPureReactComponent=!0;var ee=Array.isArray,fe=Object.prototype.hasOwnProperty,re={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function S(U,Q,me){var Ae,ke={},De=null,Ue=null;if(Q!=null)for(Ae in Q.ref!==void 0&&(Ue=Q.ref),Q.key!==void 0&&(De=""+Q.key),Q)fe.call(Q,Ae)&&!x.hasOwnProperty(Ae)&&(ke[Ae]=Q[Ae]);var je=arguments.length-2;if(je===1)ke.children=me;else if(1<je){for(var qe=Array(je),wt=0;wt<je;wt++)qe[wt]=arguments[wt+2];ke.children=qe}if(U&&U.defaultProps)for(Ae in je=U.defaultProps,je)ke[Ae]===void 0&&(ke[Ae]=je[Ae]);return{$$typeof:n,type:U,key:De,ref:Ue,props:ke,_owner:re.current}}function C(U,Q){return{$$typeof:n,type:U.type,key:Q,ref:U.ref,props:U.props,_owner:U._owner}}function O(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function M(U){var Q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(me){return Q[me]})}var F=/\/+/g;function A(U,Q){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):Q.toString(36)}function st(U,Q,me,Ae,ke){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var Ue=!1;if(U===null)Ue=!0;else switch(De){case"string":case"number":Ue=!0;break;case"object":switch(U.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=U,ke=ke(Ue),U=Ae===""?"."+A(Ue,0):Ae,ee(ke)?(me="",U!=null&&(me=U.replace(F,"$&/")+"/"),st(ke,Q,me,"",function(wt){return wt})):ke!=null&&(O(ke)&&(ke=C(ke,me+(!ke.key||Ue&&Ue.key===ke.key?"":(""+ke.key).replace(F,"$&/")+"/")+U)),Q.push(ke)),1;if(Ue=0,Ae=Ae===""?".":Ae+":",ee(U))for(var je=0;je<U.length;je++){De=U[je];var qe=Ae+A(De,je);Ue+=st(De,Q,me,qe,ke)}else if(qe=I(U),typeof qe=="function")for(U=qe.call(U),je=0;!(De=U.next()).done;)De=De.value,qe=Ae+A(De,je++),Ue+=st(De,Q,me,qe,ke);else if(De==="object")throw Q=String(U),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Ot(U,Q,me){if(U==null)return U;var Ae=[],ke=0;return st(U,Ae,"","",function(De){return Q.call(me,De,ke++)}),Ae}function Dt(U){if(U._status===-1){var Q=U._result;Q=Q(),Q.then(function(me){(U._status===0||U._status===-1)&&(U._status=1,U._result=me)},function(me){(U._status===0||U._status===-1)&&(U._status=2,U._result=me)}),U._status===-1&&(U._status=0,U._result=Q)}if(U._status===1)return U._result.default;throw U._result}var $e={current:null},oe={transition:null},ge={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:oe,ReactCurrentOwner:re};function le(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:Ot,forEach:function(U,Q,me){Ot(U,function(){Q.apply(this,arguments)},me)},count:function(U){var Q=0;return Ot(U,function(){Q++}),Q},toArray:function(U){return Ot(U,function(Q){return Q})||[]},only:function(U){if(!O(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},xe.Component=P,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=Y,xe.StrictMode=s,xe.Suspense=p,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,xe.act=le,xe.cloneElement=function(U,Q,me){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ae=b({},U.props),ke=U.key,De=U.ref,Ue=U._owner;if(Q!=null){if(Q.ref!==void 0&&(De=Q.ref,Ue=re.current),Q.key!==void 0&&(ke=""+Q.key),U.type&&U.type.defaultProps)var je=U.type.defaultProps;for(qe in Q)fe.call(Q,qe)&&!x.hasOwnProperty(qe)&&(Ae[qe]=Q[qe]===void 0&&je!==void 0?je[qe]:Q[qe])}var qe=arguments.length-2;if(qe===1)Ae.children=me;else if(1<qe){je=Array(qe);for(var wt=0;wt<qe;wt++)je[wt]=arguments[wt+2];Ae.children=je}return{$$typeof:n,type:U.type,key:ke,ref:De,props:Ae,_owner:Ue}},xe.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},xe.createElement=S,xe.createFactory=function(U){var Q=S.bind(null,U);return Q.type=U,Q},xe.createRef=function(){return{current:null}},xe.forwardRef=function(U){return{$$typeof:d,render:U}},xe.isValidElement=O,xe.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:Dt}},xe.memo=function(U,Q){return{$$typeof:y,type:U,compare:Q===void 0?null:Q}},xe.startTransition=function(U){var Q=oe.transition;oe.transition={};try{U()}finally{oe.transition=Q}},xe.unstable_act=le,xe.useCallback=function(U,Q){return $e.current.useCallback(U,Q)},xe.useContext=function(U){return $e.current.useContext(U)},xe.useDebugValue=function(){},xe.useDeferredValue=function(U){return $e.current.useDeferredValue(U)},xe.useEffect=function(U,Q){return $e.current.useEffect(U,Q)},xe.useId=function(){return $e.current.useId()},xe.useImperativeHandle=function(U,Q,me){return $e.current.useImperativeHandle(U,Q,me)},xe.useInsertionEffect=function(U,Q){return $e.current.useInsertionEffect(U,Q)},xe.useLayoutEffect=function(U,Q){return $e.current.useLayoutEffect(U,Q)},xe.useMemo=function(U,Q){return $e.current.useMemo(U,Q)},xe.useReducer=function(U,Q,me){return $e.current.useReducer(U,Q,me)},xe.useRef=function(U){return $e.current.useRef(U)},xe.useState=function(U){return $e.current.useState(U)},xe.useSyncExternalStore=function(U,Q,me){return $e.current.useSyncExternalStore(U,Q,me)},xe.useTransition=function(){return $e.current.useTransition()},xe.version="18.3.1",xe}var Jg;function zf(){return Jg||(Jg=1,Ud.exports=fT()),Ud.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function pT(){if(Xg)return $a;Xg=1;var n=zf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var _,E={},I=null,L=null;y!==void 0&&(I=""+y),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(L=p.ref);for(_ in p)s.call(p,_)&&!a.hasOwnProperty(_)&&(E[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)E[_]===void 0&&(E[_]=p[_]);return{$$typeof:e,type:d,key:I,ref:L,props:E,_owner:o.current}}return $a.Fragment=t,$a.jsx=c,$a.jsxs=c,$a}var Zg;function mT(){return Zg||(Zg=1,Fd.exports=pT()),Fd.exports}var k=mT(),G=zf();const on=Xv(G),gT=dT({__proto__:null,default:on},[G]);var qu={},jd={exports:{}},rn={},Bd={exports:{}},zd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function yT(){return ey||(ey=1,function(n){function e(oe,ge){var le=oe.length;oe.push(ge);e:for(;0<le;){var U=le-1>>>1,Q=oe[U];if(0<o(Q,ge))oe[U]=ge,oe[le]=Q,le=U;else break e}}function t(oe){return oe.length===0?null:oe[0]}function s(oe){if(oe.length===0)return null;var ge=oe[0],le=oe.pop();if(le!==ge){oe[0]=le;e:for(var U=0,Q=oe.length,me=Q>>>1;U<me;){var Ae=2*(U+1)-1,ke=oe[Ae],De=Ae+1,Ue=oe[De];if(0>o(ke,le))De<Q&&0>o(Ue,ke)?(oe[U]=Ue,oe[De]=le,U=De):(oe[U]=ke,oe[Ae]=le,U=Ae);else if(De<Q&&0>o(Ue,le))oe[U]=Ue,oe[De]=le,U=De;else break e}}return ge}function o(oe,ge){var le=oe.sortIndex-ge.sortIndex;return le!==0?le:oe.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],_=1,E=null,I=3,L=!1,b=!1,V=!1,P=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(oe){for(var ge=t(y);ge!==null;){if(ge.callback===null)s(y);else if(ge.startTime<=oe)s(y),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(y)}}function ee(oe){if(V=!1,Z(oe),!b)if(t(p)!==null)b=!0,Dt(fe);else{var ge=t(y);ge!==null&&$e(ee,ge.startTime-oe)}}function fe(oe,ge){b=!1,V&&(V=!1,W(S),S=-1),L=!0;var le=I;try{for(Z(ge),E=t(p);E!==null&&(!(E.expirationTime>ge)||oe&&!M());){var U=E.callback;if(typeof U=="function"){E.callback=null,I=E.priorityLevel;var Q=U(E.expirationTime<=ge);ge=n.unstable_now(),typeof Q=="function"?E.callback=Q:E===t(p)&&s(p),Z(ge)}else s(p);E=t(p)}if(E!==null)var me=!0;else{var Ae=t(y);Ae!==null&&$e(ee,Ae.startTime-ge),me=!1}return me}finally{E=null,I=le,L=!1}}var re=!1,x=null,S=-1,C=5,O=-1;function M(){return!(n.unstable_now()-O<C)}function F(){if(x!==null){var oe=n.unstable_now();O=oe;var ge=!0;try{ge=x(!0,oe)}finally{ge?A():(re=!1,x=null)}}else re=!1}var A;if(typeof Y=="function")A=function(){Y(F)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,Ot=st.port2;st.port1.onmessage=F,A=function(){Ot.postMessage(null)}}else A=function(){P(F,0)};function Dt(oe){x=oe,re||(re=!0,A())}function $e(oe,ge){S=P(function(){oe(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){b||L||(b=!0,Dt(fe))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(oe){switch(I){case 1:case 2:case 3:var ge=3;break;default:ge=I}var le=I;I=ge;try{return oe()}finally{I=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,ge){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var le=I;I=oe;try{return ge()}finally{I=le}},n.unstable_scheduleCallback=function(oe,ge,le){var U=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?U+le:U):le=U,oe){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=le+Q,oe={id:_++,callback:ge,priorityLevel:oe,startTime:le,expirationTime:Q,sortIndex:-1},le>U?(oe.sortIndex=le,e(y,oe),t(p)===null&&oe===t(y)&&(V?(W(S),S=-1):V=!0,$e(ee,le-U))):(oe.sortIndex=Q,e(p,oe),b||L||(b=!0,Dt(fe))),oe},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(oe){var ge=I;return function(){var le=I;I=ge;try{return oe.apply(this,arguments)}finally{I=le}}}}(zd)),zd}var ty;function vT(){return ty||(ty=1,Bd.exports=yT()),Bd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function _T(){if(ny)return rn;ny=1;var n=zf(),e=vT();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function I(r){return p.call(E,r)?!0:p.call(_,r)?!1:y.test(r)?E[r]=!0:(_[r]=!0,!1)}function L(r,i,l,h){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,i,l,h){if(i===null||typeof i>"u"||L(r,i,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function V(r,i,l,h,f,g,w){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=i,this.sanitizeURL=g,this.removeEmptyString=w}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){P[r]=new V(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];P[i]=new V(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){P[r]=new V(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){P[r]=new V(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){P[r]=new V(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){P[r]=new V(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){P[r]=new V(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){P[r]=new V(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){P[r]=new V(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function Y(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(W,Y);P[i]=new V(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(W,Y);P[i]=new V(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(W,Y);P[i]=new V(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){P[r]=new V(r,1,!1,r.toLowerCase(),null,!1,!1)}),P.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){P[r]=new V(r,1,!1,r.toLowerCase(),null,!0,!0)});function Z(r,i,l,h){var f=P.hasOwnProperty(i)?P[i]:null;(f!==null?f.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(b(i,l,f,h)&&(l=null),h||f===null?I(i)&&(l===null?r.removeAttribute(i):r.setAttribute(i,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(i=f.attributeName,h=f.attributeNamespace,l===null?r.removeAttribute(i):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?r.setAttributeNS(h,i,l):r.setAttribute(i,l))))}var ee=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),re=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),Ot=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=oe&&r[oe]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,U;function Q(r){if(U===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);U=i&&i[1]||""}return`
`+U+r}var me=!1;function Ae(r,i){if(!r||me)return"";me=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch($){var h=$}Reflect.construct(r,[],i)}else{try{i.call()}catch($){h=$}r.call(i.prototype)}else{try{throw Error()}catch($){h=$}r()}}catch($){if($&&h&&typeof $.stack=="string"){for(var f=$.stack.split(`
`),g=h.stack.split(`
`),w=f.length-1,R=g.length-1;1<=w&&0<=R&&f[w]!==g[R];)R--;for(;1<=w&&0<=R;w--,R--)if(f[w]!==g[R]){if(w!==1||R!==1)do if(w--,R--,0>R||f[w]!==g[R]){var N=`
`+f[w].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=w&&0<=R);break}}}finally{me=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Q(r):""}function ke(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=Ae(r.type,!1),r;case 11:return r=Ae(r.type.render,!1),r;case 1:return r=Ae(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case re:return"Portal";case C:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case st:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case O:return(r._context.displayName||"Context")+".Provider";case F:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ot:return i=r.displayName||null,i!==null?i:De(r.type)||"Memo";case Dt:i=r._payload,r=r._init;try{return De(r(i))}catch{}}return null}function Ue(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(i);case 8:return i===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function je(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function qe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wt(r){var i=qe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function gr(r){r._valueTracker||(r._valueTracker=wt(r))}function Pi(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return r&&(h=qe(r)?r.checked?"true":"false":r.value),r=h,r!==l?(i.setValue(r),!0):!1}function $r(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ms(r,i){var l=i.checked;return le({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function ki(r,i){var l=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;l=je(i.value!=null?i.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Qo(r,i){i=i.checked,i!=null&&Z(r,"checked",i,!1)}function Yo(r,i){Qo(r,i);var l=je(i.value),h=i.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?xi(r,i.type,l):i.hasOwnProperty("defaultValue")&&xi(r,i.type,je(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function xl(r,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,l||i===r.value||(r.value=i),r.defaultValue=i}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function xi(r,i,l){(i!=="number"||$r(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var yr=Array.isArray;function vr(r,i,l,h){if(r=r.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=i.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&h&&(r[l].defaultSelected=!0)}else{for(l=""+je(l),i=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function Jo(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function bi(r,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(yr(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}r._wrapperState={initialValue:je(l)}}function Ni(r,i){var l=je(i.value),h=je(i.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),i.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function Xo(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function dt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?dt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _r,Zo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,h,f){MSApp.execUnsafeLocalFunction(function(){return r(i,l,h,f)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(_r=_r||document.createElement("div"),_r.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=_r.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Hr(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Us=["Webkit","ms","Moz","O"];Object.keys(Fs).forEach(function(r){Us.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Fs[i]=Fs[r]})});function ea(r,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||Fs.hasOwnProperty(r)&&Fs[r]?(""+i).trim():i+"px"}function ta(r,i){r=r.style;for(var l in i)if(i.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=ea(l,i[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,f):r[l]=f}}var na=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ra(r,i){if(i){if(na[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function sa(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var js=null;function Oi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Di=null,wn=null,Yn=null;function Li(r){if(r=Pa(r)){if(typeof Di!="function")throw Error(t(280));var i=r.stateNode;i&&(i=ou(i),Di(r.stateNode,r.type,i))}}function Jn(r){wn?Yn?Yn.push(r):Yn=[r]:wn=r}function ia(){if(wn){var r=wn,i=Yn;if(Yn=wn=null,Li(r),i)for(r=0;r<i.length;r++)Li(i[r])}}function Bs(r,i){return r(i)}function oa(){}var wr=!1;function aa(r,i,l){if(wr)return r(i,l);wr=!0;try{return Bs(r,i,l)}finally{wr=!1,(wn!==null||Yn!==null)&&(oa(),ia())}}function it(r,i){var l=r.stateNode;if(l===null)return null;var h=ou(l);if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var Vi=!1;if(d)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{Vi=!1}function zs(r,i,l,h,f,g,w,R,N){var $=Array.prototype.slice.call(arguments,3);try{i.apply(l,$)}catch(X){this.onError(X)}}var $s=!1,Mi=null,On=!1,la=null,dh={onError:function(r){$s=!0,Mi=r}};function Fi(r,i,l,h,f,g,w,R,N){$s=!1,Mi=null,zs.apply(dh,arguments)}function bl(r,i,l,h,f,g,w,R,N){if(Fi.apply(this,arguments),$s){if($s){var $=Mi;$s=!1,Mi=null}else throw Error(t(198));On||(On=!0,la=$)}}function Dn(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function Hs(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Ln(r){if(Dn(r)!==r)throw Error(t(188))}function Nl(r){var i=r.alternate;if(!i){if(i=Dn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var l=r,h=i;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return Ln(f),r;if(g===h)return Ln(f),i;g=g.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=g;else{for(var w=!1,R=f.child;R;){if(R===l){w=!0,l=f,h=g;break}if(R===h){w=!0,h=f,l=g;break}R=R.sibling}if(!w){for(R=g.child;R;){if(R===l){w=!0,l=g,h=f;break}if(R===h){w=!0,h=g,l=f;break}R=R.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:i}function ua(r){return r=Nl(r),r!==null?Ui(r):null}function Ui(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Ui(r);if(i!==null)return i;r=r.sibling}return null}var ji=e.unstable_scheduleCallback,ca=e.unstable_cancelCallback,Ol=e.unstable_shouldYield,fh=e.unstable_requestPaint,We=e.unstable_now,Dl=e.unstable_getCurrentPriorityLevel,qs=e.unstable_ImmediatePriority,qr=e.unstable_UserBlockingPriority,En=e.unstable_NormalPriority,ha=e.unstable_LowPriority,Ll=e.unstable_IdlePriority,Ws=null,cn=null;function Vl(r){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Ws,r,void 0,(r.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Fl,da=Math.log,Ml=Math.LN2;function Fl(r){return r>>>=0,r===0?32:31-(da(r)/Ml|0)|0}var Bi=64,zi=4194304;function Wr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Gs(r,i){var l=r.pendingLanes;if(l===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,w=l&268435455;if(w!==0){var R=w&~f;R!==0?h=Wr(R):(g&=w,g!==0&&(h=Wr(g)))}else w=l&~f,w!==0?h=Wr(w):g!==0&&(h=Wr(g));if(h===0)return 0;if(i!==0&&i!==h&&(i&f)===0&&(f=h&-h,g=i&-i,f>=g||f===16&&(g&4194240)!==0))return i;if((h&4)!==0&&(h|=l&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)l=31-qt(i),f=1<<l,h|=r[l],i&=~f;return h}function ph(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Er(r,i){for(var l=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-qt(g),R=1<<w,N=f[w];N===-1?((R&l)===0||(R&h)!==0)&&(f[w]=ph(R,i)):N<=i&&(r.expiredLanes|=R),g&=~R}}function hn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ks(){var r=Bi;return Bi<<=1,(Bi&4194240)===0&&(Bi=64),r}function Gr(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Kr(r,i,l){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-qt(i),r[i]=l}function He(r,i){var l=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-qt(l),g=1<<f;i[f]=0,h[f]=-1,r[f]=-1,l&=~g}}function Qr(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var h=31-qt(l),f=1<<h;f&i|r[h]&i&&(r[h]|=i),l&=~f}}var Oe=0;function Yr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Ul,$i,jl,Bl,zl,fa=!1,Xn=[],Ct=null,Vn=null,Mn=null,Jr=new Map,Tn=new Map,Zn=[],mh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $l(r,i){switch(r){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":Jr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tn.delete(i.pointerId)}}function Yt(r,i,l,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Pa(i),i!==null&&$i(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function gh(r,i,l,h,f){switch(i){case"focusin":return Ct=Yt(Ct,r,i,l,h,f),!0;case"dragenter":return Vn=Yt(Vn,r,i,l,h,f),!0;case"mouseover":return Mn=Yt(Mn,r,i,l,h,f),!0;case"pointerover":var g=f.pointerId;return Jr.set(g,Yt(Jr.get(g)||null,r,i,l,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Tn.set(g,Yt(Tn.get(g)||null,r,i,l,h,f)),!0}return!1}function Hl(r){var i=Zs(r.target);if(i!==null){var l=Dn(i);if(l!==null){if(i=l.tag,i===13){if(i=Hs(l),i!==null){r.blockedOn=i,zl(r.priority,function(){jl(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Tr(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=Hi(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);js=h,l.target.dispatchEvent(h),js=null}else return i=Pa(l),i!==null&&$i(i),r.blockedOn=l,!1;i.shift()}return!0}function Qs(r,i,l){Tr(r)&&l.delete(i)}function ql(){fa=!1,Ct!==null&&Tr(Ct)&&(Ct=null),Vn!==null&&Tr(Vn)&&(Vn=null),Mn!==null&&Tr(Mn)&&(Mn=null),Jr.forEach(Qs),Tn.forEach(Qs)}function Fn(r,i){r.blockedOn===i&&(r.blockedOn=null,fa||(fa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ql)))}function Un(r){function i(f){return Fn(f,r)}if(0<Xn.length){Fn(Xn[0],r);for(var l=1;l<Xn.length;l++){var h=Xn[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Ct!==null&&Fn(Ct,r),Vn!==null&&Fn(Vn,r),Mn!==null&&Fn(Mn,r),Jr.forEach(i),Tn.forEach(i),l=0;l<Zn.length;l++)h=Zn[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<Zn.length&&(l=Zn[0],l.blockedOn===null);)Hl(l),l.blockedOn===null&&Zn.shift()}var Ir=ee.ReactCurrentBatchConfig,Xr=!0;function Ye(r,i,l,h){var f=Oe,g=Ir.transition;Ir.transition=null;try{Oe=1,pa(r,i,l,h)}finally{Oe=f,Ir.transition=g}}function yh(r,i,l,h){var f=Oe,g=Ir.transition;Ir.transition=null;try{Oe=4,pa(r,i,l,h)}finally{Oe=f,Ir.transition=g}}function pa(r,i,l,h){if(Xr){var f=Hi(r,i,l,h);if(f===null)Ph(r,i,h,Ys,l),$l(r,h);else if(gh(f,r,i,l,h))h.stopPropagation();else if($l(r,h),i&4&&-1<mh.indexOf(r)){for(;f!==null;){var g=Pa(f);if(g!==null&&Ul(g),g=Hi(r,i,l,h),g===null&&Ph(r,i,h,Ys,l),g===f)break;f=g}f!==null&&h.stopPropagation()}else Ph(r,i,h,null,l)}}var Ys=null;function Hi(r,i,l,h){if(Ys=null,r=Oi(h),r=Zs(r),r!==null)if(i=Dn(r),i===null)r=null;else if(l=i.tag,l===13){if(r=Hs(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Ys=r,null}function ma(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dl()){case qs:return 1;case qr:return 4;case En:case ha:return 16;case Ll:return 536870912;default:return 16}default:return 16}}var dn=null,qi=null,Jt=null;function ga(){if(Jt)return Jt;var r,i=qi,l=i.length,h,f="value"in dn?dn.value:dn.textContent,g=f.length;for(r=0;r<l&&i[r]===f[r];r++);var w=l-r;for(h=1;h<=w&&i[l-h]===f[g-h];h++);return Jt=f.slice(r,1<h?1-h:void 0)}function Wi(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function er(){return!0}function ya(){return!1}function At(r){function i(l,h,f,g,w){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?er:ya,this.isPropagationStopped=ya,this}return le(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),i}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=At(jn),tr=le({},jn,{view:0,detail:0}),vh=At(tr),Ki,Sr,Zr,Js=le({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Zr&&(Zr&&r.type==="mousemove"?(Ki=r.screenX-Zr.screenX,Sr=r.screenY-Zr.screenY):Sr=Ki=0,Zr=r),Ki)},movementY:function(r){return"movementY"in r?r.movementY:Sr}}),Qi=At(Js),va=le({},Js,{dataTransfer:0}),Wl=At(va),Yi=le({},tr,{relatedTarget:0}),Ji=At(Yi),Gl=le({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Rr=At(Gl),Kl=le({},jn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ql=At(Kl),Yl=le({},jn,{data:0}),_a=At(Yl),Xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Jl[r])?!!i[r]:!1}function nr(){return Xl}var u=le({},tr,{key:function(r){if(r.key){var i=Xi[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Wi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Wt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(r){return r.type==="keypress"?Wi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=At(u),v=le({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=At(v),j=le({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),H=At(j),ie=le({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=At(ie),pt=le({},Js,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=At(pt),Et=[9,13,27,32],lt=d&&"CompositionEvent"in window,In=null;d&&"documentMode"in document&&(In=document.documentMode);var fn=d&&"TextEvent"in window&&!In,Xs=d&&(!lt||In&&8<In&&11>=In),Zi=" ",Hp=!1;function qp(r,i){switch(r){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var eo=!1;function uE(r,i){switch(r){case"compositionend":return Wp(i);case"keypress":return i.which!==32?null:(Hp=!0,Zi);case"textInput":return r=i.data,r===Zi&&Hp?null:r;default:return null}}function cE(r,i){if(eo)return r==="compositionend"||!lt&&qp(r,i)?(r=ga(),Jt=qi=dn=null,eo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Xs&&i.locale!=="ko"?null:i.data;default:return null}}var hE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!hE[r.type]:i==="textarea"}function Kp(r,i,l,h){Jn(h),i=ru(i,"onChange"),0<i.length&&(l=new Gi("onChange","change",null,l,h),r.push({event:l,listeners:i}))}var wa=null,Ea=null;function dE(r){dm(r,0)}function Zl(r){var i=io(r);if(Pi(i))return r}function fE(r,i){if(r==="change")return i}var Qp=!1;if(d){var _h;if(d){var wh="oninput"in document;if(!wh){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),wh=typeof Yp.oninput=="function"}_h=wh}else _h=!1;Qp=_h&&(!document.documentMode||9<document.documentMode)}function Jp(){wa&&(wa.detachEvent("onpropertychange",Xp),Ea=wa=null)}function Xp(r){if(r.propertyName==="value"&&Zl(Ea)){var i=[];Kp(i,Ea,r,Oi(r)),aa(dE,i)}}function pE(r,i,l){r==="focusin"?(Jp(),wa=i,Ea=l,wa.attachEvent("onpropertychange",Xp)):r==="focusout"&&Jp()}function mE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Zl(Ea)}function gE(r,i){if(r==="click")return Zl(i)}function yE(r,i){if(r==="input"||r==="change")return Zl(i)}function vE(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Bn=typeof Object.is=="function"?Object.is:vE;function Ta(r,i){if(Bn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!p.call(i,f)||!Bn(r[f],i[f]))return!1}return!0}function Zp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function em(r,i){var l=Zp(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=i&&h>=i)return{node:l,offset:i-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Zp(l)}}function tm(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?tm(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function nm(){for(var r=window,i=$r();i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=$r(r.document)}return i}function Eh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function _E(r){var i=nm(),l=r.focusedElem,h=r.selectionRange;if(i!==l&&l&&l.ownerDocument&&tm(l.ownerDocument.documentElement,l)){if(h!==null&&Eh(l)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(r,l.value.length);else if(r=(i=l.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=em(l,g);var w=em(l,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(i),r.extend(w.node,w.offset)):(i.setEnd(w.node,w.offset),r.addRange(i)))}}for(i=[],r=l;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)r=i[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var wE=d&&"documentMode"in document&&11>=document.documentMode,to=null,Th=null,Ia=null,Ih=!1;function rm(r,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ih||to==null||to!==$r(h)||(h=to,"selectionStart"in h&&Eh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ia&&Ta(Ia,h)||(Ia=h,h=ru(Th,"onSelect"),0<h.length&&(i=new Gi("onSelect","select",null,i,l),r.push({event:i,listeners:h}),i.target=to)))}function eu(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var no={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},Sh={},sm={};d&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function tu(r){if(Sh[r])return Sh[r];if(!no[r])return r;var i=no[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in sm)return Sh[r]=i[l];return r}var im=tu("animationend"),om=tu("animationiteration"),am=tu("animationstart"),lm=tu("transitionend"),um=new Map,cm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(r,i){um.set(r,i),a(i,[r])}for(var Rh=0;Rh<cm.length;Rh++){var Ch=cm[Rh],EE=Ch.toLowerCase(),TE=Ch[0].toUpperCase()+Ch.slice(1);es(EE,"on"+TE)}es(im,"onAnimationEnd"),es(om,"onAnimationIteration"),es(am,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(lm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function hm(r,i,l){var h=r.type||"unknown-event";r.currentTarget=l,bl(h,i,void 0,r),r.currentTarget=null}function dm(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],f=h.event;h=h.listeners;e:{var g=void 0;if(i)for(var w=h.length-1;0<=w;w--){var R=h[w],N=R.instance,$=R.currentTarget;if(R=R.listener,N!==g&&f.isPropagationStopped())break e;hm(f,R,$),g=N}else for(w=0;w<h.length;w++){if(R=h[w],N=R.instance,$=R.currentTarget,R=R.listener,N!==g&&f.isPropagationStopped())break e;hm(f,R,$),g=N}}}if(On)throw r=la,On=!1,la=null,r}function Ke(r,i){var l=i[Dh];l===void 0&&(l=i[Dh]=new Set);var h=r+"__bubble";l.has(h)||(fm(i,r,2,!1),l.add(h))}function Ah(r,i,l){var h=0;i&&(h|=4),fm(l,r,h,i)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Ra(r){if(!r[nu]){r[nu]=!0,s.forEach(function(l){l!=="selectionchange"&&(IE.has(l)||Ah(l,!1,r),Ah(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[nu]||(i[nu]=!0,Ah("selectionchange",!1,i))}}function fm(r,i,l,h){switch(ma(i)){case 1:var f=Ye;break;case 4:f=yh;break;default:f=pa}l=f.bind(null,i,l,r),f=void 0,!Vi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(i,l,{capture:!0,passive:f}):r.addEventListener(i,l,!0):f!==void 0?r.addEventListener(i,l,{passive:f}):r.addEventListener(i,l,!1)}function Ph(r,i,l,h,f){var g=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var R=h.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var N=w.tag;if((N===3||N===4)&&(N=w.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;w=w.return}for(;R!==null;){if(w=Zs(R),w===null)return;if(N=w.tag,N===5||N===6){h=g=w;continue e}R=R.parentNode}}h=h.return}aa(function(){var $=g,X=Oi(l),te=[];e:{var J=um.get(r);if(J!==void 0){var ae=Gi,he=r;switch(r){case"keypress":if(Wi(l)===0)break e;case"keydown":case"keyup":ae=m;break;case"focusin":he="focus",ae=Ji;break;case"focusout":he="blur",ae=Ji;break;case"beforeblur":case"afterblur":ae=Ji;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=H;break;case im:case om:case am:ae=Rr;break;case lm:ae=ze;break;case"scroll":ae=vh;break;case"wheel":ae=Le;break;case"copy":case"cut":case"paste":ae=Ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=T}var de=(i&4)!==0,ot=!de&&r==="scroll",B=de?J!==null?J+"Capture":null:J;de=[];for(var D=$,z;D!==null;){z=D;var se=z.stateNode;if(z.tag===5&&se!==null&&(z=se,B!==null&&(se=it(D,B),se!=null&&de.push(Ca(D,se,z)))),ot)break;D=D.return}0<de.length&&(J=new ae(J,he,null,l,X),te.push({event:J,listeners:de}))}}if((i&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",J&&l!==js&&(he=l.relatedTarget||l.fromElement)&&(Zs(he)||he[Cr]))break e;if((ae||J)&&(J=X.window===X?X:(J=X.ownerDocument)?J.defaultView||J.parentWindow:window,ae?(he=l.relatedTarget||l.toElement,ae=$,he=he?Zs(he):null,he!==null&&(ot=Dn(he),he!==ot||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=$),ae!==he)){if(de=Qi,se="onMouseLeave",B="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(de=T,se="onPointerLeave",B="onPointerEnter",D="pointer"),ot=ae==null?J:io(ae),z=he==null?J:io(he),J=new de(se,D+"leave",ae,l,X),J.target=ot,J.relatedTarget=z,se=null,Zs(X)===$&&(de=new de(B,D+"enter",he,l,X),de.target=z,de.relatedTarget=ot,se=de),ot=se,ae&&he)t:{for(de=ae,B=he,D=0,z=de;z;z=ro(z))D++;for(z=0,se=B;se;se=ro(se))z++;for(;0<D-z;)de=ro(de),D--;for(;0<z-D;)B=ro(B),z--;for(;D--;){if(de===B||B!==null&&de===B.alternate)break t;de=ro(de),B=ro(B)}de=null}else de=null;ae!==null&&pm(te,J,ae,de,!1),he!==null&&ot!==null&&pm(te,ot,he,de,!0)}}e:{if(J=$?io($):window,ae=J.nodeName&&J.nodeName.toLowerCase(),ae==="select"||ae==="input"&&J.type==="file")var pe=fE;else if(Gp(J))if(Qp)pe=yE;else{pe=mE;var ye=pE}else(ae=J.nodeName)&&ae.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(pe=gE);if(pe&&(pe=pe(r,$))){Kp(te,pe,l,X);break e}ye&&ye(r,J,$),r==="focusout"&&(ye=J._wrapperState)&&ye.controlled&&J.type==="number"&&xi(J,"number",J.value)}switch(ye=$?io($):window,r){case"focusin":(Gp(ye)||ye.contentEditable==="true")&&(to=ye,Th=$,Ia=null);break;case"focusout":Ia=Th=to=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,rm(te,l,X);break;case"selectionchange":if(wE)break;case"keydown":case"keyup":rm(te,l,X)}var ve;if(lt)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else eo?qp(r,l)&&(Ie="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(Xs&&l.locale!=="ko"&&(eo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&eo&&(ve=ga()):(dn=X,qi="value"in dn?dn.value:dn.textContent,eo=!0)),ye=ru($,Ie),0<ye.length&&(Ie=new _a(Ie,r,null,l,X),te.push({event:Ie,listeners:ye}),ve?Ie.data=ve:(ve=Wp(l),ve!==null&&(Ie.data=ve)))),(ve=fn?uE(r,l):cE(r,l))&&($=ru($,"onBeforeInput"),0<$.length&&(X=new _a("onBeforeInput","beforeinput",null,l,X),te.push({event:X,listeners:$}),X.data=ve))}dm(te,i)})}function Ca(r,i,l){return{instance:r,listener:i,currentTarget:l}}function ru(r,i){for(var l=i+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=it(r,l),g!=null&&h.unshift(Ca(r,g,f)),g=it(r,i),g!=null&&h.push(Ca(r,g,f))),r=r.return}return h}function ro(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function pm(r,i,l,h,f){for(var g=i._reactName,w=[];l!==null&&l!==h;){var R=l,N=R.alternate,$=R.stateNode;if(N!==null&&N===h)break;R.tag===5&&$!==null&&(R=$,f?(N=it(l,g),N!=null&&w.unshift(Ca(l,N,R))):f||(N=it(l,g),N!=null&&w.push(Ca(l,N,R)))),l=l.return}w.length!==0&&r.push({event:i,listeners:w})}var SE=/\r\n?/g,RE=/\u0000|\uFFFD/g;function mm(r){return(typeof r=="string"?r:""+r).replace(SE,`
`).replace(RE,"")}function su(r,i,l){if(i=mm(i),mm(r)!==i&&l)throw Error(t(425))}function iu(){}var kh=null,xh=null;function bh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nh=typeof setTimeout=="function"?setTimeout:void 0,CE=typeof clearTimeout=="function"?clearTimeout:void 0,gm=typeof Promise=="function"?Promise:void 0,AE=typeof queueMicrotask=="function"?queueMicrotask:typeof gm<"u"?function(r){return gm.resolve(null).then(r).catch(PE)}:Nh;function PE(r){setTimeout(function(){throw r})}function Oh(r,i){var l=i,h=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){r.removeChild(f),Un(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);Un(i)}function ts(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function ym(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}var so=Math.random().toString(36).slice(2),rr="__reactFiber$"+so,Aa="__reactProps$"+so,Cr="__reactContainer$"+so,Dh="__reactEvents$"+so,kE="__reactListeners$"+so,xE="__reactHandles$"+so;function Zs(r){var i=r[rr];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Cr]||l[rr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=ym(r);r!==null;){if(l=r[rr])return l;r=ym(r)}return i}r=l,l=r.parentNode}return null}function Pa(r){return r=r[rr]||r[Cr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function io(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function ou(r){return r[Aa]||null}var Lh=[],oo=-1;function ns(r){return{current:r}}function Qe(r){0>oo||(r.current=Lh[oo],Lh[oo]=null,oo--)}function Ge(r,i){oo++,Lh[oo]=r.current,r.current=i}var rs={},Lt=ns(rs),Xt=ns(!1),ei=rs;function ao(r,i){var l=r.type.contextTypes;if(!l)return rs;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=i[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=f),f}function Zt(r){return r=r.childContextTypes,r!=null}function au(){Qe(Xt),Qe(Lt)}function vm(r,i,l){if(Lt.current!==rs)throw Error(t(168));Ge(Lt,i),Ge(Xt,l)}function _m(r,i,l){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in i))throw Error(t(108,Ue(r)||"Unknown",f));return le({},l,h)}function lu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||rs,ei=Lt.current,Ge(Lt,r),Ge(Xt,Xt.current),!0}function wm(r,i,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=_m(r,i,ei),h.__reactInternalMemoizedMergedChildContext=r,Qe(Xt),Qe(Lt),Ge(Lt,r)):Qe(Xt),Ge(Xt,l)}var Ar=null,uu=!1,Vh=!1;function Em(r){Ar===null?Ar=[r]:Ar.push(r)}function bE(r){uu=!0,Em(r)}function ss(){if(!Vh&&Ar!==null){Vh=!0;var r=0,i=Oe;try{var l=Ar;for(Oe=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Ar=null,uu=!1}catch(f){throw Ar!==null&&(Ar=Ar.slice(r+1)),ji(qs,ss),f}finally{Oe=i,Vh=!1}}return null}var lo=[],uo=0,cu=null,hu=0,Sn=[],Rn=0,ti=null,Pr=1,kr="";function ni(r,i){lo[uo++]=hu,lo[uo++]=cu,cu=r,hu=i}function Tm(r,i,l){Sn[Rn++]=Pr,Sn[Rn++]=kr,Sn[Rn++]=ti,ti=r;var h=Pr;r=kr;var f=32-qt(h)-1;h&=~(1<<f),l+=1;var g=32-qt(i)+f;if(30<g){var w=f-f%5;g=(h&(1<<w)-1).toString(32),h>>=w,f-=w,Pr=1<<32-qt(i)+f|l<<f|h,kr=g+r}else Pr=1<<g|l<<f|h,kr=r}function Mh(r){r.return!==null&&(ni(r,1),Tm(r,1,0))}function Fh(r){for(;r===cu;)cu=lo[--uo],lo[uo]=null,hu=lo[--uo],lo[uo]=null;for(;r===ti;)ti=Sn[--Rn],Sn[Rn]=null,kr=Sn[--Rn],Sn[Rn]=null,Pr=Sn[--Rn],Sn[Rn]=null}var pn=null,mn=null,Je=!1,zn=null;function Im(r,i){var l=kn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=r,i=r.deletions,i===null?(r.deletions=[l],r.flags|=16):i.push(l)}function Sm(r,i){switch(r.tag){case 5:var l=r.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,pn=r,mn=ts(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,pn=r,mn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=ti!==null?{id:Pr,overflow:kr}:null,r.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=kn(18,null,null,0),l.stateNode=i,l.return=r,r.child=l,pn=r,mn=null,!0):!1;default:return!1}}function Uh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function jh(r){if(Je){var i=mn;if(i){var l=i;if(!Sm(r,i)){if(Uh(r))throw Error(t(418));i=ts(l.nextSibling);var h=pn;i&&Sm(r,i)?Im(h,l):(r.flags=r.flags&-4097|2,Je=!1,pn=r)}}else{if(Uh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Je=!1,pn=r}}}function Rm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function du(r){if(r!==pn)return!1;if(!Je)return Rm(r),Je=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!bh(r.type,r.memoizedProps)),i&&(i=mn)){if(Uh(r))throw Cm(),Error(t(418));for(;i;)Im(r,i),i=ts(i.nextSibling)}if(Rm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(i===0){mn=ts(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}r=r.nextSibling}mn=null}}else mn=pn?ts(r.stateNode.nextSibling):null;return!0}function Cm(){for(var r=mn;r;)r=ts(r.nextSibling)}function co(){mn=pn=null,Je=!1}function Bh(r){zn===null?zn=[r]:zn.push(r)}var NE=ee.ReactCurrentBatchConfig;function ka(r,i,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(w){var R=f.refs;w===null?delete R[g]:R[g]=w},i._stringRef=g,i)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function fu(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Am(r){var i=r._init;return i(r._payload)}function Pm(r){function i(B,D){if(r){var z=B.deletions;z===null?(B.deletions=[D],B.flags|=16):z.push(D)}}function l(B,D){if(!r)return null;for(;D!==null;)i(B,D),D=D.sibling;return null}function h(B,D){for(B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function f(B,D){return B=ds(B,D),B.index=0,B.sibling=null,B}function g(B,D,z){return B.index=z,r?(z=B.alternate,z!==null?(z=z.index,z<D?(B.flags|=2,D):z):(B.flags|=2,D)):(B.flags|=1048576,D)}function w(B){return r&&B.alternate===null&&(B.flags|=2),B}function R(B,D,z,se){return D===null||D.tag!==6?(D=Nd(z,B.mode,se),D.return=B,D):(D=f(D,z),D.return=B,D)}function N(B,D,z,se){var pe=z.type;return pe===x?X(B,D,z.props.children,se,z.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Dt&&Am(pe)===D.type)?(se=f(D,z.props),se.ref=ka(B,D,z),se.return=B,se):(se=Mu(z.type,z.key,z.props,null,B.mode,se),se.ref=ka(B,D,z),se.return=B,se)}function $(B,D,z,se){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Od(z,B.mode,se),D.return=B,D):(D=f(D,z.children||[]),D.return=B,D)}function X(B,D,z,se,pe){return D===null||D.tag!==7?(D=ci(z,B.mode,se,pe),D.return=B,D):(D=f(D,z),D.return=B,D)}function te(B,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Nd(""+D,B.mode,z),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case fe:return z=Mu(D.type,D.key,D.props,null,B.mode,z),z.ref=ka(B,null,D),z.return=B,z;case re:return D=Od(D,B.mode,z),D.return=B,D;case Dt:var se=D._init;return te(B,se(D._payload),z)}if(yr(D)||ge(D))return D=ci(D,B.mode,z,null),D.return=B,D;fu(B,D)}return null}function J(B,D,z,se){var pe=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return pe!==null?null:R(B,D,""+z,se);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case fe:return z.key===pe?N(B,D,z,se):null;case re:return z.key===pe?$(B,D,z,se):null;case Dt:return pe=z._init,J(B,D,pe(z._payload),se)}if(yr(z)||ge(z))return pe!==null?null:X(B,D,z,se,null);fu(B,z)}return null}function ae(B,D,z,se,pe){if(typeof se=="string"&&se!==""||typeof se=="number")return B=B.get(z)||null,R(D,B,""+se,pe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case fe:return B=B.get(se.key===null?z:se.key)||null,N(D,B,se,pe);case re:return B=B.get(se.key===null?z:se.key)||null,$(D,B,se,pe);case Dt:var ye=se._init;return ae(B,D,z,ye(se._payload),pe)}if(yr(se)||ge(se))return B=B.get(z)||null,X(D,B,se,pe,null);fu(D,se)}return null}function he(B,D,z,se){for(var pe=null,ye=null,ve=D,Ie=D=0,St=null;ve!==null&&Ie<z.length;Ie++){ve.index>Ie?(St=ve,ve=null):St=ve.sibling;var Fe=J(B,ve,z[Ie],se);if(Fe===null){ve===null&&(ve=St);break}r&&ve&&Fe.alternate===null&&i(B,ve),D=g(Fe,D,Ie),ye===null?pe=Fe:ye.sibling=Fe,ye=Fe,ve=St}if(Ie===z.length)return l(B,ve),Je&&ni(B,Ie),pe;if(ve===null){for(;Ie<z.length;Ie++)ve=te(B,z[Ie],se),ve!==null&&(D=g(ve,D,Ie),ye===null?pe=ve:ye.sibling=ve,ye=ve);return Je&&ni(B,Ie),pe}for(ve=h(B,ve);Ie<z.length;Ie++)St=ae(ve,B,Ie,z[Ie],se),St!==null&&(r&&St.alternate!==null&&ve.delete(St.key===null?Ie:St.key),D=g(St,D,Ie),ye===null?pe=St:ye.sibling=St,ye=St);return r&&ve.forEach(function(fs){return i(B,fs)}),Je&&ni(B,Ie),pe}function de(B,D,z,se){var pe=ge(z);if(typeof pe!="function")throw Error(t(150));if(z=pe.call(z),z==null)throw Error(t(151));for(var ye=pe=null,ve=D,Ie=D=0,St=null,Fe=z.next();ve!==null&&!Fe.done;Ie++,Fe=z.next()){ve.index>Ie?(St=ve,ve=null):St=ve.sibling;var fs=J(B,ve,Fe.value,se);if(fs===null){ve===null&&(ve=St);break}r&&ve&&fs.alternate===null&&i(B,ve),D=g(fs,D,Ie),ye===null?pe=fs:ye.sibling=fs,ye=fs,ve=St}if(Fe.done)return l(B,ve),Je&&ni(B,Ie),pe;if(ve===null){for(;!Fe.done;Ie++,Fe=z.next())Fe=te(B,Fe.value,se),Fe!==null&&(D=g(Fe,D,Ie),ye===null?pe=Fe:ye.sibling=Fe,ye=Fe);return Je&&ni(B,Ie),pe}for(ve=h(B,ve);!Fe.done;Ie++,Fe=z.next())Fe=ae(ve,B,Ie,Fe.value,se),Fe!==null&&(r&&Fe.alternate!==null&&ve.delete(Fe.key===null?Ie:Fe.key),D=g(Fe,D,Ie),ye===null?pe=Fe:ye.sibling=Fe,ye=Fe);return r&&ve.forEach(function(hT){return i(B,hT)}),Je&&ni(B,Ie),pe}function ot(B,D,z,se){if(typeof z=="object"&&z!==null&&z.type===x&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case fe:e:{for(var pe=z.key,ye=D;ye!==null;){if(ye.key===pe){if(pe=z.type,pe===x){if(ye.tag===7){l(B,ye.sibling),D=f(ye,z.props.children),D.return=B,B=D;break e}}else if(ye.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Dt&&Am(pe)===ye.type){l(B,ye.sibling),D=f(ye,z.props),D.ref=ka(B,ye,z),D.return=B,B=D;break e}l(B,ye);break}else i(B,ye);ye=ye.sibling}z.type===x?(D=ci(z.props.children,B.mode,se,z.key),D.return=B,B=D):(se=Mu(z.type,z.key,z.props,null,B.mode,se),se.ref=ka(B,D,z),se.return=B,B=se)}return w(B);case re:e:{for(ye=z.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){l(B,D.sibling),D=f(D,z.children||[]),D.return=B,B=D;break e}else{l(B,D);break}else i(B,D);D=D.sibling}D=Od(z,B.mode,se),D.return=B,B=D}return w(B);case Dt:return ye=z._init,ot(B,D,ye(z._payload),se)}if(yr(z))return he(B,D,z,se);if(ge(z))return de(B,D,z,se);fu(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(l(B,D.sibling),D=f(D,z),D.return=B,B=D):(l(B,D),D=Nd(z,B.mode,se),D.return=B,B=D),w(B)):l(B,D)}return ot}var ho=Pm(!0),km=Pm(!1),pu=ns(null),mu=null,fo=null,zh=null;function $h(){zh=fo=mu=null}function Hh(r){var i=pu.current;Qe(pu),r._currentValue=i}function qh(r,i,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===l)break;r=r.return}}function po(r,i){mu=r,zh=fo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(en=!0),r.firstContext=null)}function Cn(r){var i=r._currentValue;if(zh!==r)if(r={context:r,memoizedValue:i,next:null},fo===null){if(mu===null)throw Error(t(308));fo=r,mu.dependencies={lanes:0,firstContext:r}}else fo=fo.next=r;return i}var ri=null;function Wh(r){ri===null?ri=[r]:ri.push(r)}function xm(r,i,l,h){var f=i.interleaved;return f===null?(l.next=l,Wh(i)):(l.next=f.next,f.next=l),i.interleaved=l,xr(r,h)}function xr(r,i){r.lanes|=i;var l=r.alternate;for(l!==null&&(l.lanes|=i),l=r,r=r.return;r!==null;)r.childLanes|=i,l=r.alternate,l!==null&&(l.childLanes|=i),l=r,r=r.return;return l.tag===3?l.stateNode:null}var is=!1;function Gh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function br(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function os(r,i,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Me&2)!==0){var f=h.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),h.pending=i,xr(r,l)}return f=h.interleaved,f===null?(i.next=i,Wh(h)):(i.next=f.next,f.next=i),h.interleaved=i,xr(r,l)}function gu(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,Qr(r,l)}}function Nm(r,i){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?f=g=i:g=g.next=i}else f=g=i;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}function yu(r,i,l,h){var f=r.updateQueue;is=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var N=R,$=N.next;N.next=null,w===null?g=$:w.next=$,w=N;var X=r.alternate;X!==null&&(X=X.updateQueue,R=X.lastBaseUpdate,R!==w&&(R===null?X.firstBaseUpdate=$:R.next=$,X.lastBaseUpdate=N))}if(g!==null){var te=f.baseState;w=0,X=$=N=null,R=g;do{var J=R.lane,ae=R.eventTime;if((h&J)===J){X!==null&&(X=X.next={eventTime:ae,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var he=r,de=R;switch(J=i,ae=l,de.tag){case 1:if(he=de.payload,typeof he=="function"){te=he.call(ae,te,J);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,J=typeof he=="function"?he.call(ae,te,J):he,J==null)break e;te=le({},te,J);break e;case 2:is=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,J=f.effects,J===null?f.effects=[R]:J.push(R))}else ae={eventTime:ae,lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},X===null?($=X=ae,N=te):X=X.next=ae,w|=J;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;J=R,R=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(X===null&&(N=te),f.baseState=N,f.firstBaseUpdate=$,f.lastBaseUpdate=X,i=f.shared.interleaved,i!==null){f=i;do w|=f.lane,f=f.next;while(f!==i)}else g===null&&(f.shared.lanes=0);oi|=w,r.lanes=w,r.memoizedState=te}}function Om(r,i,l){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var xa={},sr=ns(xa),ba=ns(xa),Na=ns(xa);function si(r){if(r===xa)throw Error(t(174));return r}function Kh(r,i){switch(Ge(Na,i),Ge(ba,r),Ge(sr,xa),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ft(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=ft(i,r)}Qe(sr),Ge(sr,i)}function mo(){Qe(sr),Qe(ba),Qe(Na)}function Dm(r){si(Na.current);var i=si(sr.current),l=ft(i,r.type);i!==l&&(Ge(ba,r),Ge(sr,l))}function Qh(r){ba.current===r&&(Qe(sr),Qe(ba))}var Xe=ns(0);function vu(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yh=[];function Jh(){for(var r=0;r<Yh.length;r++)Yh[r]._workInProgressVersionPrimary=null;Yh.length=0}var _u=ee.ReactCurrentDispatcher,Xh=ee.ReactCurrentBatchConfig,ii=0,Ze=null,mt=null,Tt=null,wu=!1,Oa=!1,Da=0,OE=0;function Vt(){throw Error(t(321))}function Zh(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Bn(r[l],i[l]))return!1;return!0}function ed(r,i,l,h,f,g){if(ii=g,Ze=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,_u.current=r===null||r.memoizedState===null?ME:FE,r=l(h,f),Oa){g=0;do{if(Oa=!1,Da=0,25<=g)throw Error(t(301));g+=1,Tt=mt=null,i.updateQueue=null,_u.current=UE,r=l(h,f)}while(Oa)}if(_u.current=Iu,i=mt!==null&&mt.next!==null,ii=0,Tt=mt=Ze=null,wu=!1,i)throw Error(t(300));return r}function td(){var r=Da!==0;return Da=0,r}function ir(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ze.memoizedState=Tt=r:Tt=Tt.next=r,Tt}function An(){if(mt===null){var r=Ze.alternate;r=r!==null?r.memoizedState:null}else r=mt.next;var i=Tt===null?Ze.memoizedState:Tt.next;if(i!==null)Tt=i,mt=r;else{if(r===null)throw Error(t(310));mt=r,r={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Tt===null?Ze.memoizedState=Tt=r:Tt=Tt.next=r}return Tt}function La(r,i){return typeof i=="function"?i(r):i}function nd(r){var i=An(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=mt,f=h.baseQueue,g=l.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}h.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,h=h.baseState;var R=w=null,N=null,$=g;do{var X=$.lane;if((ii&X)===X)N!==null&&(N=N.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:r(h,$.action);else{var te={lane:X,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};N===null?(R=N=te,w=h):N=N.next=te,Ze.lanes|=X,oi|=X}$=$.next}while($!==null&&$!==g);N===null?w=h:N.next=R,Bn(h,i.memoizedState)||(en=!0),i.memoizedState=h,i.baseState=w,i.baseQueue=N,l.lastRenderedState=h}if(r=l.interleaved,r!==null){f=r;do g=f.lane,Ze.lanes|=g,oi|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function rd(r){var i=An(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,f=l.pending,g=i.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);Bn(g,i.memoizedState)||(en=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,h]}function Lm(){}function Vm(r,i){var l=Ze,h=An(),f=i(),g=!Bn(h.memoizedState,f);if(g&&(h.memoizedState=f,en=!0),h=h.queue,sd(Um.bind(null,l,h,r),[r]),h.getSnapshot!==i||g||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,Va(9,Fm.bind(null,l,h,f,i),void 0,null),It===null)throw Error(t(349));(ii&30)!==0||Mm(l,i,f)}return f}function Mm(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Ze.updateQueue,i===null?(i={lastEffect:null,stores:null},Ze.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function Fm(r,i,l,h){i.value=l,i.getSnapshot=h,jm(i)&&Bm(r)}function Um(r,i,l){return l(function(){jm(i)&&Bm(r)})}function jm(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Bn(r,l)}catch{return!0}}function Bm(r){var i=xr(r,1);i!==null&&Wn(i,r,1,-1)}function zm(r){var i=ir();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:r},i.queue=r,r=r.dispatch=VE.bind(null,Ze,r),[i.memoizedState,r]}function Va(r,i,l,h){return r={tag:r,create:i,destroy:l,deps:h,next:null},i=Ze.updateQueue,i===null?(i={lastEffect:null,stores:null},Ze.updateQueue=i,i.lastEffect=r.next=r):(l=i.lastEffect,l===null?i.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,i.lastEffect=r)),r}function $m(){return An().memoizedState}function Eu(r,i,l,h){var f=ir();Ze.flags|=r,f.memoizedState=Va(1|i,l,void 0,h===void 0?null:h)}function Tu(r,i,l,h){var f=An();h=h===void 0?null:h;var g=void 0;if(mt!==null){var w=mt.memoizedState;if(g=w.destroy,h!==null&&Zh(h,w.deps)){f.memoizedState=Va(i,l,g,h);return}}Ze.flags|=r,f.memoizedState=Va(1|i,l,g,h)}function Hm(r,i){return Eu(8390656,8,r,i)}function sd(r,i){return Tu(2048,8,r,i)}function qm(r,i){return Tu(4,2,r,i)}function Wm(r,i){return Tu(4,4,r,i)}function Gm(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Km(r,i,l){return l=l!=null?l.concat([r]):null,Tu(4,4,Gm.bind(null,i,r),l)}function id(){}function Qm(r,i){var l=An();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Zh(i,h[1])?h[0]:(l.memoizedState=[r,i],r)}function Ym(r,i){var l=An();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&Zh(i,h[1])?h[0]:(r=r(),l.memoizedState=[r,i],r)}function Jm(r,i,l){return(ii&21)===0?(r.baseState&&(r.baseState=!1,en=!0),r.memoizedState=l):(Bn(l,i)||(l=Ks(),Ze.lanes|=l,oi|=l,r.baseState=!0),i)}function DE(r,i){var l=Oe;Oe=l!==0&&4>l?l:4,r(!0);var h=Xh.transition;Xh.transition={};try{r(!1),i()}finally{Oe=l,Xh.transition=h}}function Xm(){return An().memoizedState}function LE(r,i,l){var h=cs(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Zm(r))eg(i,l);else if(l=xm(r,i,l,h),l!==null){var f=Kt();Wn(l,r,h,f),tg(l,i,h)}}function VE(r,i,l){var h=cs(r),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zm(r))eg(i,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var w=i.lastRenderedState,R=g(w,l);if(f.hasEagerState=!0,f.eagerState=R,Bn(R,w)){var N=i.interleaved;N===null?(f.next=f,Wh(i)):(f.next=N.next,N.next=f),i.interleaved=f;return}}catch{}finally{}l=xm(r,i,f,h),l!==null&&(f=Kt(),Wn(l,r,h,f),tg(l,i,h))}}function Zm(r){var i=r.alternate;return r===Ze||i!==null&&i===Ze}function eg(r,i){Oa=wu=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function tg(r,i,l){if((l&4194240)!==0){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,Qr(r,l)}}var Iu={readContext:Cn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},ME={readContext:Cn,useCallback:function(r,i){return ir().memoizedState=[r,i===void 0?null:i],r},useContext:Cn,useEffect:Hm,useImperativeHandle:function(r,i,l){return l=l!=null?l.concat([r]):null,Eu(4194308,4,Gm.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Eu(4194308,4,r,i)},useInsertionEffect:function(r,i){return Eu(4,2,r,i)},useMemo:function(r,i){var l=ir();return i=i===void 0?null:i,r=r(),l.memoizedState=[r,i],r},useReducer:function(r,i,l){var h=ir();return i=l!==void 0?l(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=LE.bind(null,Ze,r),[h.memoizedState,r]},useRef:function(r){var i=ir();return r={current:r},i.memoizedState=r},useState:zm,useDebugValue:id,useDeferredValue:function(r){return ir().memoizedState=r},useTransition:function(){var r=zm(!1),i=r[0];return r=DE.bind(null,r[1]),ir().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,l){var h=Ze,f=ir();if(Je){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),It===null)throw Error(t(349));(ii&30)!==0||Mm(h,i,l)}f.memoizedState=l;var g={value:l,getSnapshot:i};return f.queue=g,Hm(Um.bind(null,h,g,r),[r]),h.flags|=2048,Va(9,Fm.bind(null,h,g,l,i),void 0,null),l},useId:function(){var r=ir(),i=It.identifierPrefix;if(Je){var l=kr,h=Pr;l=(h&~(1<<32-qt(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=Da++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=OE++,i=":"+i+"r"+l.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},FE={readContext:Cn,useCallback:Qm,useContext:Cn,useEffect:sd,useImperativeHandle:Km,useInsertionEffect:qm,useLayoutEffect:Wm,useMemo:Ym,useReducer:nd,useRef:$m,useState:function(){return nd(La)},useDebugValue:id,useDeferredValue:function(r){var i=An();return Jm(i,mt.memoizedState,r)},useTransition:function(){var r=nd(La)[0],i=An().memoizedState;return[r,i]},useMutableSource:Lm,useSyncExternalStore:Vm,useId:Xm,unstable_isNewReconciler:!1},UE={readContext:Cn,useCallback:Qm,useContext:Cn,useEffect:sd,useImperativeHandle:Km,useInsertionEffect:qm,useLayoutEffect:Wm,useMemo:Ym,useReducer:rd,useRef:$m,useState:function(){return rd(La)},useDebugValue:id,useDeferredValue:function(r){var i=An();return mt===null?i.memoizedState=r:Jm(i,mt.memoizedState,r)},useTransition:function(){var r=rd(La)[0],i=An().memoizedState;return[r,i]},useMutableSource:Lm,useSyncExternalStore:Vm,useId:Xm,unstable_isNewReconciler:!1};function $n(r,i){if(r&&r.defaultProps){i=le({},i),r=r.defaultProps;for(var l in r)i[l]===void 0&&(i[l]=r[l]);return i}return i}function od(r,i,l,h){i=r.memoizedState,l=l(h,i),l=l==null?i:le({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Su={isMounted:function(r){return(r=r._reactInternals)?Dn(r)===r:!1},enqueueSetState:function(r,i,l){r=r._reactInternals;var h=Kt(),f=cs(r),g=br(h,f);g.payload=i,l!=null&&(g.callback=l),i=os(r,g,f),i!==null&&(Wn(i,r,f,h),gu(i,r,f))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var h=Kt(),f=cs(r),g=br(h,f);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=os(r,g,f),i!==null&&(Wn(i,r,f,h),gu(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=Kt(),h=cs(r),f=br(l,h);f.tag=2,i!=null&&(f.callback=i),i=os(r,f,h),i!==null&&(Wn(i,r,h,l),gu(i,r,h))}};function ng(r,i,l,h,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):i.prototype&&i.prototype.isPureReactComponent?!Ta(l,h)||!Ta(f,g):!0}function rg(r,i,l){var h=!1,f=rs,g=i.contextType;return typeof g=="object"&&g!==null?g=Cn(g):(f=Zt(i)?ei:Lt.current,h=i.contextTypes,g=(h=h!=null)?ao(r,f):rs),i=new i(l,g),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Su,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),i}function sg(r,i,l,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==r&&Su.enqueueReplaceState(i,i.state,null)}function ad(r,i,l,h){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Gh(r);var g=i.contextType;typeof g=="object"&&g!==null?f.context=Cn(g):(g=Zt(i)?ei:Lt.current,f.context=ao(r,g)),f.state=r.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(od(r,i,g,l),f.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Su.enqueueReplaceState(f,f.state,null),yu(r,l,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function go(r,i){try{var l="",h=i;do l+=ke(h),h=h.return;while(h);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:i,stack:f,digest:null}}function ld(r,i,l){return{value:r,source:null,stack:l??null,digest:i??null}}function ud(r,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var jE=typeof WeakMap=="function"?WeakMap:Map;function ig(r,i,l){l=br(-1,l),l.tag=3,l.payload={element:null};var h=i.value;return l.callback=function(){bu||(bu=!0,Sd=h),ud(r,i)},l}function og(r,i,l){l=br(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=i.value;l.payload=function(){return h(f)},l.callback=function(){ud(r,i)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){ud(r,i),typeof h!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var w=i.stack;this.componentDidCatch(i.value,{componentStack:w!==null?w:""})}),l}function ag(r,i,l){var h=r.pingCache;if(h===null){h=r.pingCache=new jE;var f=new Set;h.set(i,f)}else f=h.get(i),f===void 0&&(f=new Set,h.set(i,f));f.has(l)||(f.add(l),r=eT.bind(null,r,i,l),i.then(r,r))}function lg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function ug(r,i,l,h,f){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=br(-1,1),i.tag=2,os(l,i,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var BE=ee.ReactCurrentOwner,en=!1;function Gt(r,i,l,h){i.child=r===null?km(i,null,l,h):ho(i,r.child,l,h)}function cg(r,i,l,h,f){l=l.render;var g=i.ref;return po(i,f),h=ed(r,i,l,h,g,f),l=td(),r!==null&&!en?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Nr(r,i,f)):(Je&&l&&Mh(i),i.flags|=1,Gt(r,i,h,f),i.child)}function hg(r,i,l,h,f){if(r===null){var g=l.type;return typeof g=="function"&&!bd(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=g,dg(r,i,g,h,f)):(r=Mu(l.type,null,h,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,(r.lanes&f)===0){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ta,l(w,h)&&r.ref===i.ref)return Nr(r,i,f)}return i.flags|=1,r=ds(g,h),r.ref=i.ref,r.return=i,i.child=r}function dg(r,i,l,h,f){if(r!==null){var g=r.memoizedProps;if(Ta(g,h)&&r.ref===i.ref)if(en=!1,i.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(en=!0);else return i.lanes=r.lanes,Nr(r,i,f)}return cd(r,i,l,h,f)}function fg(r,i,l){var h=i.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(vo,gn),gn|=l;else{if((l&1073741824)===0)return r=g!==null?g.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Ge(vo,gn),gn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,Ge(vo,gn),gn|=h}else g!==null?(h=g.baseLanes|l,i.memoizedState=null):h=l,Ge(vo,gn),gn|=h;return Gt(r,i,f,l),i.child}function pg(r,i){var l=i.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function cd(r,i,l,h,f){var g=Zt(l)?ei:Lt.current;return g=ao(i,g),po(i,f),l=ed(r,i,l,h,g,f),h=td(),r!==null&&!en?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~f,Nr(r,i,f)):(Je&&h&&Mh(i),i.flags|=1,Gt(r,i,l,f),i.child)}function mg(r,i,l,h,f){if(Zt(l)){var g=!0;lu(i)}else g=!1;if(po(i,f),i.stateNode===null)Cu(r,i),rg(i,l,h),ad(i,l,h,f),h=!0;else if(r===null){var w=i.stateNode,R=i.memoizedProps;w.props=R;var N=w.context,$=l.contextType;typeof $=="object"&&$!==null?$=Cn($):($=Zt(l)?ei:Lt.current,$=ao(i,$));var X=l.getDerivedStateFromProps,te=typeof X=="function"||typeof w.getSnapshotBeforeUpdate=="function";te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==h||N!==$)&&sg(i,w,h,$),is=!1;var J=i.memoizedState;w.state=J,yu(i,h,w,f),N=i.memoizedState,R!==h||J!==N||Xt.current||is?(typeof X=="function"&&(od(i,l,X,h),N=i.memoizedState),(R=is||ng(i,l,R,h,J,N,$))?(te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=N),w.props=h,w.state=N,w.context=$,h=R):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{w=i.stateNode,bm(r,i),R=i.memoizedProps,$=i.type===i.elementType?R:$n(i.type,R),w.props=$,te=i.pendingProps,J=w.context,N=l.contextType,typeof N=="object"&&N!==null?N=Cn(N):(N=Zt(l)?ei:Lt.current,N=ao(i,N));var ae=l.getDerivedStateFromProps;(X=typeof ae=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==te||J!==N)&&sg(i,w,h,N),is=!1,J=i.memoizedState,w.state=J,yu(i,h,w,f);var he=i.memoizedState;R!==te||J!==he||Xt.current||is?(typeof ae=="function"&&(od(i,l,ae,h),he=i.memoizedState),($=is||ng(i,l,$,h,J,he,N)||!1)?(X||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,he,N),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,he,N)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=he),w.props=h,w.state=he,w.context=N,h=$):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),h=!1)}return hd(r,i,l,h,g,f)}function hd(r,i,l,h,f,g){pg(r,i);var w=(i.flags&128)!==0;if(!h&&!w)return f&&wm(i,l,!1),Nr(r,i,g);h=i.stateNode,BE.current=i;var R=w&&typeof l.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&w?(i.child=ho(i,r.child,null,g),i.child=ho(i,null,R,g)):Gt(r,i,R,g),i.memoizedState=h.state,f&&wm(i,l,!0),i.child}function gg(r){var i=r.stateNode;i.pendingContext?vm(r,i.pendingContext,i.pendingContext!==i.context):i.context&&vm(r,i.context,!1),Kh(r,i.containerInfo)}function yg(r,i,l,h,f){return co(),Bh(f),i.flags|=256,Gt(r,i,l,h),i.child}var dd={dehydrated:null,treeContext:null,retryLane:0};function fd(r){return{baseLanes:r,cachePool:null,transitions:null}}function vg(r,i,l){var h=i.pendingProps,f=Xe.current,g=!1,w=(i.flags&128)!==0,R;if((R=w)||(R=r!==null&&r.memoizedState===null?!1:(f&2)!==0),R?(g=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ge(Xe,f&1),r===null)return jh(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(w=h.children,r=h.fallback,g?(h=i.mode,g=i.child,w={mode:"hidden",children:w},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Fu(w,h,0,null),r=ci(r,h,l,null),g.return=i,r.return=i,g.sibling=r,i.child=g,i.child.memoizedState=fd(l),i.memoizedState=dd,r):pd(i,w));if(f=r.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return zE(r,i,w,h,R,f,l);if(g){g=h.fallback,w=i.mode,f=r.child,R=f.sibling;var N={mode:"hidden",children:h.children};return(w&1)===0&&i.child!==f?(h=i.child,h.childLanes=0,h.pendingProps=N,i.deletions=null):(h=ds(f,N),h.subtreeFlags=f.subtreeFlags&14680064),R!==null?g=ds(R,g):(g=ci(g,w,l,null),g.flags|=2),g.return=i,h.return=i,h.sibling=g,i.child=h,h=g,g=i.child,w=r.child.memoizedState,w=w===null?fd(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~l,i.memoizedState=dd,h}return g=r.child,r=g.sibling,h=ds(g,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=l),h.return=i,h.sibling=null,r!==null&&(l=i.deletions,l===null?(i.deletions=[r],i.flags|=16):l.push(r)),i.child=h,i.memoizedState=null,h}function pd(r,i){return i=Fu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Ru(r,i,l,h){return h!==null&&Bh(h),ho(i,r.child,null,l),r=pd(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function zE(r,i,l,h,f,g,w){if(l)return i.flags&256?(i.flags&=-257,h=ld(Error(t(422))),Ru(r,i,w,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(g=h.fallback,f=i.mode,h=Fu({mode:"visible",children:h.children},f,0,null),g=ci(g,f,w,null),g.flags|=2,h.return=i,g.return=i,h.sibling=g,i.child=h,(i.mode&1)!==0&&ho(i,r.child,null,w),i.child.memoizedState=fd(w),i.memoizedState=dd,g);if((i.mode&1)===0)return Ru(r,i,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var R=h.dgst;return h=R,g=Error(t(419)),h=ld(g,h,void 0),Ru(r,i,w,h)}if(R=(w&r.childLanes)!==0,en||R){if(h=It,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|w))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,xr(r,f),Wn(h,r,f,-1))}return xd(),h=ld(Error(t(421))),Ru(r,i,w,h)}return f.data==="$?"?(i.flags|=128,i.child=r.child,i=tT.bind(null,r),f._reactRetry=i,null):(r=g.treeContext,mn=ts(f.nextSibling),pn=i,Je=!0,zn=null,r!==null&&(Sn[Rn++]=Pr,Sn[Rn++]=kr,Sn[Rn++]=ti,Pr=r.id,kr=r.overflow,ti=i),i=pd(i,h.children),i.flags|=4096,i)}function _g(r,i,l){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),qh(r.return,i,l)}function md(r,i,l,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=f)}function wg(r,i,l){var h=i.pendingProps,f=h.revealOrder,g=h.tail;if(Gt(r,i,h.children,l),h=Xe.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_g(r,l,i);else if(r.tag===19)_g(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ge(Xe,h),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(l=i.child,f=null;l!==null;)r=l.alternate,r!==null&&vu(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),md(i,!1,f,l,g);break;case"backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&vu(r)===null){i.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}md(i,!0,l,null,g);break;case"together":md(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Cu(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Nr(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),oi|=i.lanes,(l&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,l=ds(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=ds(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function $E(r,i,l){switch(i.tag){case 3:gg(i),co();break;case 5:Dm(i);break;case 1:Zt(i.type)&&lu(i);break;case 4:Kh(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,f=i.memoizedProps.value;Ge(pu,h._currentValue),h._currentValue=f;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Ge(Xe,Xe.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?vg(r,i,l):(Ge(Xe,Xe.current&1),r=Nr(r,i,l),r!==null?r.sibling:null);Ge(Xe,Xe.current&1);break;case 19:if(h=(l&i.childLanes)!==0,(r.flags&128)!==0){if(h)return wg(r,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ge(Xe,Xe.current),h)break;return null;case 22:case 23:return i.lanes=0,fg(r,i,l)}return Nr(r,i,l)}var Eg,gd,Tg,Ig;Eg=function(r,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},gd=function(){},Tg=function(r,i,l,h){var f=r.memoizedProps;if(f!==h){r=i.stateNode,si(sr.current);var g=null;switch(l){case"input":f=Ms(r,f),h=Ms(r,h),g=[];break;case"select":f=le({},f,{value:void 0}),h=le({},h,{value:void 0}),g=[];break;case"textarea":f=Jo(r,f),h=Jo(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=iu)}ra(l,h);var w;l=null;for($ in f)if(!h.hasOwnProperty($)&&f.hasOwnProperty($)&&f[$]!=null)if($==="style"){var R=f[$];for(w in R)R.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?g||(g=[]):(g=g||[]).push($,null));for($ in h){var N=h[$];if(R=f!=null?f[$]:void 0,h.hasOwnProperty($)&&N!==R&&(N!=null||R!=null))if($==="style")if(R){for(w in R)!R.hasOwnProperty(w)||N&&N.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in N)N.hasOwnProperty(w)&&R[w]!==N[w]&&(l||(l={}),l[w]=N[w])}else l||(g||(g=[]),g.push($,l)),l=N;else $==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,R=R?R.__html:void 0,N!=null&&R!==N&&(g=g||[]).push($,N)):$==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push($,""+N):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(N!=null&&$==="onScroll"&&Ke("scroll",r),g||R===N||(g=[])):(g=g||[]).push($,N))}l&&(g=g||[]).push("style",l);var $=g;(i.updateQueue=$)&&(i.flags|=4)}},Ig=function(r,i,l,h){l!==h&&(i.flags|=4)};function Ma(r,i){if(!Je)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Mt(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(i)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=l,i}function HE(r,i,l){var h=i.pendingProps;switch(Fh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(i),null;case 1:return Zt(i.type)&&au(),Mt(i),null;case 3:return h=i.stateNode,mo(),Qe(Xt),Qe(Lt),Jh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(du(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zn!==null&&(Ad(zn),zn=null))),gd(r,i),Mt(i),null;case 5:Qh(i);var f=si(Na.current);if(l=i.type,r!==null&&i.stateNode!=null)Tg(r,i,l,h,f),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Mt(i),null}if(r=si(sr.current),du(i)){h=i.stateNode,l=i.type;var g=i.memoizedProps;switch(h[rr]=i,h[Aa]=g,r=(i.mode&1)!==0,l){case"dialog":Ke("cancel",h),Ke("close",h);break;case"iframe":case"object":case"embed":Ke("load",h);break;case"video":case"audio":for(f=0;f<Sa.length;f++)Ke(Sa[f],h);break;case"source":Ke("error",h);break;case"img":case"image":case"link":Ke("error",h),Ke("load",h);break;case"details":Ke("toggle",h);break;case"input":ki(h,g),Ke("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Ke("invalid",h);break;case"textarea":bi(h,g),Ke("invalid",h)}ra(l,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var R=g[w];w==="children"?typeof R=="string"?h.textContent!==R&&(g.suppressHydrationWarning!==!0&&su(h.textContent,R,r),f=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&su(h.textContent,R,r),f=["children",""+R]):o.hasOwnProperty(w)&&R!=null&&w==="onScroll"&&Ke("scroll",h)}switch(l){case"input":gr(h),xl(h,g,!0);break;case"textarea":gr(h),Xo(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=iu)}h=f,i.updateQueue=h,h!==null&&(i.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=dt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(l,{is:h.is}):(r=w.createElement(l),l==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,l),r[rr]=i,r[Aa]=h,Eg(r,i,!1,!1),i.stateNode=r;e:{switch(w=sa(l,h),l){case"dialog":Ke("cancel",r),Ke("close",r),f=h;break;case"iframe":case"object":case"embed":Ke("load",r),f=h;break;case"video":case"audio":for(f=0;f<Sa.length;f++)Ke(Sa[f],r);f=h;break;case"source":Ke("error",r),f=h;break;case"img":case"image":case"link":Ke("error",r),Ke("load",r),f=h;break;case"details":Ke("toggle",r),f=h;break;case"input":ki(r,h),f=Ms(r,h),Ke("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=le({},h,{value:void 0}),Ke("invalid",r);break;case"textarea":bi(r,h),f=Jo(r,h),Ke("invalid",r);break;default:f=h}ra(l,f),R=f;for(g in R)if(R.hasOwnProperty(g)){var N=R[g];g==="style"?ta(r,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Zo(r,N)):g==="children"?typeof N=="string"?(l!=="textarea"||N!=="")&&Hr(r,N):typeof N=="number"&&Hr(r,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?N!=null&&g==="onScroll"&&Ke("scroll",r):N!=null&&Z(r,g,N,w))}switch(l){case"input":gr(r),xl(r,h,!1);break;case"textarea":gr(r),Xo(r);break;case"option":h.value!=null&&r.setAttribute("value",""+je(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?vr(r,!!h.multiple,g,!1):h.defaultValue!=null&&vr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=iu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Mt(i),null;case 6:if(r&&i.stateNode!=null)Ig(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(l=si(Na.current),si(sr.current),du(i)){if(h=i.stateNode,l=i.memoizedProps,h[rr]=i,(g=h.nodeValue!==l)&&(r=pn,r!==null))switch(r.tag){case 3:su(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&su(h.nodeValue,l,(r.mode&1)!==0)}g&&(i.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[rr]=i,i.stateNode=h}return Mt(i),null;case 13:if(Qe(Xe),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Je&&mn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Cm(),co(),i.flags|=98560,g=!1;else if(g=du(i),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[rr]=i}else co(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Mt(i),g=!1}else zn!==null&&(Ad(zn),zn=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(Xe.current&1)!==0?gt===0&&(gt=3):xd())),i.updateQueue!==null&&(i.flags|=4),Mt(i),null);case 4:return mo(),gd(r,i),r===null&&Ra(i.stateNode.containerInfo),Mt(i),null;case 10:return Hh(i.type._context),Mt(i),null;case 17:return Zt(i.type)&&au(),Mt(i),null;case 19:if(Qe(Xe),g=i.memoizedState,g===null)return Mt(i),null;if(h=(i.flags&128)!==0,w=g.rendering,w===null)if(h)Ma(g,!1);else{if(gt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(w=vu(r),w!==null){for(i.flags|=128,Ma(g,!1),h=w.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=l,l=i.child;l!==null;)g=l,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ge(Xe,Xe.current&1|2),i.child}r=r.sibling}g.tail!==null&&We()>_o&&(i.flags|=128,h=!0,Ma(g,!1),i.lanes=4194304)}else{if(!h)if(r=vu(w),r!==null){if(i.flags|=128,h=!0,l=r.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),Ma(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Je)return Mt(i),null}else 2*We()-g.renderingStartTime>_o&&l!==1073741824&&(i.flags|=128,h=!0,Ma(g,!1),i.lanes=4194304);g.isBackwards?(w.sibling=i.child,i.child=w):(l=g.last,l!==null?l.sibling=w:i.child=w,g.last=w)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=We(),i.sibling=null,l=Xe.current,Ge(Xe,h?l&1|2:l&1),i):(Mt(i),null);case 22:case 23:return kd(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(gn&1073741824)!==0&&(Mt(i),i.subtreeFlags&6&&(i.flags|=8192)):Mt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function qE(r,i){switch(Fh(i),i.tag){case 1:return Zt(i.type)&&au(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return mo(),Qe(Xt),Qe(Lt),Jh(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Qh(i),null;case 13:if(Qe(Xe),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));co()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Qe(Xe),null;case 4:return mo(),null;case 10:return Hh(i.type._context),null;case 22:case 23:return kd(),null;case 24:return null;default:return null}}var Au=!1,Ft=!1,WE=typeof WeakSet=="function"?WeakSet:Set,ce=null;function yo(r,i){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){nt(r,i,h)}else l.current=null}function yd(r,i,l){try{l()}catch(h){nt(r,i,h)}}var Sg=!1;function GE(r,i){if(kh=Xr,r=nm(),Eh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,R=-1,N=-1,$=0,X=0,te=r,J=null;t:for(;;){for(var ae;te!==l||f!==0&&te.nodeType!==3||(R=w+f),te!==g||h!==0&&te.nodeType!==3||(N=w+h),te.nodeType===3&&(w+=te.nodeValue.length),(ae=te.firstChild)!==null;)J=te,te=ae;for(;;){if(te===r)break t;if(J===l&&++$===f&&(R=w),J===g&&++X===h&&(N=w),(ae=te.nextSibling)!==null)break;te=J,J=te.parentNode}te=ae}l=R===-1||N===-1?null:{start:R,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(xh={focusedElem:r,selectionRange:l},Xr=!1,ce=i;ce!==null;)if(i=ce,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ce=r;else for(;ce!==null;){i=ce;try{var he=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,ot=he.memoizedState,B=i.stateNode,D=B.getSnapshotBeforeUpdate(i.elementType===i.type?de:$n(i.type,de),ot);B.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=i.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){nt(i,i.return,se)}if(r=i.sibling,r!==null){r.return=i.return,ce=r;break}ce=i.return}return he=Sg,Sg=!1,he}function Fa(r,i,l){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&yd(i,l,g)}f=f.next}while(f!==h)}}function Pu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==i)}}function vd(r){var i=r.ref;if(i!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof i=="function"?i(r):i.current=r}}function Rg(r){var i=r.alternate;i!==null&&(r.alternate=null,Rg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[rr],delete i[Aa],delete i[Dh],delete i[kE],delete i[xE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Cg(r){return r.tag===5||r.tag===3||r.tag===4}function Ag(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Cg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function _d(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(r,i):l.insertBefore(r,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(r,l)):(i=l,i.appendChild(r)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=iu));else if(h!==4&&(r=r.child,r!==null))for(_d(r,i,l),r=r.sibling;r!==null;)_d(r,i,l),r=r.sibling}function wd(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(wd(r,i,l),r=r.sibling;r!==null;)wd(r,i,l),r=r.sibling}var Pt=null,Hn=!1;function as(r,i,l){for(l=l.child;l!==null;)Pg(r,i,l),l=l.sibling}function Pg(r,i,l){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Ws,l)}catch{}switch(l.tag){case 5:Ft||yo(l,i);case 6:var h=Pt,f=Hn;Pt=null,as(r,i,l),Pt=h,Hn=f,Pt!==null&&(Hn?(r=Pt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Pt.removeChild(l.stateNode));break;case 18:Pt!==null&&(Hn?(r=Pt,l=l.stateNode,r.nodeType===8?Oh(r.parentNode,l):r.nodeType===1&&Oh(r,l),Un(r)):Oh(Pt,l.stateNode));break;case 4:h=Pt,f=Hn,Pt=l.stateNode.containerInfo,Hn=!0,as(r,i,l),Pt=h,Hn=f;break;case 0:case 11:case 14:case 15:if(!Ft&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&yd(l,i,w),f=f.next}while(f!==h)}as(r,i,l);break;case 1:if(!Ft&&(yo(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(R){nt(l,i,R)}as(r,i,l);break;case 21:as(r,i,l);break;case 22:l.mode&1?(Ft=(h=Ft)||l.memoizedState!==null,as(r,i,l),Ft=h):as(r,i,l);break;default:as(r,i,l)}}function kg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new WE),i.forEach(function(h){var f=nT.bind(null,r,h);l.has(h)||(l.add(h),h.then(f,f))})}}function qn(r,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var g=r,w=i,R=w;e:for(;R!==null;){switch(R.tag){case 5:Pt=R.stateNode,Hn=!1;break e;case 3:Pt=R.stateNode.containerInfo,Hn=!0;break e;case 4:Pt=R.stateNode.containerInfo,Hn=!0;break e}R=R.return}if(Pt===null)throw Error(t(160));Pg(g,w,f),Pt=null,Hn=!1;var N=f.alternate;N!==null&&(N.return=null),f.return=null}catch($){nt(f,i,$)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)xg(i,r),i=i.sibling}function xg(r,i){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(qn(i,r),or(r),h&4){try{Fa(3,r,r.return),Pu(3,r)}catch(de){nt(r,r.return,de)}try{Fa(5,r,r.return)}catch(de){nt(r,r.return,de)}}break;case 1:qn(i,r),or(r),h&512&&l!==null&&yo(l,l.return);break;case 5:if(qn(i,r),or(r),h&512&&l!==null&&yo(l,l.return),r.flags&32){var f=r.stateNode;try{Hr(f,"")}catch(de){nt(r,r.return,de)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=l!==null?l.memoizedProps:g,R=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&Qo(f,g),sa(R,w);var $=sa(R,g);for(w=0;w<N.length;w+=2){var X=N[w],te=N[w+1];X==="style"?ta(f,te):X==="dangerouslySetInnerHTML"?Zo(f,te):X==="children"?Hr(f,te):Z(f,X,te,$)}switch(R){case"input":Yo(f,g);break;case"textarea":Ni(f,g);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ae=g.value;ae!=null?vr(f,!!g.multiple,ae,!1):J!==!!g.multiple&&(g.defaultValue!=null?vr(f,!!g.multiple,g.defaultValue,!0):vr(f,!!g.multiple,g.multiple?[]:"",!1))}f[Aa]=g}catch(de){nt(r,r.return,de)}}break;case 6:if(qn(i,r),or(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(de){nt(r,r.return,de)}}break;case 3:if(qn(i,r),or(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Un(i.containerInfo)}catch(de){nt(r,r.return,de)}break;case 4:qn(i,r),or(r);break;case 13:qn(i,r),or(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Id=We())),h&4&&kg(r);break;case 22:if(X=l!==null&&l.memoizedState!==null,r.mode&1?(Ft=($=Ft)||X,qn(i,r),Ft=$):qn(i,r),or(r),h&8192){if($=r.memoizedState!==null,(r.stateNode.isHidden=$)&&!X&&(r.mode&1)!==0)for(ce=r,X=r.child;X!==null;){for(te=ce=X;ce!==null;){switch(J=ce,ae=J.child,J.tag){case 0:case 11:case 14:case 15:Fa(4,J,J.return);break;case 1:yo(J,J.return);var he=J.stateNode;if(typeof he.componentWillUnmount=="function"){h=J,l=J.return;try{i=h,he.props=i.memoizedProps,he.state=i.memoizedState,he.componentWillUnmount()}catch(de){nt(h,l,de)}}break;case 5:yo(J,J.return);break;case 22:if(J.memoizedState!==null){Og(te);continue}}ae!==null?(ae.return=J,ce=ae):Og(te)}X=X.sibling}e:for(X=null,te=r;;){if(te.tag===5){if(X===null){X=te;try{f=te.stateNode,$?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=te.stateNode,N=te.memoizedProps.style,w=N!=null&&N.hasOwnProperty("display")?N.display:null,R.style.display=ea("display",w))}catch(de){nt(r,r.return,de)}}}else if(te.tag===6){if(X===null)try{te.stateNode.nodeValue=$?"":te.memoizedProps}catch(de){nt(r,r.return,de)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;X===te&&(X=null),te=te.return}X===te&&(X=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:qn(i,r),or(r),h&4&&kg(r);break;case 21:break;default:qn(i,r),or(r)}}function or(r){var i=r.flags;if(i&2){try{e:{for(var l=r.return;l!==null;){if(Cg(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Hr(f,""),h.flags&=-33);var g=Ag(r);wd(r,g,f);break;case 3:case 4:var w=h.stateNode.containerInfo,R=Ag(r);_d(r,R,w);break;default:throw Error(t(161))}}catch(N){nt(r,r.return,N)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function KE(r,i,l){ce=r,bg(r)}function bg(r,i,l){for(var h=(r.mode&1)!==0;ce!==null;){var f=ce,g=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||Au;if(!w){var R=f.alternate,N=R!==null&&R.memoizedState!==null||Ft;R=Au;var $=Ft;if(Au=w,(Ft=N)&&!$)for(ce=f;ce!==null;)w=ce,N=w.child,w.tag===22&&w.memoizedState!==null?Dg(f):N!==null?(N.return=w,ce=N):Dg(f);for(;g!==null;)ce=g,bg(g),g=g.sibling;ce=f,Au=R,Ft=$}Ng(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ce=g):Ng(r)}}function Ng(r){for(;ce!==null;){var i=ce;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ft||Pu(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!Ft)if(l===null)h.componentDidMount();else{var f=i.elementType===i.type?l.memoizedProps:$n(i.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&Om(i,g,h);break;case 3:var w=i.updateQueue;if(w!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Om(i,w,l)}break;case 5:var R=i.stateNode;if(l===null&&i.flags&4){l=R;var N=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&l.focus();break;case"img":N.src&&(l.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var $=i.alternate;if($!==null){var X=$.memoizedState;if(X!==null){var te=X.dehydrated;te!==null&&Un(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ft||i.flags&512&&vd(i)}catch(J){nt(i,i.return,J)}}if(i===r){ce=null;break}if(l=i.sibling,l!==null){l.return=i.return,ce=l;break}ce=i.return}}function Og(r){for(;ce!==null;){var i=ce;if(i===r){ce=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ce=l;break}ce=i.return}}function Dg(r){for(;ce!==null;){var i=ce;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Pu(4,i)}catch(N){nt(i,l,N)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var f=i.return;try{h.componentDidMount()}catch(N){nt(i,f,N)}}var g=i.return;try{vd(i)}catch(N){nt(i,g,N)}break;case 5:var w=i.return;try{vd(i)}catch(N){nt(i,w,N)}}}catch(N){nt(i,i.return,N)}if(i===r){ce=null;break}var R=i.sibling;if(R!==null){R.return=i.return,ce=R;break}ce=i.return}}var QE=Math.ceil,ku=ee.ReactCurrentDispatcher,Ed=ee.ReactCurrentOwner,Pn=ee.ReactCurrentBatchConfig,Me=0,It=null,ut=null,kt=0,gn=0,vo=ns(0),gt=0,Ua=null,oi=0,xu=0,Td=0,ja=null,tn=null,Id=0,_o=1/0,Or=null,bu=!1,Sd=null,ls=null,Nu=!1,us=null,Ou=0,Ba=0,Rd=null,Du=-1,Lu=0;function Kt(){return(Me&6)!==0?We():Du!==-1?Du:Du=We()}function cs(r){return(r.mode&1)===0?1:(Me&2)!==0&&kt!==0?kt&-kt:NE.transition!==null?(Lu===0&&(Lu=Ks()),Lu):(r=Oe,r!==0||(r=window.event,r=r===void 0?16:ma(r.type)),r)}function Wn(r,i,l,h){if(50<Ba)throw Ba=0,Rd=null,Error(t(185));Kr(r,l,h),((Me&2)===0||r!==It)&&(r===It&&((Me&2)===0&&(xu|=l),gt===4&&hs(r,kt)),nn(r,h),l===1&&Me===0&&(i.mode&1)===0&&(_o=We()+500,uu&&ss()))}function nn(r,i){var l=r.callbackNode;Er(r,i);var h=Gs(r,r===It?kt:0);if(h===0)l!==null&&ca(l),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(l!=null&&ca(l),i===1)r.tag===0?bE(Vg.bind(null,r)):Em(Vg.bind(null,r)),AE(function(){(Me&6)===0&&ss()}),l=null;else{switch(Yr(h)){case 1:l=qs;break;case 4:l=qr;break;case 16:l=En;break;case 536870912:l=Ll;break;default:l=En}l=Hg(l,Lg.bind(null,r))}r.callbackPriority=i,r.callbackNode=l}}function Lg(r,i){if(Du=-1,Lu=0,(Me&6)!==0)throw Error(t(327));var l=r.callbackNode;if(wo()&&r.callbackNode!==l)return null;var h=Gs(r,r===It?kt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||i)i=Vu(r,h);else{i=h;var f=Me;Me|=2;var g=Fg();(It!==r||kt!==i)&&(Or=null,_o=We()+500,li(r,i));do try{XE();break}catch(R){Mg(r,R)}while(!0);$h(),ku.current=g,Me=f,ut!==null?i=0:(It=null,kt=0,i=gt)}if(i!==0){if(i===2&&(f=hn(r),f!==0&&(h=f,i=Cd(r,f))),i===1)throw l=Ua,li(r,0),hs(r,h),nn(r,We()),l;if(i===6)hs(r,h);else{if(f=r.current.alternate,(h&30)===0&&!YE(f)&&(i=Vu(r,h),i===2&&(g=hn(r),g!==0&&(h=g,i=Cd(r,g))),i===1))throw l=Ua,li(r,0),hs(r,h),nn(r,We()),l;switch(r.finishedWork=f,r.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:ui(r,tn,Or);break;case 3:if(hs(r,h),(h&130023424)===h&&(i=Id+500-We(),10<i)){if(Gs(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Kt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Nh(ui.bind(null,r,tn,Or),i);break}ui(r,tn,Or);break;case 4:if(hs(r,h),(h&4194240)===h)break;for(i=r.eventTimes,f=-1;0<h;){var w=31-qt(h);g=1<<w,w=i[w],w>f&&(f=w),h&=~g}if(h=f,h=We()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*QE(h/1960))-h,10<h){r.timeoutHandle=Nh(ui.bind(null,r,tn,Or),h);break}ui(r,tn,Or);break;case 5:ui(r,tn,Or);break;default:throw Error(t(329))}}}return nn(r,We()),r.callbackNode===l?Lg.bind(null,r):null}function Cd(r,i){var l=ja;return r.current.memoizedState.isDehydrated&&(li(r,i).flags|=256),r=Vu(r,i),r!==2&&(i=tn,tn=l,i!==null&&Ad(i)),r}function Ad(r){tn===null?tn=r:tn.push.apply(tn,r)}function YE(r){for(var i=r;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],g=f.getSnapshot;f=f.value;try{if(!Bn(g(),f))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function hs(r,i){for(i&=~Td,i&=~xu,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var l=31-qt(i),h=1<<l;r[l]=-1,i&=~h}}function Vg(r){if((Me&6)!==0)throw Error(t(327));wo();var i=Gs(r,0);if((i&1)===0)return nn(r,We()),null;var l=Vu(r,i);if(r.tag!==0&&l===2){var h=hn(r);h!==0&&(i=h,l=Cd(r,h))}if(l===1)throw l=Ua,li(r,0),hs(r,i),nn(r,We()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,ui(r,tn,Or),nn(r,We()),null}function Pd(r,i){var l=Me;Me|=1;try{return r(i)}finally{Me=l,Me===0&&(_o=We()+500,uu&&ss())}}function ai(r){us!==null&&us.tag===0&&(Me&6)===0&&wo();var i=Me;Me|=1;var l=Pn.transition,h=Oe;try{if(Pn.transition=null,Oe=1,r)return r()}finally{Oe=h,Pn.transition=l,Me=i,(Me&6)===0&&ss()}}function kd(){gn=vo.current,Qe(vo)}function li(r,i){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,CE(l)),ut!==null)for(l=ut.return;l!==null;){var h=l;switch(Fh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&au();break;case 3:mo(),Qe(Xt),Qe(Lt),Jh();break;case 5:Qh(h);break;case 4:mo();break;case 13:Qe(Xe);break;case 19:Qe(Xe);break;case 10:Hh(h.type._context);break;case 22:case 23:kd()}l=l.return}if(It=r,ut=r=ds(r.current,null),kt=gn=i,gt=0,Ua=null,Td=xu=oi=0,tn=ja=null,ri!==null){for(i=0;i<ri.length;i++)if(l=ri[i],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,g=l.pending;if(g!==null){var w=g.next;g.next=f,h.next=w}l.pending=h}ri=null}return r}function Mg(r,i){do{var l=ut;try{if($h(),_u.current=Iu,wu){for(var h=Ze.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}wu=!1}if(ii=0,Tt=mt=Ze=null,Oa=!1,Da=0,Ed.current=null,l===null||l.return===null){gt=1,Ua=i,ut=null;break}e:{var g=r,w=l.return,R=l,N=i;if(i=kt,R.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=N,X=R,te=X.tag;if((X.mode&1)===0&&(te===0||te===11||te===15)){var J=X.alternate;J?(X.updateQueue=J.updateQueue,X.memoizedState=J.memoizedState,X.lanes=J.lanes):(X.updateQueue=null,X.memoizedState=null)}var ae=lg(w);if(ae!==null){ae.flags&=-257,ug(ae,w,R,g,i),ae.mode&1&&ag(g,$,i),i=ae,N=$;var he=i.updateQueue;if(he===null){var de=new Set;de.add(N),i.updateQueue=de}else he.add(N);break e}else{if((i&1)===0){ag(g,$,i),xd();break e}N=Error(t(426))}}else if(Je&&R.mode&1){var ot=lg(w);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),ug(ot,w,R,g,i),Bh(go(N,R));break e}}g=N=go(N,R),gt!==4&&(gt=2),ja===null?ja=[g]:ja.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var B=ig(g,N,i);Nm(g,B);break e;case 1:R=N;var D=g.type,z=g.stateNode;if((g.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(ls===null||!ls.has(z)))){g.flags|=65536,i&=-i,g.lanes|=i;var se=og(g,R,i);Nm(g,se);break e}}g=g.return}while(g!==null)}jg(l)}catch(pe){i=pe,ut===l&&l!==null&&(ut=l=l.return);continue}break}while(!0)}function Fg(){var r=ku.current;return ku.current=Iu,r===null?Iu:r}function xd(){(gt===0||gt===3||gt===2)&&(gt=4),It===null||(oi&268435455)===0&&(xu&268435455)===0||hs(It,kt)}function Vu(r,i){var l=Me;Me|=2;var h=Fg();(It!==r||kt!==i)&&(Or=null,li(r,i));do try{JE();break}catch(f){Mg(r,f)}while(!0);if($h(),Me=l,ku.current=h,ut!==null)throw Error(t(261));return It=null,kt=0,gt}function JE(){for(;ut!==null;)Ug(ut)}function XE(){for(;ut!==null&&!Ol();)Ug(ut)}function Ug(r){var i=$g(r.alternate,r,gn);r.memoizedProps=r.pendingProps,i===null?jg(r):ut=i,Ed.current=null}function jg(r){var i=r;do{var l=i.alternate;if(r=i.return,(i.flags&32768)===0){if(l=HE(l,i,gn),l!==null){ut=l;return}}else{if(l=qE(l,i),l!==null){l.flags&=32767,ut=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{gt=6,ut=null;return}}if(i=i.sibling,i!==null){ut=i;return}ut=i=r}while(i!==null);gt===0&&(gt=5)}function ui(r,i,l){var h=Oe,f=Pn.transition;try{Pn.transition=null,Oe=1,ZE(r,i,l,h)}finally{Pn.transition=f,Oe=h}return null}function ZE(r,i,l,h){do wo();while(us!==null);if((Me&6)!==0)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(He(r,g),r===It&&(ut=It=null,kt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Nu||(Nu=!0,Hg(En,function(){return wo(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Pn.transition,Pn.transition=null;var w=Oe;Oe=1;var R=Me;Me|=4,Ed.current=null,GE(r,l),xg(l,r),_E(xh),Xr=!!kh,xh=kh=null,r.current=l,KE(l),fh(),Me=R,Oe=w,Pn.transition=g}else r.current=l;if(Nu&&(Nu=!1,us=r,Ou=f),g=r.pendingLanes,g===0&&(ls=null),Vl(l.stateNode),nn(r,We()),i!==null)for(h=r.onRecoverableError,l=0;l<i.length;l++)f=i[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(bu)throw bu=!1,r=Sd,Sd=null,r;return(Ou&1)!==0&&r.tag!==0&&wo(),g=r.pendingLanes,(g&1)!==0?r===Rd?Ba++:(Ba=0,Rd=r):Ba=0,ss(),null}function wo(){if(us!==null){var r=Yr(Ou),i=Pn.transition,l=Oe;try{if(Pn.transition=null,Oe=16>r?16:r,us===null)var h=!1;else{if(r=us,us=null,Ou=0,(Me&6)!==0)throw Error(t(331));var f=Me;for(Me|=4,ce=r.current;ce!==null;){var g=ce,w=g.child;if((ce.flags&16)!==0){var R=g.deletions;if(R!==null){for(var N=0;N<R.length;N++){var $=R[N];for(ce=$;ce!==null;){var X=ce;switch(X.tag){case 0:case 11:case 15:Fa(8,X,g)}var te=X.child;if(te!==null)te.return=X,ce=te;else for(;ce!==null;){X=ce;var J=X.sibling,ae=X.return;if(Rg(X),X===$){ce=null;break}if(J!==null){J.return=ae,ce=J;break}ce=ae}}}var he=g.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var ot=de.sibling;de.sibling=null,de=ot}while(de!==null)}}ce=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,ce=w;else e:for(;ce!==null;){if(g=ce,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Fa(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,ce=B;break e}ce=g.return}}var D=r.current;for(ce=D;ce!==null;){w=ce;var z=w.child;if((w.subtreeFlags&2064)!==0&&z!==null)z.return=w,ce=z;else e:for(w=D;ce!==null;){if(R=ce,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Pu(9,R)}}catch(pe){nt(R,R.return,pe)}if(R===w){ce=null;break e}var se=R.sibling;if(se!==null){se.return=R.return,ce=se;break e}ce=R.return}}if(Me=f,ss(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Ws,r)}catch{}h=!0}return h}finally{Oe=l,Pn.transition=i}}return!1}function Bg(r,i,l){i=go(l,i),i=ig(r,i,1),r=os(r,i,1),i=Kt(),r!==null&&(Kr(r,1,i),nn(r,i))}function nt(r,i,l){if(r.tag===3)Bg(r,r,l);else for(;i!==null;){if(i.tag===3){Bg(i,r,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ls===null||!ls.has(h))){r=go(l,r),r=og(i,r,1),i=os(i,r,1),r=Kt(),i!==null&&(Kr(i,1,r),nn(i,r));break}}i=i.return}}function eT(r,i,l){var h=r.pingCache;h!==null&&h.delete(i),i=Kt(),r.pingedLanes|=r.suspendedLanes&l,It===r&&(kt&l)===l&&(gt===4||gt===3&&(kt&130023424)===kt&&500>We()-Id?li(r,0):Td|=l),nn(r,i)}function zg(r,i){i===0&&((r.mode&1)===0?i=1:(i=zi,zi<<=1,(zi&130023424)===0&&(zi=4194304)));var l=Kt();r=xr(r,i),r!==null&&(Kr(r,i,l),nn(r,l))}function tT(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),zg(r,l)}function nT(r,i){var l=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),zg(r,l)}var $g;$g=function(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps||Xt.current)en=!0;else{if((r.lanes&l)===0&&(i.flags&128)===0)return en=!1,$E(r,i,l);en=(r.flags&131072)!==0}else en=!1,Je&&(i.flags&1048576)!==0&&Tm(i,hu,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Cu(r,i),r=i.pendingProps;var f=ao(i,Lt.current);po(i,l),f=ed(null,i,h,r,f,l);var g=td();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zt(h)?(g=!0,lu(i)):g=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Gh(i),f.updater=Su,i.stateNode=f,f._reactInternals=i,ad(i,h,r,l),i=hd(null,i,h,!0,g,l)):(i.tag=0,Je&&g&&Mh(i),Gt(null,i,f,l),i=i.child),i;case 16:h=i.elementType;e:{switch(Cu(r,i),r=i.pendingProps,f=h._init,h=f(h._payload),i.type=h,f=i.tag=sT(h),r=$n(h,r),f){case 0:i=cd(null,i,h,r,l);break e;case 1:i=mg(null,i,h,r,l);break e;case 11:i=cg(null,i,h,r,l);break e;case 14:i=hg(null,i,h,$n(h.type,r),l);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:$n(h,f),cd(r,i,h,f,l);case 1:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:$n(h,f),mg(r,i,h,f,l);case 3:e:{if(gg(i),r===null)throw Error(t(387));h=i.pendingProps,g=i.memoizedState,f=g.element,bm(r,i),yu(i,h,null,l);var w=i.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){f=go(Error(t(423)),i),i=yg(r,i,h,l,f);break e}else if(h!==f){f=go(Error(t(424)),i),i=yg(r,i,h,l,f);break e}else for(mn=ts(i.stateNode.containerInfo.firstChild),pn=i,Je=!0,zn=null,l=km(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(co(),h===f){i=Nr(r,i,l);break e}Gt(r,i,h,l)}i=i.child}return i;case 5:return Dm(i),r===null&&jh(i),h=i.type,f=i.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,bh(h,f)?w=null:g!==null&&bh(h,g)&&(i.flags|=32),pg(r,i),Gt(r,i,w,l),i.child;case 6:return r===null&&jh(i),null;case 13:return vg(r,i,l);case 4:return Kh(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=ho(i,null,h,l):Gt(r,i,h,l),i.child;case 11:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:$n(h,f),cg(r,i,h,f,l);case 7:return Gt(r,i,i.pendingProps,l),i.child;case 8:return Gt(r,i,i.pendingProps.children,l),i.child;case 12:return Gt(r,i,i.pendingProps.children,l),i.child;case 10:e:{if(h=i.type._context,f=i.pendingProps,g=i.memoizedProps,w=f.value,Ge(pu,h._currentValue),h._currentValue=w,g!==null)if(Bn(g.value,w)){if(g.children===f.children&&!Xt.current){i=Nr(r,i,l);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var R=g.dependencies;if(R!==null){w=g.child;for(var N=R.firstContext;N!==null;){if(N.context===h){if(g.tag===1){N=br(-1,l&-l),N.tag=2;var $=g.updateQueue;if($!==null){$=$.shared;var X=$.pending;X===null?N.next=N:(N.next=X.next,X.next=N),$.pending=N}}g.lanes|=l,N=g.alternate,N!==null&&(N.lanes|=l),qh(g.return,l,i),R.lanes|=l;break}N=N.next}}else if(g.tag===10)w=g.type===i.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=l,R=w.alternate,R!==null&&(R.lanes|=l),qh(w,l,i),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===i){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Gt(r,i,f.children,l),i=i.child}return i;case 9:return f=i.type,h=i.pendingProps.children,po(i,l),f=Cn(f),h=h(f),i.flags|=1,Gt(r,i,h,l),i.child;case 14:return h=i.type,f=$n(h,i.pendingProps),f=$n(h.type,f),hg(r,i,h,f,l);case 15:return dg(r,i,i.type,i.pendingProps,l);case 17:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:$n(h,f),Cu(r,i),i.tag=1,Zt(h)?(r=!0,lu(i)):r=!1,po(i,l),rg(i,h,f),ad(i,h,f,l),hd(null,i,h,!0,r,l);case 19:return wg(r,i,l);case 22:return fg(r,i,l)}throw Error(t(156,i.tag))};function Hg(r,i){return ji(r,i)}function rT(r,i,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,i,l,h){return new rT(r,i,l,h)}function bd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function sT(r){if(typeof r=="function")return bd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===Ot)return 14}return 2}function ds(r,i){var l=r.alternate;return l===null?(l=kn(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Mu(r,i,l,h,f,g){var w=2;if(h=r,typeof r=="function")bd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case x:return ci(l.children,f,g,i);case S:w=8,f|=8;break;case C:return r=kn(12,l,i,f|2),r.elementType=C,r.lanes=g,r;case A:return r=kn(13,l,i,f),r.elementType=A,r.lanes=g,r;case st:return r=kn(19,l,i,f),r.elementType=st,r.lanes=g,r;case $e:return Fu(l,f,g,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:w=10;break e;case M:w=9;break e;case F:w=11;break e;case Ot:w=14;break e;case Dt:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=kn(w,l,i,f),i.elementType=r,i.type=h,i.lanes=g,i}function ci(r,i,l,h){return r=kn(7,r,h,i),r.lanes=l,r}function Fu(r,i,l,h){return r=kn(22,r,h,i),r.elementType=$e,r.lanes=l,r.stateNode={isHidden:!1},r}function Nd(r,i,l){return r=kn(6,r,null,i),r.lanes=l,r}function Od(r,i,l){return i=kn(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function iT(r,i,l,h,f){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gr(0),this.expirationTimes=Gr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Dd(r,i,l,h,f,g,w,R,N){return r=new iT(r,i,l,R,N),i===1?(i=1,g===!0&&(i|=8)):i=0,g=kn(3,null,null,i),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gh(g),r}function oT(r,i,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:h==null?null:""+h,children:r,containerInfo:i,implementation:l}}function qg(r){if(!r)return rs;r=r._reactInternals;e:{if(Dn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(Zt(l))return _m(r,l,i)}return i}function Wg(r,i,l,h,f,g,w,R,N){return r=Dd(l,h,!0,r,f,g,w,R,N),r.context=qg(null),l=r.current,h=Kt(),f=cs(l),g=br(h,f),g.callback=i??null,os(l,g,f),r.current.lanes=f,Kr(r,f,h),nn(r,h),r}function Uu(r,i,l,h){var f=i.current,g=Kt(),w=cs(f);return l=qg(l),i.context===null?i.context=l:i.pendingContext=l,i=br(g,w),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=os(f,i,w),r!==null&&(Wn(r,f,w,g),gu(r,f,w)),w}function ju(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Gg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function Ld(r,i){Gg(r,i),(r=r.alternate)&&Gg(r,i)}function aT(){return null}var Kg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Vd(r){this._internalRoot=r}Bu.prototype.render=Vd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Uu(r,i,null,null)},Bu.prototype.unmount=Vd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;ai(function(){Uu(null,r,null,null)}),i[Cr]=null}};function Bu(r){this._internalRoot=r}Bu.prototype.unstable_scheduleHydration=function(r){if(r){var i=Bl();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Zn.length&&i!==0&&i<Zn[l].priority;l++);Zn.splice(l,0,r),l===0&&Hl(r)}};function Md(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function zu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Qg(){}function lT(r,i,l,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var $=ju(w);g.call($)}}var w=Wg(i,h,r,0,null,!1,!1,"",Qg);return r._reactRootContainer=w,r[Cr]=w.current,Ra(r.nodeType===8?r.parentNode:r),ai(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var R=h;h=function(){var $=ju(N);R.call($)}}var N=Dd(r,0,!1,null,null,!1,!1,"",Qg);return r._reactRootContainer=N,r[Cr]=N.current,Ra(r.nodeType===8?r.parentNode:r),ai(function(){Uu(i,N,l,h)}),N}function $u(r,i,l,h,f){var g=l._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var R=f;f=function(){var N=ju(w);R.call(N)}}Uu(i,w,r,f)}else w=lT(l,i,r,f,h);return ju(w)}Ul=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var l=Wr(i.pendingLanes);l!==0&&(Qr(i,l|1),nn(i,We()),(Me&6)===0&&(_o=We()+500,ss()))}break;case 13:ai(function(){var h=xr(r,1);if(h!==null){var f=Kt();Wn(h,r,1,f)}}),Ld(r,1)}},$i=function(r){if(r.tag===13){var i=xr(r,134217728);if(i!==null){var l=Kt();Wn(i,r,134217728,l)}Ld(r,134217728)}},jl=function(r){if(r.tag===13){var i=cs(r),l=xr(r,i);if(l!==null){var h=Kt();Wn(l,r,i,h)}Ld(r,i)}},Bl=function(){return Oe},zl=function(r,i){var l=Oe;try{return Oe=r,i()}finally{Oe=l}},Di=function(r,i,l){switch(i){case"input":if(Yo(r,l),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==r&&h.form===r.form){var f=ou(h);if(!f)throw Error(t(90));Pi(h),Yo(h,f)}}}break;case"textarea":Ni(r,l);break;case"select":i=l.value,i!=null&&vr(r,!!l.multiple,i,!1)}},Bs=Pd,oa=ai;var uT={usingClientEntryPoint:!1,Events:[Pa,io,ou,Jn,ia,Pd]},za={findFiberByHostInstance:Zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cT={bundleType:za.bundleType,version:za.version,rendererPackageName:za.rendererPackageName,rendererConfig:za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ua(r),r===null?null:r.stateNode},findFiberByHostInstance:za.findFiberByHostInstance||aT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Ws=Hu.inject(cT),cn=Hu}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uT,rn.createPortal=function(r,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Md(i))throw Error(t(200));return oT(r,i,null,l)},rn.createRoot=function(r,i){if(!Md(r))throw Error(t(299));var l=!1,h="",f=Kg;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Dd(r,1,!1,null,null,l,!1,h,f),r[Cr]=i.current,Ra(r.nodeType===8?r.parentNode:r),new Vd(i)},rn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ua(i),r=r===null?null:r.stateNode,r},rn.flushSync=function(r){return ai(r)},rn.hydrate=function(r,i,l){if(!zu(i))throw Error(t(200));return $u(null,r,i,!0,l)},rn.hydrateRoot=function(r,i,l){if(!Md(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,g="",w=Kg;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),i=Wg(i,null,r,1,l??null,f,!1,g,w),r[Cr]=i.current,Ra(r),h)for(r=0;r<h.length;r++)l=h[r],f=l._getVersion,f=f(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,f]:i.mutableSourceEagerHydrationData.push(l,f);return new Bu(i)},rn.render=function(r,i,l){if(!zu(i))throw Error(t(200));return $u(null,r,i,!1,l)},rn.unmountComponentAtNode=function(r){if(!zu(r))throw Error(t(40));return r._reactRootContainer?(ai(function(){$u(null,null,r,!1,function(){r._reactRootContainer=null,r[Cr]=null})}),!0):!1},rn.unstable_batchedUpdates=Pd,rn.unstable_renderSubtreeIntoContainer=function(r,i,l,h){if(!zu(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return $u(r,i,l,!1,h)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var ry;function Zv(){if(ry)return jd.exports;ry=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jd.exports=_T(),jd.exports}var sy;function wT(){if(sy)return qu;sy=1;var n=Zv();return qu.createRoot=n.createRoot,qu.hydrateRoot=n.hydrateRoot,qu}var ET=wT();const TT=Xv(ET);Zv();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},nl.apply(this,arguments)}var _s;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(_s||(_s={}));const iy="popstate";function IT(n){n===void 0&&(n={});function e(s,o){let{pathname:a,search:c,hash:d}=s.location;return sf("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:cc(o)}return RT(e,t,null,n)}function ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function e_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ST(){return Math.random().toString(36).substr(2,8)}function oy(n,e){return{usr:n.state,key:n.key,idx:e}}function sf(n,e,t,s){return t===void 0&&(t=null),nl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Fo(e):e,{state:t,key:e&&e.key||s||ST()})}function cc(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Fo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function RT(n,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:a=!1}=s,c=o.history,d=_s.Pop,p=null,y=_();y==null&&(y=0,c.replaceState(nl({},c.state,{idx:y}),""));function _(){return(c.state||{idx:null}).idx}function E(){d=_s.Pop;let P=_(),W=P==null?null:P-y;y=P,p&&p({action:d,location:V.location,delta:W})}function I(P,W){d=_s.Push;let Y=sf(V.location,P,W);y=_()+1;let Z=oy(Y,y),ee=V.createHref(Y);try{c.pushState(Z,"",ee)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(ee)}a&&p&&p({action:d,location:V.location,delta:1})}function L(P,W){d=_s.Replace;let Y=sf(V.location,P,W);y=_();let Z=oy(Y,y),ee=V.createHref(Y);c.replaceState(Z,"",ee),a&&p&&p({action:d,location:V.location,delta:0})}function b(P){let W=o.location.origin!=="null"?o.location.origin:o.location.href,Y=typeof P=="string"?P:cc(P);return Y=Y.replace(/ $/,"%20"),ht(W,"No window.location.(origin|href) available to create URL for href: "+Y),new URL(Y,W)}let V={get action(){return d},get location(){return n(o,c)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(iy,E),p=P,()=>{o.removeEventListener(iy,E),p=null}},createHref(P){return e(o,P)},createURL:b,encodeLocation(P){let W=b(P);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:I,replace:L,go(P){return c.go(P)}};return V}var ay;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(ay||(ay={}));function CT(n,e,t){return t===void 0&&(t="/"),AT(n,e,t)}function AT(n,e,t,s){let o=typeof e=="string"?Fo(e):e,a=$f(o.pathname||"/",t);if(a==null)return null;let c=t_(n);PT(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let y=jT(a);d=MT(c[p],y)}return d}function t_(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(a,c,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(ht(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let y=Es([s,p.relativePath]),_=t.concat(p);a.children&&a.children.length>0&&(ht(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),t_(a.children,e,_,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:LT(y,a.index),routesMeta:_})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let p of n_(a.path))o(a,c,p)}),e}function n_(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(s.length===0)return o?[a,""]:[a];let c=n_(s.join("/")),d=[];return d.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function PT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:VT(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const kT=/^:[\w-]+$/,xT=3,bT=2,NT=1,OT=10,DT=-2,ly=n=>n==="*";function LT(n,e){let t=n.split("/"),s=t.length;return t.some(ly)&&(s+=DT),e&&(s+=bT),t.filter(o=>!ly(o)).reduce((o,a)=>o+(kT.test(a)?xT:a===""?NT:OT),s)}function VT(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function MT(n,e,t){let{routesMeta:s}=n,o={},a="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],y=d===s.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=FT({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),I=p.route;if(!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Es([a,E.pathname]),pathnameBase:HT(Es([a,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(a=Es([a,E.pathnameBase]))}return c}function FT(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=UT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((y,_,E)=>{let{paramName:I,isOptional:L}=_;if(I==="*"){let V=d[E]||"";c=a.slice(0,a.length-V.length).replace(/(.)\/+$/,"$1")}const b=d[E];return L&&!b?y[I]=void 0:y[I]=(b||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:n}}function UT(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),e_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function jT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return e_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function $f(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function BT(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Fo(n):n;return{pathname:t?t.startsWith("/")?t:zT(t,e):e,search:qT(s),hash:WT(o)}}function zT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function $d(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $T(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function r_(n,e){let t=$T(n);return e?t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function s_(n,e,t,s){s===void 0&&(s=!1);let o;typeof n=="string"?o=Fo(n):(o=nl({},n),ht(!o.pathname||!o.pathname.includes("?"),$d("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),$d("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),$d("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!s&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),E-=1;o.pathname=I.join("/")}d=E>=0?e[E]:"/"}let p=BT(o,d),y=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}const Es=n=>n.join("/").replace(/\/\/+/g,"/"),HT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,WT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function GT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const i_=["post","put","patch","delete"];new Set(i_);const KT=["get",...i_];new Set(KT);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rl(){return rl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},rl.apply(this,arguments)}const Hf=G.createContext(null),QT=G.createContext(null),Ii=G.createContext(null),Oc=G.createContext(null),Si=G.createContext({outlet:null,matches:[],isDataRoute:!1}),o_=G.createContext(null);function YT(n,e){let{relative:t}=e===void 0?{}:e;ml()||ht(!1);let{basename:s,navigator:o}=G.useContext(Ii),{hash:a,pathname:c,search:d}=l_(n,{relative:t}),p=c;return s!=="/"&&(p=c==="/"?s:Es([s,c])),o.createHref({pathname:p,search:d,hash:a})}function ml(){return G.useContext(Oc)!=null}function Uo(){return ml()||ht(!1),G.useContext(Oc).location}function a_(n){G.useContext(Ii).static||G.useLayoutEffect(n)}function _n(){let{isDataRoute:n}=G.useContext(Si);return n?uI():JT()}function JT(){ml()||ht(!1);let n=G.useContext(Hf),{basename:e,future:t,navigator:s}=G.useContext(Ii),{matches:o}=G.useContext(Si),{pathname:a}=Uo(),c=JSON.stringify(r_(o,t.v7_relativeSplatPath)),d=G.useRef(!1);return a_(()=>{d.current=!0}),G.useCallback(function(y,_){if(_===void 0&&(_={}),!d.current)return;if(typeof y=="number"){s.go(y);return}let E=s_(y,JSON.parse(c),a,_.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Es([e,E.pathname])),(_.replace?s.replace:s.push)(E,_.state,_)},[e,s,c,a,n])}function l_(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=G.useContext(Ii),{matches:o}=G.useContext(Si),{pathname:a}=Uo(),c=JSON.stringify(r_(o,s.v7_relativeSplatPath));return G.useMemo(()=>s_(n,JSON.parse(c),a,t==="path"),[n,c,a,t])}function XT(n,e){return ZT(n,e)}function ZT(n,e,t,s){ml()||ht(!1);let{navigator:o,static:a}=G.useContext(Ii),{matches:c}=G.useContext(Si),d=c[c.length-1],p=d?d.params:{};d&&d.pathname;let y=d?d.pathnameBase:"/";d&&d.route;let _=Uo(),E;if(e){var I;let W=typeof e=="string"?Fo(e):e;y==="/"||(I=W.pathname)!=null&&I.startsWith(y)||ht(!1),E=W}else E=_;let L=E.pathname||"/",b=L;if(y!=="/"){let W=y.replace(/^\//,"").split("/");b="/"+L.replace(/^\//,"").split("/").slice(W.length).join("/")}let V=CT(n,{pathname:b}),P=sI(V&&V.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:Es([y,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?y:Es([y,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),c,t,s);return e&&P?G.createElement(Oc.Provider,{value:{location:rl({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:_s.Pop}},P):P}function eI(){let n=lI(),e=GT(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:o},t):null,null)}const tI=G.createElement(eI,null);class nI extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?G.createElement(Si.Provider,{value:this.props.routeContext},G.createElement(o_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rI(n){let{routeContext:e,match:t,children:s}=n,o=G.useContext(Hf);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(Si.Provider,{value:e},s)}function sI(n,e,t,s){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let _=c.findIndex(E=>E.route.id&&(d==null?void 0:d[E.route.id])!==void 0);_>=0||ht(!1),c=c.slice(0,Math.min(c.length,_+1))}let p=!1,y=-1;if(t&&s&&s.v7_partialHydration)for(let _=0;_<c.length;_++){let E=c[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=_),E.route.id){let{loaderData:I,errors:L}=t,b=E.route.loader&&I[E.route.id]===void 0&&(!L||L[E.route.id]===void 0);if(E.route.lazy||b){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((_,E,I)=>{let L,b=!1,V=null,P=null;t&&(L=d&&E.route.id?d[E.route.id]:void 0,V=E.route.errorElement||tI,p&&(y<0&&I===0?(cI("route-fallback"),b=!0,P=null):y===I&&(b=!0,P=E.route.hydrateFallbackElement||null)));let W=e.concat(c.slice(0,I+1)),Y=()=>{let Z;return L?Z=V:b?Z=P:E.route.Component?Z=G.createElement(E.route.Component,null):E.route.element?Z=E.route.element:Z=_,G.createElement(rI,{match:E,routeContext:{outlet:_,matches:W,isDataRoute:t!=null},children:Z})};return t&&(E.route.ErrorBoundary||E.route.errorElement||I===0)?G.createElement(nI,{location:t.location,revalidation:t.revalidation,component:V,error:L,children:Y(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):Y()},null)}var u_=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(u_||{}),c_=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(c_||{});function iI(n){let e=G.useContext(Hf);return e||ht(!1),e}function oI(n){let e=G.useContext(QT);return e||ht(!1),e}function aI(n){let e=G.useContext(Si);return e||ht(!1),e}function h_(n){let e=aI(),t=e.matches[e.matches.length-1];return t.route.id||ht(!1),t.route.id}function lI(){var n;let e=G.useContext(o_),t=oI(),s=h_();return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function uI(){let{router:n}=iI(u_.UseNavigateStable),e=h_(c_.UseNavigateStable),t=G.useRef(!1);return a_(()=>{t.current=!0}),G.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,rl({fromRouteId:e},a)))},[n,e])}const uy={};function cI(n,e,t){uy[n]||(uy[n]=!0)}function hI(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Qt(n){ht(!1)}function dI(n){let{basename:e="/",children:t=null,location:s,navigationType:o=_s.Pop,navigator:a,static:c=!1,future:d}=n;ml()&&ht(!1);let p=e.replace(/^\/*/,"/"),y=G.useMemo(()=>({basename:p,navigator:a,static:c,future:rl({v7_relativeSplatPath:!1},d)}),[p,d,a,c]);typeof s=="string"&&(s=Fo(s));let{pathname:_="/",search:E="",hash:I="",state:L=null,key:b="default"}=s,V=G.useMemo(()=>{let P=$f(_,p);return P==null?null:{location:{pathname:P,search:E,hash:I,state:L,key:b},navigationType:o}},[p,_,E,I,L,b,o]);return V==null?null:G.createElement(Ii.Provider,{value:y},G.createElement(Oc.Provider,{children:t,value:V}))}function fI(n){let{children:e,location:t}=n;return XT(of(e),t)}new Promise(()=>{});function of(n,e){e===void 0&&(e=[]);let t=[];return G.Children.forEach(n,(s,o)=>{if(!G.isValidElement(s))return;let a=[...e,o];if(s.type===G.Fragment){t.push.apply(t,of(s.props.children,a));return}s.type!==Qt&&ht(!1),!s.props.index||!s.props.children||ht(!1);let c={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=of(s.props.children,a)),t.push(c)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function af(){return af=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},af.apply(this,arguments)}function pI(n,e){if(n==null)return{};var t={},s=Object.keys(n),o,a;for(a=0;a<s.length;a++)o=s[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function mI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gI(n,e){return n.button===0&&(!e||e==="_self")&&!mI(n)}const yI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vI="6";try{window.__reactRouterVersion=vI}catch{}const _I="startTransition",cy=gT[_I];function wI(n){let{basename:e,children:t,future:s,window:o}=n,a=G.useRef();a.current==null&&(a.current=IT({window:o,v5Compat:!0}));let c=a.current,[d,p]=G.useState({action:c.action,location:c.location}),{v7_startTransition:y}=s||{},_=G.useCallback(E=>{y&&cy?cy(()=>p(E)):p(E)},[p,y]);return G.useLayoutEffect(()=>c.listen(_),[c,_]),G.useEffect(()=>hI(s),[s]),G.createElement(dI,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:s})}const EI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lf=G.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:a,replace:c,state:d,target:p,to:y,preventScrollReset:_,viewTransition:E}=e,I=pI(e,yI),{basename:L}=G.useContext(Ii),b,V=!1;if(typeof y=="string"&&TI.test(y)&&(b=y,EI))try{let Z=new URL(window.location.href),ee=y.startsWith("//")?new URL(Z.protocol+y):new URL(y),fe=$f(ee.pathname,L);ee.origin===Z.origin&&fe!=null?y=fe+ee.search+ee.hash:V=!0}catch{}let P=YT(y,{relative:o}),W=II(y,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:E});function Y(Z){s&&s(Z),Z.defaultPrevented||W(Z)}return G.createElement("a",af({},I,{href:b||P,onClick:V||a?s:Y,ref:t,target:p}))});var hy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(hy||(hy={}));var dy;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(dy||(dy={}));function II(n,e){let{target:t,replace:s,state:o,preventScrollReset:a,relative:c,viewTransition:d}=e===void 0?{}:e,p=_n(),y=Uo(),_=l_(n,{relative:c});return G.useCallback(E=>{if(gI(E,t)){E.preventDefault();let I=s!==void 0?s:cc(y)===cc(_);p(n,{replace:I,state:o,preventScrollReset:a,relative:c,viewTransition:d})}},[y,p,_,s,o,t,n,a,c,d])}function SI(){return k.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-50",children:[k.jsx("h1",{className:"text-4xl font-bold mb-6",children:"Welcome to Digital Co-op"}),k.jsxs("div",{className:"space-x-4",children:[k.jsx(lf,{to:"/signup",className:"px-4 py-2 bg-green-600 text-white rounded",children:"Sign Up"}),k.jsx(lf,{to:"/login",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Log In"})]})]})}const RI=()=>{};var fy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},CI=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[s++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},f_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=a>>2,E=(a&3)<<4|d>>4;let I=(d&15)<<2|y>>6,L=y&63;p||(L=64,c||(I=64)),s.push(t[_],t[E],t[I],t[L])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(d_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||y==null||E==null)throw new AI;const I=a<<2|d>>4;if(s.push(I),y!==64){const L=d<<4&240|y>>2;if(s.push(L),E!==64){const b=y<<6&192|E;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class AI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PI=function(n){const e=d_(n);return f_.encodeByteArray(e,!0)},hc=function(n){return PI(n).replace(/\./g,"")},p_=function(n){try{return f_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=()=>kI().__FIREBASE_DEFAULTS__,bI=()=>{if(typeof process>"u"||typeof fy>"u")return;const n=fy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},NI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&p_(n[1]);return e&&JSON.parse(e)},Dc=()=>{try{return RI()||xI()||bI()||NI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},m_=n=>{var e,t;return(t=(e=Dc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},OI=n=>{const e=m_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},g_=()=>{var n;return(n=Dc())===null||n===void 0?void 0:n.config},y_=n=>{var e;return(e=Dc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[hc(JSON.stringify(t)),hc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function MI(){var n;const e=(n=Dc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BI(){const n=$t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zI(){return!MI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $I(){try{return typeof indexedDB=="object"}catch{return!1}}function HI(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="FirebaseError";class zr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=qI,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?WI(a,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new zr(o,d,s)}}function WI(n,e){return n.replace(GI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const GI=/\{\$([^}]+)}/g;function KI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mi(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const a=n[o],c=e[o];if(py(a)&&py(c)){if(!mi(a,c))return!1}else if(a!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function py(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function qa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,a]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Wa(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function QI(n,e){const t=new YI(n,e);return t.subscribe.bind(t)}class YI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");JI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Hd),o.error===void 0&&(o.error=Hd),o.complete===void 0&&(o.complete=Hd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Hd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(n){return n&&n._delegate?n._delegate:n}class gi{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new DI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eS(e))try{this.getOrInitializeService({instanceIdentifier:hi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});s.resolve(a)}catch{}}}}clearInstance(e=hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hi){return this.instances.has(e)}getOptions(e=hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);s===d&&c.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),a=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=hi){return this.component?this.component.multipleInstances?e:hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZI(n){return n===hi?void 0:n}function eS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(be||(be={}));const nS={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},rS=be.INFO,sS={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},iS=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=sS[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qf{constructor(e){this.name=e,this._logLevel=rS,this._logHandler=iS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const oS=(n,e)=>e.some(t=>n instanceof t);let my,gy;function aS(){return my||(my=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lS(){return gy||(gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v_=new WeakMap,uf=new WeakMap,__=new WeakMap,qd=new WeakMap,Wf=new WeakMap;function uS(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Ts(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&v_.set(t,n)}).catch(()=>{}),Wf.set(e,n),e}function cS(n){if(uf.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});uf.set(n,e)}let cf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return uf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||__.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ts(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hS(n){cf=n(cf)}function dS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Wd(this),e,...t);return __.set(s,e.sort?e.sort():[e]),Ts(s)}:lS().includes(n)?function(...e){return n.apply(Wd(this),e),Ts(v_.get(this))}:function(...e){return Ts(n.apply(Wd(this),e))}}function fS(n){return typeof n=="function"?dS(n):(n instanceof IDBTransaction&&cS(n),oS(n,aS())?new Proxy(n,cf):n)}function Ts(n){if(n instanceof IDBRequest)return uS(n);if(qd.has(n))return qd.get(n);const e=fS(n);return e!==n&&(qd.set(n,e),Wf.set(e,n)),e}const Wd=n=>Wf.get(n);function pS(n,e,{blocked:t,upgrade:s,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=Ts(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Ts(c.result),p.oldVersion,p.newVersion,Ts(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const mS=["get","getKey","getAll","getAllKeys","count"],gS=["put","add","delete","clear"],Gd=new Map;function yy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=gS.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||mS.includes(t)))return;const a=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return Gd.set(e,a),a}hS(n=>({...n,get:(e,t,s)=>yy(e,t)||n.get(e,t,s),has:(e,t)=>!!yy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vS(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function vS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hf="@firebase/app",vy="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new qf("@firebase/app"),_S="@firebase/app-compat",wS="@firebase/analytics-compat",ES="@firebase/analytics",TS="@firebase/app-check-compat",IS="@firebase/app-check",SS="@firebase/auth",RS="@firebase/auth-compat",CS="@firebase/database",AS="@firebase/data-connect",PS="@firebase/database-compat",kS="@firebase/functions",xS="@firebase/functions-compat",bS="@firebase/installations",NS="@firebase/installations-compat",OS="@firebase/messaging",DS="@firebase/messaging-compat",LS="@firebase/performance",VS="@firebase/performance-compat",MS="@firebase/remote-config",FS="@firebase/remote-config-compat",US="@firebase/storage",jS="@firebase/storage-compat",BS="@firebase/firestore",zS="@firebase/vertexai",$S="@firebase/firestore-compat",HS="firebase",qS="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="[DEFAULT]",WS={[hf]:"fire-core",[_S]:"fire-core-compat",[ES]:"fire-analytics",[wS]:"fire-analytics-compat",[IS]:"fire-app-check",[TS]:"fire-app-check-compat",[SS]:"fire-auth",[RS]:"fire-auth-compat",[CS]:"fire-rtdb",[AS]:"fire-data-connect",[PS]:"fire-rtdb-compat",[kS]:"fire-fn",[xS]:"fire-fn-compat",[bS]:"fire-iid",[NS]:"fire-iid-compat",[OS]:"fire-fcm",[DS]:"fire-fcm-compat",[LS]:"fire-perf",[VS]:"fire-perf-compat",[MS]:"fire-rc",[FS]:"fire-rc-compat",[US]:"fire-gcs",[jS]:"fire-gcs-compat",[BS]:"fire-fst",[$S]:"fire-fst-compat",[zS]:"fire-vertex","fire-js":"fire-js",[HS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Map,GS=new Map,ff=new Map;function _y(n,e){try{n.container.addComponent(e)}catch(t){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function xo(n){const e=n.name;if(ff.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;ff.set(e,n);for(const t of dc.values())_y(t,n);for(const t of GS.values())_y(t,n);return!0}function Gf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function bn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new gl("app","Firebase",KS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=qS;function w_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:df,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Is.create("bad-app-name",{appName:String(o)});if(t||(t=g_()),!t)throw Is.create("no-options");const a=dc.get(o);if(a){if(mi(t,a.options)&&mi(s,a.config))return a;throw Is.create("duplicate-app",{appName:o})}const c=new tS(o);for(const p of ff.values())c.addComponent(p);const d=new QS(t,s,c);return dc.set(o,d),d}function E_(n=df){const e=dc.get(n);if(!e&&n===df&&g_())return w_();if(!e)throw Is.create("no-app",{appName:n});return e}function Ss(n,e,t){var s;let o=(s=WS[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(d.join(" "));return}xo(new gi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firebase-heartbeat-database",JS=1,sl="firebase-heartbeat-store";let Kd=null;function T_(){return Kd||(Kd=pS(YS,JS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Is.create("idb-open",{originalErrorMessage:n.message})})),Kd}async function XS(n){try{const t=(await T_()).transaction(sl),s=await t.objectStore(sl).get(I_(n));return await t.done,s}catch(e){if(e instanceof zr)Fr.warn(e.message);else{const t=Is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(t.message)}}}async function wy(n,e){try{const s=(await T_()).transaction(sl,"readwrite");await s.objectStore(sl).put(e,I_(n)),await s.done}catch(t){if(t instanceof zr)Fr.warn(t.message);else{const s=Is.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fr.warn(s.message)}}}function I_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=1024,eR=30;class tR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ey();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>eR){const c=sR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ey(),{heartbeatsToSend:s,unsentEntries:o}=nR(this._heartbeatsCache.heartbeats),a=hc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Fr.warn(t),""}}}function Ey(){return new Date().toISOString().substring(0,10)}function nR(n,e=ZS){const t=[];let s=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),Ty(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ty(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class rR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $I()?HI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await XS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return wy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return wy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ty(n){return hc(JSON.stringify({version:2,heartbeats:n})).length}function sR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n){xo(new gi("platform-logger",e=>new yS(e),"PRIVATE")),xo(new gi("heartbeat",e=>new tR(e),"PRIVATE")),Ss(hf,vy,n),Ss(hf,vy,"esm2017"),Ss("fire-js","")}iR("");function Kf(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function S_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oR=S_,R_=new gl("auth","Firebase",S_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new qf("@firebase/auth");function aR(n,...e){fc.logLevel<=be.WARN&&fc.warn(`Auth (${jo}): ${n}`,...e)}function Xu(n,...e){fc.logLevel<=be.ERROR&&fc.error(`Auth (${jo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(n,...e){throw Qf(n,...e)}function ur(n,...e){return Qf(n,...e)}function C_(n,e,t){const s=Object.assign(Object.assign({},oR()),{[e]:t});return new gl("auth","Firebase",s).create(e,{appName:n.name})}function Mr(n){return C_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qf(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return R_.create(n,...e)}function Ee(n,e,...t){if(!n)throw Qf(e,...t)}function Lr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xu(e),new Error(e)}function Ur(n,e){n||Lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function lR(){return Iy()==="http:"||Iy()==="https:"}function Iy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lR()||UI()||"connection"in navigator)?navigator.onLine:!0}function cR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ur(t>e,"Short delay should be less than long delay!"),this.isMobile=VI()||jI()}get(){return uR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(n,e){Ur(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fR=new vl(3e4,6e4);function Os(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ds(n,e,t,s,o={}){return P_(n,o,async()=>{let a={},c={};s&&(e==="GET"?c=s:a={body:JSON.stringify(s)});const d=yl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},a);return FI()||(y.referrerPolicy="no-referrer"),A_.fetch()(await k_(n,n.config.apiHost,t,d),y)})}async function P_(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},hR),e);try{const o=new mR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Wu(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Wu(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Wu(n,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw C_(n,_,y);Kn(n,_)}}catch(o){if(o instanceof zr)throw o;Kn(n,"network-request-failed",{message:String(o)})}}async function _l(n,e,t,s,o={}){const a=await Ds(n,e,t,s,o);return"mfaPendingCredential"in a&&Kn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function k_(n,e,t,s){const o=`${e}${t}?${s}`,a=n,c=a.config.emulator?Yf(n.config,o):`${n.config.apiScheme}://${o}`;return dR.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function pR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ur(this.auth,"network-request-failed")),fR.get())})}}function Wu(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ur(n,e,s);return o.customData._tokenResponse=t,o}function Sy(n){return n!==void 0&&n.enterprise!==void 0}class gR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return pR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yR(n,e){return Ds(n,"GET","/v2/recaptchaConfig",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(n,e){return Ds(n,"POST","/v1/accounts:delete",e)}async function pc(n,e){return Ds(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _R(n,e=!1){const t=Ht(n),s=await t.getIdToken(e),o=Jf(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:s,authTime:Ya(Qd(o.auth_time)),issuedAtTime:Ya(Qd(o.iat)),expirationTime:Ya(Qd(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Qd(n){return Number(n)*1e3}function Jf(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Xu("JWT malformed, contained fewer than 3 sections"),null;try{const o=p_(t);return o?JSON.parse(o):(Xu("Failed to decode base64 JWT payload"),null)}catch(o){return Xu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ry(n){const e=Jf(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof zr&&wR(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function wR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ya(this.lastLoginAt),this.creationTime=Ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(n){var e;const t=n.auth,s=await n.getIdToken(),o=await il(n,pc(t,{idToken:s}));Ee(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?x_(a.providerUserInfo):[],d=IR(n.providerData,c),p=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new mf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function TR(n){const e=Ht(n);await mc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IR(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function x_(n){return n.map(e=>{var{providerId:t}=e,s=Kf(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(n,e){const t=await P_(n,{},async()=>{const s=yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await k_(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",A_.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function RR(n,e){return Ds(n,"POST","/v2/accounts:revokeToken",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ry(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Ry(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:a}=await SR(e,t);this.updateTokensAndExpiration(s,o,Number(a))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:a}=t,c=new Co;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ee(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Gn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,a=Kf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ER(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new mf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await il(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _R(this,e)}reload(){return TR(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await mc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Mr(this.auth));const e=await this.getIdToken();return await il(this,vR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,a,c,d,p,y,_;const E=(s=t.displayName)!==null&&s!==void 0?s:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,L=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(c=t.photoURL)!==null&&c!==void 0?c:void 0,V=(d=t.tenantId)!==null&&d!==void 0?d:void 0,P=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,W=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Y=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Z,emailVerified:ee,isAnonymous:fe,providerData:re,stsTokenManager:x}=t;Ee(Z&&x,e,"internal-error");const S=Co.fromJSON(this.name,x);Ee(typeof Z=="string",e,"internal-error"),ps(E,e.name),ps(I,e.name),Ee(typeof ee=="boolean",e,"internal-error"),Ee(typeof fe=="boolean",e,"internal-error"),ps(L,e.name),ps(b,e.name),ps(V,e.name),ps(P,e.name),ps(W,e.name),ps(Y,e.name);const C=new Gn({uid:Z,auth:e,email:I,emailVerified:ee,displayName:E,isAnonymous:fe,photoURL:b,phoneNumber:L,tenantId:V,stsTokenManager:S,createdAt:W,lastLoginAt:Y});return re&&Array.isArray(re)&&(C.providerData=re.map(O=>Object.assign({},O))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,t,s=!1){const o=new Co;o.updateFromServerResponse(t);const a=new Gn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await mc(a),a}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?x_(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Co;d.updateFromIdToken(s);const p=new Gn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new mf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=new Map;function Vr(n){Ur(n instanceof Function,"Expected a class definition");let e=Cy.get(n);return e?(Ur(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Cy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}b_.type="NONE";const Ay=b_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(n,e,t){return`firebase:${n}:${e}:${t}`}class Ao{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:a}=this.auth;this.fullUserKey=Zu(this.userKey,o.apiKey,a),this.fullPersistenceKey=Zu("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await pc(this.auth,{idToken:e}).catch(()=>{});return t?Gn._fromGetAccountInfoResponse(this.auth,t,e):null}return Gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ao(Vr(Ay),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||Vr(Ay);const c=Zu(s,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(c);if(_){let E;if(typeof _=="string"){const I=await pc(e,{idToken:_}).catch(()=>{});if(!I)break;E=await Gn._fromGetAccountInfoResponse(e,I,_)}else E=Gn._fromJSON(e,_);y!==a&&(d=E),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Ao(a,e,s):(a=p[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new Ao(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M_(e))return"Blackberry";if(F_(e))return"Webos";if(O_(e))return"Safari";if((e.includes("chrome/")||D_(e))&&!e.includes("edge/"))return"Chrome";if(V_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function N_(n=$t()){return/firefox\//i.test(n)}function O_(n=$t()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D_(n=$t()){return/crios\//i.test(n)}function L_(n=$t()){return/iemobile/i.test(n)}function V_(n=$t()){return/android/i.test(n)}function M_(n=$t()){return/blackberry/i.test(n)}function F_(n=$t()){return/webos/i.test(n)}function Xf(n=$t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CR(n=$t()){var e;return Xf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AR(){return BI()&&document.documentMode===10}function U_(n=$t()){return Xf(n)||V_(n)||F_(n)||M_(n)||/windows phone/i.test(n)||L_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(n,e=[]){let t;switch(n){case"Browser":t=Py($t());break;case"Worker":t=`${Py($t())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${jo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=a=>new Promise((c,d)=>{try{const p=e(a);c(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(n,e={}){return Ds(n,"GET","/v2/passwordPolicy",Os(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=6;class bR{constructor(e){var t,s,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:xR,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,a,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ky(this),this.idTokenSubscription=new ky(this),this.beforeStateQueue=new PR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vr(t)),this._initializationPromise=this.queue(async()=>{var s,o,a;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await pc(this,{idToken:e}),s=await Gn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(bn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Mr(this));const t=e?Ht(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kR(this),t=new bR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gl("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await RR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[Vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&aR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ri(n){return Ht(n)}class ky{constructor(e){this.auth=e,this.observer=null,this.addObserver=QI(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OR(n){Lc=n}function B_(n){return Lc.loadJS(n)}function DR(){return Lc.recaptchaEnterpriseScript}function LR(){return Lc.gapiScript}function VR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class MR{constructor(){this.enterprise=new FR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class FR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const UR="recaptcha-enterprise",z_="NO_RECAPTCHA";class jR{constructor(e){this.type=UR,this.auth=Ri(e)}async verify(e="verify",t=!1){async function s(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{yR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new gR(p);return a.tenantId==null?a._agentRecaptchaConfig=y:a._tenantRecaptchaConfigs[a.tenantId]=y,c(y.siteKey)}}).catch(p=>{d(p)})})}function o(a,c,d){const p=window.grecaptcha;Sy(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(y=>{c(y)}).catch(()=>{c(z_)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MR().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{s(this.auth).then(d=>{if(!t&&Sy(window.grecaptcha))o(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=DR();p.length!==0&&(p+=d),B_(p).then(()=>{o(d,a,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function xy(n,e,t,s=!1,o=!1){const a=new jR(n);let c;if(o)c=z_;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function gf(n,e,t,s,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await xy(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await xy(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n,e){const t=Gf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(mi(a,e??{}))return o;Kn(o,"already-initialized")}return t.initialize({options:e})}function zR(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Vr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function $R(n,e,t){const s=Ri(n);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,a=$_(e),{host:c,port:d}=HR(e),p=d===null?"":`:${d}`,y={url:`${a}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(mi(y,s.config.emulator)&&mi(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,qR()}function $_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function HR(n){const e=$_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const a=o[1];return{host:a,port:by(s.substr(a.length+1))}}else{const[a,c]=s.split(":");return{host:a,port:by(c)}}}function by(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function qR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,t){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}async function WR(n,e){return Ds(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(n,e){return _l(n,"POST","/v1/accounts:signInWithPassword",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(n,e){return _l(n,"POST","/v1/accounts:signInWithEmailLink",Os(n,e))}async function QR(n,e){return _l(n,"POST","/v1/accounts:signInWithEmailLink",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends Zf{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ol(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ol(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gf(e,t,"signInWithPassword",GR);case"emailLink":return KR(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gf(e,s,"signUpPassword",WR);case"emailLink":return QR(e,{idToken:t,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(n,e){return _l(n,"POST","/v1/accounts:signInWithIdp",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="http://localhost";class yi extends Zf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,a=Kf(t,["providerId","signInMethod"]);if(!s||!o)return null;const c=new yi(s,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Po(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Po(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Po(e,t)}buildRequest(){const e={requestUri:YR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XR(n){const e=qa(Wa(n)).link,t=e?qa(Wa(e)).deep_link_id:null,s=qa(Wa(n)).deep_link_id;return(s?qa(Wa(s)).link:null)||s||t||e||n}class ep{constructor(e){var t,s,o,a,c,d;const p=qa(Wa(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,E=JR((o=p.mode)!==null&&o!==void 0?o:null);Ee(y&&_&&E,"argument-error"),this.apiKey=y,this.operation=E,this.code=_,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=XR(e);try{return new ep(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,t){return ol._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ep.parseLink(t);return Ee(s,"argument-error"),ol._fromEmailAndCode(e,s.code,s.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends H_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends wl{constructor(){super("facebook.com")}static credential(e){return yi._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return yi._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return gs.credential(t,s)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends wl{constructor(){super("github.com")}static credential(e){return yi._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends wl{constructor(){super("twitter.com")}static credential(e,t){return yi._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return vs.credential(t,s)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(n,e){return _l(n,"POST","/v1/accounts:signUp",Os(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const a=await Gn._fromIdTokenResponse(e,s,o),c=Ny(s);return new vi({user:a,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Ny(s);return new vi({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Ny(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends zr{constructor(e,t,s,o){var a;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,gc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new gc(e,t,s,o)}}function q_(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?gc._fromErrorAndOperation(n,a,e,s):a})}async function eC(n,e,t=!1){const s=await il(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return vi._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(n,e,t=!1){const{auth:s}=n;if(bn(s.app))return Promise.reject(Mr(s));const o="reauthenticate";try{const a=await il(n,q_(s,o,e,n),t);Ee(a.idToken,s,"internal-error");const c=Jf(a.idToken);Ee(c,s,"internal-error");const{sub:d}=c;return Ee(n.uid===d,s,"user-mismatch"),vi._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Kn(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W_(n,e,t=!1){if(bn(n.app))return Promise.reject(Mr(n));const s="signIn",o=await q_(n,s,e),a=await vi._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(a.user),a}async function nC(n,e){return W_(Ri(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G_(n){const e=Ri(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rC(n,e,t){if(bn(n.app))return Promise.reject(Mr(n));const s=Ri(n),c=await gf(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&G_(n),p}),d=await vi._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function K_(n,e,t){return bn(n.app)?Promise.reject(Mr(n)):nC(Ht(n),Bo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&G_(n),s})}function sC(n,e,t,s){return Ht(n).onIdTokenChanged(e,t,s)}function iC(n,e,t){return Ht(n).beforeAuthStateChanged(e,t)}function oC(n,e,t,s){return Ht(n).onAuthStateChanged(e,t,s)}function aC(n){return Ht(n).signOut()}const yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yc,"1"),this.storage.removeItem(yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=1e3,uC=10;class Y_ extends Q_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},a=this.storage.getItem(s);AR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,uC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},lC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y_.type="LOCAL";const cC=Y_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_ extends Q_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}J_.type="SESSION";const X_=J_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Vc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,a)),p=await hC(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,p)=>{const y=tp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(E){const I=E;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(I.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return window}function fC(n){cr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function pC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function gC(){return Z_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="firebaseLocalStorageDb",yC=1,vc="firebaseLocalStorage",t0="fbase_key";class El{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Mc(n,e){return n.transaction([vc],e?"readwrite":"readonly").objectStore(vc)}function vC(){const n=indexedDB.deleteDatabase(e0);return new El(n).toPromise()}function yf(){const n=indexedDB.open(e0,yC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(vc,{keyPath:t0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(vc)?e(s):(s.close(),await vC(),e(await yf()))})})}async function Oy(n,e,t){const s=Mc(n,!0).put({[t0]:e,value:t});return new El(s).toPromise()}async function _C(n,e){const t=Mc(n,!1).get(e),s=await new El(t).toPromise();return s===void 0?null:s.value}function Dy(n,e){const t=Mc(n,!0).delete(e);return new El(t).toPromise()}const wC=800,EC=3;class n0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>EC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vc._getInstance(gC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await pC(),!this.activeServiceWorker)return;this.sender=new dC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yf();return await Oy(e,yc,"1"),await Dy(e,yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Oy(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>_C(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Dy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Mc(o,!1).getAll();return new El(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n0.type="LOCAL";const TC=n0;new vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(n,e){return e?Vr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends Zf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Po(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function SC(n){return W_(n.auth,new np(n),n.bypassAuthState)}function RC(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),tC(t,new np(n),n.bypassAuthState)}async function CC(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),eC(t,new np(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t,s,o,a=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SC;case"linkViaPopup":case"linkViaRedirect":return CC;case"reauthViaPopup":case"reauthViaRedirect":return RC;default:Kn(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new vl(2e3,1e4);class Ro extends r0{constructor(e,t,s,o,a){super(e,t,o,a),this.provider=s,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AC.get())};e()}}Ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="pendingRedirect",ec=new Map;class kC extends r0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ec.get(this.auth._key());if(!e){try{const s=await xC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ec.set(this.auth._key(),e)}return this.bypassAuthState||ec.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xC(n,e){const t=OC(e),s=NC(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function bC(n,e){ec.set(n._key(),e)}function NC(n){return Vr(n._redirectPersistence)}function OC(n){return Zu(PC,n.config.apiKey,n.name)}async function DC(n,e,t=!1){if(bn(n.app))return Promise.reject(Mr(n));const s=Ri(n),o=IC(s,e),c=await new kC(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=10*60*1e3;class VC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!s0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(ur(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ly(e))}saveEventToCache(e){this.cachedEventUids.add(Ly(e)),this.lastProcessedEventTime=Date.now()}}function Ly(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function s0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(n,e={}){return Ds(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jC=/^https?/;async function BC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await FC(n);for(const t of e)try{if(zC(t))return}catch{}Kn(n,"unauthorized-domain")}function zC(n){const e=pf(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!jC.test(t))return!1;if(UC.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new vl(3e4,6e4);function Vy(){const n=cr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function HC(n){return new Promise((e,t)=>{var s,o,a;function c(){Vy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vy(),t(ur(n,"network-request-failed"))},timeout:$C.get()})}if(!((o=(s=cr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=cr().gapi)===null||a===void 0)&&a.load)c();else{const d=VR("iframefcb");return cr()[d]=()=>{gapi.load?c():t(ur(n,"network-request-failed"))},B_(`${LR()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw tc=null,e})}let tc=null;function qC(n){return tc=tc||HC(n),tc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new vl(5e3,15e3),GC="__/auth/iframe",KC="emulator/auth/iframe",QC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JC(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Yf(e,KC):`https://${n.config.authDomain}/${GC}`,s={apiKey:e.apiKey,appName:n.name,v:jo},o=YC.get(n.config.apiHost);o&&(s.eid=o);const a=n._getFrameworks();return a.length&&(s.fw=a.join(",")),`${t}?${yl(s).slice(1)}`}async function XC(n){const e=await qC(n),t=cr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:JC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QC,dontclear:!0},s=>new Promise(async(o,a)=>{await s.restyle({setHideOnLeave:!1});const c=ur(n,"network-request-failed"),d=cr().setTimeout(()=>{a(c)},WC.get());function p(){cr().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eA=500,tA=600,nA="_blank",rA="http://localhost";class My{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sA(n,e,t,s=eA,o=tA){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},ZC),{width:s.toString(),height:o.toString(),top:a,left:c}),y=$t().toLowerCase();t&&(d=D_(y)?nA:t),N_(y)&&(e=e||rA,p.scrollbars="yes");const _=Object.entries(p).reduce((I,[L,b])=>`${I}${L}=${b},`,"");if(CR(y)&&d!=="_self")return iA(e||"",d),new My(null);const E=window.open(e||"",d,_);Ee(E,n,"popup-blocked");try{E.focus()}catch{}return new My(E)}function iA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="__/auth/handler",aA="emulator/auth/handler",lA=encodeURIComponent("fac");async function Fy(n,e,t,s,o,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:jo,eventId:o};if(e instanceof H_){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",KI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof wl){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),y=p?`#${lA}=${encodeURIComponent(p)}`:"";return`${uA(n)}?${yl(d).slice(1)}${y}`}function uA({config:n}){return n.emulator?Yf(n,aA):`https://${n.authDomain}/${oA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="webStorageSupport";class cA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X_,this._completeRedirectFn=DC,this._overrideRedirectResult=bC}async _openPopup(e,t,s,o){var a;Ur((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Fy(e,t,s,pf(),o);return sA(e,c,tp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const a=await Fy(e,t,s,pf(),o);return fC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Ur(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await XC(e),s=new VC(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yd,{type:Yd},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Yd];c!==void 0&&t(!!c),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=BC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return U_()||O_()||Xf()}}const hA=cA;var Uy="@firebase/auth",jy="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pA(n){xo(new gi("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j_(n)},y=new NR(s,o,a,p);return zR(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),xo(new gi("auth-internal",e=>{const t=Ri(e.getProvider("auth").getImmediate());return(s=>new dA(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(Uy,jy,fA(n)),Ss(Uy,jy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=5*60,gA=y_("authIdTokenMaxAge")||mA;let By=null;const yA=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>gA)return;const o=t==null?void 0:t.token;By!==o&&(By=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function rp(n=E_()){const e=Gf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=BR(n,{popupRedirectResolver:hA,persistence:[TC,cC,X_]}),s=y_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const c=yA(a.toString());iC(t,c,()=>c(t.currentUser)),sC(t,d=>c(d))}}const o=m_("auth");return o&&$R(t,`http://${o}`),t}function vA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}OR({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const a=ur("internal-error");a.customData=o,t(a)},s.type="text/javascript",s.charset="UTF-8",vA().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pA("Browser");var _A="firebase",wA="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss(_A,wA,"app");var zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,i0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function C(){}C.prototype=S.prototype,x.D=S.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(O,M,F){for(var A=Array(arguments.length-2),st=2;st<arguments.length;st++)A[st-2]=arguments[st];return S.prototype[M].apply(O,A)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,C){C||(C=0);var O=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)O[M]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(M=0;16>M;++M)O[M]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=x.g[0],C=x.g[1],M=x.g[2];var F=x.g[3],A=S+(F^C&(M^F))+O[0]+3614090360&4294967295;S=C+(A<<7&4294967295|A>>>25),A=F+(M^S&(C^M))+O[1]+3905402710&4294967295,F=S+(A<<12&4294967295|A>>>20),A=M+(C^F&(S^C))+O[2]+606105819&4294967295,M=F+(A<<17&4294967295|A>>>15),A=C+(S^M&(F^S))+O[3]+3250441966&4294967295,C=M+(A<<22&4294967295|A>>>10),A=S+(F^C&(M^F))+O[4]+4118548399&4294967295,S=C+(A<<7&4294967295|A>>>25),A=F+(M^S&(C^M))+O[5]+1200080426&4294967295,F=S+(A<<12&4294967295|A>>>20),A=M+(C^F&(S^C))+O[6]+2821735955&4294967295,M=F+(A<<17&4294967295|A>>>15),A=C+(S^M&(F^S))+O[7]+4249261313&4294967295,C=M+(A<<22&4294967295|A>>>10),A=S+(F^C&(M^F))+O[8]+1770035416&4294967295,S=C+(A<<7&4294967295|A>>>25),A=F+(M^S&(C^M))+O[9]+2336552879&4294967295,F=S+(A<<12&4294967295|A>>>20),A=M+(C^F&(S^C))+O[10]+4294925233&4294967295,M=F+(A<<17&4294967295|A>>>15),A=C+(S^M&(F^S))+O[11]+2304563134&4294967295,C=M+(A<<22&4294967295|A>>>10),A=S+(F^C&(M^F))+O[12]+1804603682&4294967295,S=C+(A<<7&4294967295|A>>>25),A=F+(M^S&(C^M))+O[13]+4254626195&4294967295,F=S+(A<<12&4294967295|A>>>20),A=M+(C^F&(S^C))+O[14]+2792965006&4294967295,M=F+(A<<17&4294967295|A>>>15),A=C+(S^M&(F^S))+O[15]+1236535329&4294967295,C=M+(A<<22&4294967295|A>>>10),A=S+(M^F&(C^M))+O[1]+4129170786&4294967295,S=C+(A<<5&4294967295|A>>>27),A=F+(C^M&(S^C))+O[6]+3225465664&4294967295,F=S+(A<<9&4294967295|A>>>23),A=M+(S^C&(F^S))+O[11]+643717713&4294967295,M=F+(A<<14&4294967295|A>>>18),A=C+(F^S&(M^F))+O[0]+3921069994&4294967295,C=M+(A<<20&4294967295|A>>>12),A=S+(M^F&(C^M))+O[5]+3593408605&4294967295,S=C+(A<<5&4294967295|A>>>27),A=F+(C^M&(S^C))+O[10]+38016083&4294967295,F=S+(A<<9&4294967295|A>>>23),A=M+(S^C&(F^S))+O[15]+3634488961&4294967295,M=F+(A<<14&4294967295|A>>>18),A=C+(F^S&(M^F))+O[4]+3889429448&4294967295,C=M+(A<<20&4294967295|A>>>12),A=S+(M^F&(C^M))+O[9]+568446438&4294967295,S=C+(A<<5&4294967295|A>>>27),A=F+(C^M&(S^C))+O[14]+3275163606&4294967295,F=S+(A<<9&4294967295|A>>>23),A=M+(S^C&(F^S))+O[3]+4107603335&4294967295,M=F+(A<<14&4294967295|A>>>18),A=C+(F^S&(M^F))+O[8]+1163531501&4294967295,C=M+(A<<20&4294967295|A>>>12),A=S+(M^F&(C^M))+O[13]+2850285829&4294967295,S=C+(A<<5&4294967295|A>>>27),A=F+(C^M&(S^C))+O[2]+4243563512&4294967295,F=S+(A<<9&4294967295|A>>>23),A=M+(S^C&(F^S))+O[7]+1735328473&4294967295,M=F+(A<<14&4294967295|A>>>18),A=C+(F^S&(M^F))+O[12]+2368359562&4294967295,C=M+(A<<20&4294967295|A>>>12),A=S+(C^M^F)+O[5]+4294588738&4294967295,S=C+(A<<4&4294967295|A>>>28),A=F+(S^C^M)+O[8]+2272392833&4294967295,F=S+(A<<11&4294967295|A>>>21),A=M+(F^S^C)+O[11]+1839030562&4294967295,M=F+(A<<16&4294967295|A>>>16),A=C+(M^F^S)+O[14]+4259657740&4294967295,C=M+(A<<23&4294967295|A>>>9),A=S+(C^M^F)+O[1]+2763975236&4294967295,S=C+(A<<4&4294967295|A>>>28),A=F+(S^C^M)+O[4]+1272893353&4294967295,F=S+(A<<11&4294967295|A>>>21),A=M+(F^S^C)+O[7]+4139469664&4294967295,M=F+(A<<16&4294967295|A>>>16),A=C+(M^F^S)+O[10]+3200236656&4294967295,C=M+(A<<23&4294967295|A>>>9),A=S+(C^M^F)+O[13]+681279174&4294967295,S=C+(A<<4&4294967295|A>>>28),A=F+(S^C^M)+O[0]+3936430074&4294967295,F=S+(A<<11&4294967295|A>>>21),A=M+(F^S^C)+O[3]+3572445317&4294967295,M=F+(A<<16&4294967295|A>>>16),A=C+(M^F^S)+O[6]+76029189&4294967295,C=M+(A<<23&4294967295|A>>>9),A=S+(C^M^F)+O[9]+3654602809&4294967295,S=C+(A<<4&4294967295|A>>>28),A=F+(S^C^M)+O[12]+3873151461&4294967295,F=S+(A<<11&4294967295|A>>>21),A=M+(F^S^C)+O[15]+530742520&4294967295,M=F+(A<<16&4294967295|A>>>16),A=C+(M^F^S)+O[2]+3299628645&4294967295,C=M+(A<<23&4294967295|A>>>9),A=S+(M^(C|~F))+O[0]+4096336452&4294967295,S=C+(A<<6&4294967295|A>>>26),A=F+(C^(S|~M))+O[7]+1126891415&4294967295,F=S+(A<<10&4294967295|A>>>22),A=M+(S^(F|~C))+O[14]+2878612391&4294967295,M=F+(A<<15&4294967295|A>>>17),A=C+(F^(M|~S))+O[5]+4237533241&4294967295,C=M+(A<<21&4294967295|A>>>11),A=S+(M^(C|~F))+O[12]+1700485571&4294967295,S=C+(A<<6&4294967295|A>>>26),A=F+(C^(S|~M))+O[3]+2399980690&4294967295,F=S+(A<<10&4294967295|A>>>22),A=M+(S^(F|~C))+O[10]+4293915773&4294967295,M=F+(A<<15&4294967295|A>>>17),A=C+(F^(M|~S))+O[1]+2240044497&4294967295,C=M+(A<<21&4294967295|A>>>11),A=S+(M^(C|~F))+O[8]+1873313359&4294967295,S=C+(A<<6&4294967295|A>>>26),A=F+(C^(S|~M))+O[15]+4264355552&4294967295,F=S+(A<<10&4294967295|A>>>22),A=M+(S^(F|~C))+O[6]+2734768916&4294967295,M=F+(A<<15&4294967295|A>>>17),A=C+(F^(M|~S))+O[13]+1309151649&4294967295,C=M+(A<<21&4294967295|A>>>11),A=S+(M^(C|~F))+O[4]+4149444226&4294967295,S=C+(A<<6&4294967295|A>>>26),A=F+(C^(S|~M))+O[11]+3174756917&4294967295,F=S+(A<<10&4294967295|A>>>22),A=M+(S^(F|~C))+O[2]+718787259&4294967295,M=F+(A<<15&4294967295|A>>>17),A=C+(F^(M|~S))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(M+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+F&4294967295}s.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var C=S-this.blockSize,O=this.B,M=this.h,F=0;F<S;){if(M==0)for(;F<=C;)o(this,x,F),F+=this.blockSize;if(typeof x=="string"){for(;F<S;)if(O[M++]=x.charCodeAt(F++),M==this.blockSize){o(this,O),M=0;break}}else for(;F<S;)if(O[M++]=x[F++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var C=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=C&255,C/=256;for(this.u(x),x=Array(16),S=C=0;4>S;++S)for(var O=0;32>O;O+=8)x[C++]=this.g[S]>>>O&255;return x};function a(x,S){var C=d;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=S(x)}function c(x,S){this.h=S;for(var C=[],O=!0,M=x.length-1;0<=M;M--){var F=x[M]|0;O&&F==S||(C[M]=F,O=!1)}this.g=C}var d={};function p(x){return-128<=x&&128>x?a(x,function(S){return new c([S|0],0>S?-1:0)}):new c([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return E;if(0>x)return P(y(-x));for(var S=[],C=1,O=0;x>=C;O++)S[O]=x/C|0,C*=4294967296;return new c(S,0)}function _(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return P(_(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(S,8)),O=E,M=0;M<x.length;M+=8){var F=Math.min(8,x.length-M),A=parseInt(x.substring(M,M+F),S);8>F?(F=y(Math.pow(S,F)),O=O.j(F).add(y(A))):(O=O.j(C),O=O.add(y(A)))}return O}var E=p(0),I=p(1),L=p(16777216);n=c.prototype,n.m=function(){if(V(this))return-P(this).m();for(var x=0,S=1,C=0;C<this.g.length;C++){var O=this.i(C);x+=(0<=O?O:4294967296+O)*S,S*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(b(this))return"0";if(V(this))return"-"+P(this).toString(x);for(var S=y(Math.pow(x,6)),C=this,O="";;){var M=ee(C,S).g;C=W(C,M.j(S));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=M,b(C))return F+O;for(;6>F.length;)F="0"+F;O=F+O}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function b(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function V(x){return x.h==-1}n.l=function(x){return x=W(this,x),V(x)?-1:b(x)?0:1};function P(x){for(var S=x.g.length,C=[],O=0;O<S;O++)C[O]=~x.g[O];return new c(C,~x.h).add(I)}n.abs=function(){return V(this)?P(this):this},n.add=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],O=0,M=0;M<=S;M++){var F=O+(this.i(M)&65535)+(x.i(M)&65535),A=(F>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);O=A>>>16,F&=65535,A&=65535,C[M]=A<<16|F}return new c(C,C[C.length-1]&-2147483648?-1:0)};function W(x,S){return x.add(P(S))}n.j=function(x){if(b(this)||b(x))return E;if(V(this))return V(x)?P(this).j(P(x)):P(P(this).j(x));if(V(x))return P(this.j(P(x)));if(0>this.l(L)&&0>x.l(L))return y(this.m()*x.m());for(var S=this.g.length+x.g.length,C=[],O=0;O<2*S;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<x.g.length;M++){var F=this.i(O)>>>16,A=this.i(O)&65535,st=x.i(M)>>>16,Ot=x.i(M)&65535;C[2*O+2*M]+=A*Ot,Y(C,2*O+2*M),C[2*O+2*M+1]+=F*Ot,Y(C,2*O+2*M+1),C[2*O+2*M+1]+=A*st,Y(C,2*O+2*M+1),C[2*O+2*M+2]+=F*st,Y(C,2*O+2*M+2)}for(O=0;O<S;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=S;O<2*S;O++)C[O]=0;return new c(C,0)};function Y(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function Z(x,S){this.g=x,this.h=S}function ee(x,S){if(b(S))throw Error("division by zero");if(b(x))return new Z(E,E);if(V(x))return S=ee(P(x),S),new Z(P(S.g),P(S.h));if(V(S))return S=ee(x,P(S)),new Z(P(S.g),S.h);if(30<x.g.length){if(V(x)||V(S))throw Error("slowDivide_ only works with positive integers.");for(var C=I,O=S;0>=O.l(x);)C=fe(C),O=fe(O);var M=re(C,1),F=re(O,1);for(O=re(O,2),C=re(C,2);!b(O);){var A=F.add(O);0>=A.l(x)&&(M=M.add(C),F=A),O=re(O,1),C=re(C,1)}return S=W(x,M.j(S)),new Z(M,S)}for(M=E;0<=x.l(S);){for(C=Math.max(1,Math.floor(x.m()/S.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),F=y(C),A=F.j(S);V(A)||0<A.l(x);)C-=O,F=y(C),A=F.j(S);b(F)&&(F=I),M=M.add(F),x=W(x,A)}return new Z(M,x)}n.A=function(x){return ee(this,x).h},n.and=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)&x.i(O);return new c(C,this.h&x.h)},n.or=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)|x.i(O);return new c(C,this.h|x.h)},n.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)^x.i(O);return new c(C,this.h^x.h)};function fe(x){for(var S=x.g.length+1,C=[],O=0;O<S;O++)C[O]=x.i(O)<<1|x.i(O-1)>>>31;return new c(C,x.h)}function re(x,S){var C=S>>5;S%=32;for(var O=x.g.length-C,M=[],F=0;F<O;F++)M[F]=0<S?x.i(F+C)>>>S|x.i(F+C+1)<<32-S:x.i(F+C);return new c(M,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,i0=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,Rs=c}).apply(typeof zy<"u"?zy:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o0,Ga,a0,nc,vf,l0,u0,c0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(u,m){if(m)e:{var v=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var j=u[T];if(!(j in v))break e;v=v[j]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,T=!1,j={next:function(){if(!T&&v<u.length){var H=v++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function E(u,m,v){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,T),u.apply(m,j)}}return function(){return u.apply(m,arguments)}}function I(u,m,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,I.apply(null,arguments)}function L(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(T,j,H){for(var ie=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ie[ze-2]=arguments[ze];return m.prototype[j].apply(T,ie)}}function V(u){const m=u.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function P(u,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const j=u.length||0,H=T.length||0;u.length=j+H;for(let ie=0;ie<H;ie++)u[j+ie]=T[ie]}else u.push(T)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(u){return/^[\s\xa0]*$/.test(u)}function Z(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function ee(u){return ee[" "](u),u}ee[" "]=function(){};var fe=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function re(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function x(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let v,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(v in T)u[v]=T[v];for(let H=0;H<C.length;H++)v=C[H],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function M(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function F(u){d.setTimeout(()=>{throw u},0)}function A(){var u=ge;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class st{constructor(){this.h=this.g=null}add(m,v){const T=Ot.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Ot=new W(()=>new Dt,u=>u.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,oe=!1,ge=new st,le=()=>{const u=d.Promise.resolve(void 0);$e=()=>{u.then(U)}};var U=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(v){F(v)}var m=Ot;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}oe=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function ke(u,m){if(me.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(fe){e:{try{ee(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}b(ke,me);var De={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),je=0;function qe(u,m,v,T,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=j,this.key=++je,this.da=this.fa=!1}function wt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gr(u){this.src=u,this.g={},this.h=0}gr.prototype.add=function(u,m,v,T,j){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var ie=$r(u,m,T,j);return-1<ie?(m=u[ie],v||(m.fa=!1)):(m=new qe(m,this.src,H,!!T,j),m.fa=v,u.push(m)),m};function Pi(u,m){var v=m.type;if(v in u.g){var T=u.g[v],j=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=j)&&Array.prototype.splice.call(T,j,1),H&&(wt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function $r(u,m,v,T){for(var j=0;j<u.length;++j){var H=u[j];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return j}return-1}var Ms="closure_lm_"+(1e6*Math.random()|0),ki={};function Qo(u,m,v,T,j){if(Array.isArray(m)){for(var H=0;H<m.length;H++)Qo(u,m[H],v,T,j);return null}return v=Xo(v),u&&u[Ue]?u.K(m,v,y(T)?!!T.capture:!1,j):Yo(u,m,v,!1,T,j)}function Yo(u,m,v,T,j,H){if(!m)throw Error("Invalid event type");var ie=y(j)?!!j.capture:!!j,ze=bi(u);if(ze||(u[Ms]=ze=new gr(u)),v=ze.add(m,v,T,ie,H),v.proxy)return v;if(T=xl(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)Ae||(j=ie),j===void 0&&(j=!1),u.addEventListener(m.toString(),T,j);else if(u.attachEvent)u.attachEvent(vr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function xl(){function u(v){return m.call(u.src,u.listener,v)}const m=Jo;return u}function xi(u,m,v,T,j){if(Array.isArray(m))for(var H=0;H<m.length;H++)xi(u,m[H],v,T,j);else T=y(T)?!!T.capture:!!T,v=Xo(v),u&&u[Ue]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],v=$r(H,v,T,j),-1<v&&(wt(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=bi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=$r(m,v,T,j)),(v=-1<u?m[u]:null)&&yr(v))}function yr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ue])Pi(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(vr(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=bi(m))?(Pi(v,u),v.h==0&&(v.src=null,m[Ms]=null)):wt(u)}}}function vr(u){return u in ki?ki[u]:ki[u]="on"+u}function Jo(u,m){if(u.da)u=!0;else{m=new ke(m,this);var v=u.listener,T=u.ha||u.src;u.fa&&yr(u),u=v.call(T,m)}return u}function bi(u){return u=u[Ms],u instanceof gr?u:null}var Ni="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xo(u){return typeof u=="function"?u:(u[Ni]||(u[Ni]=function(m){return u.handleEvent(m)}),u[Ni])}function dt(){Q.call(this),this.i=new gr(this),this.M=this,this.F=null}b(dt,Q),dt.prototype[Ue]=!0,dt.prototype.removeEventListener=function(u,m,v,T){xi(this,u,m,v,T)};function ft(u,m){var v,T=u.F;if(T)for(v=[];T;T=T.F)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new me(m,u);else if(m instanceof me)m.target=m.target||u;else{var j=m;m=new me(T,u),O(m,j)}if(j=!0,v)for(var H=v.length-1;0<=H;H--){var ie=m.g=v[H];j=_r(ie,T,!0,m)&&j}if(ie=m.g=u,j=_r(ie,T,!0,m)&&j,j=_r(ie,T,!1,m)&&j,v)for(H=0;H<v.length;H++)ie=m.g=v[H],j=_r(ie,T,!1,m)&&j}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],T=0;T<v.length;T++)wt(v[T]);delete u.g[m],u.h--}}this.F=null},dt.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},dt.prototype.L=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function _r(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,H=0;H<m.length;++H){var ie=m[H];if(ie&&!ie.da&&ie.capture==v){var ze=ie.listener,pt=ie.ha||ie.src;ie.fa&&Pi(u.i,ie),j=ze.call(pt,T)!==!1&&j}}return j&&!T.defaultPrevented}function Zo(u,m,v){if(typeof u=="function")v&&(u=I(u,v));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function Hr(u){u.g=Zo(()=>{u.g=null,u.i&&(u.i=!1,Hr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Fs extends Q{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Hr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(u){Q.call(this),this.h=u,this.g={}}b(Us,Q);var ea=[];function ta(u){re(u.g,function(m,v){this.g.hasOwnProperty(v)&&yr(m)},u),u.g={}}Us.prototype.N=function(){Us.aa.N.call(this),ta(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var na=d.JSON.stringify,ra=d.JSON.parse,sa=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function js(){}js.prototype.h=null;function Oi(u){return u.h||(u.h=u.i())}function Di(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yn(){me.call(this,"d")}b(Yn,me);function Li(){me.call(this,"c")}b(Li,me);var Jn={},ia=null;function Bs(){return ia=ia||new dt}Jn.La="serverreachability";function oa(u){me.call(this,Jn.La,u)}b(oa,me);function wr(u){const m=Bs();ft(m,new oa(m))}Jn.STAT_EVENT="statevent";function aa(u,m){me.call(this,Jn.STAT_EVENT,u),this.stat=m}b(aa,me);function it(u){const m=Bs();ft(m,new aa(m,u))}Jn.Ma="timingevent";function Vi(u,m){me.call(this,Jn.Ma,u),this.size=m}b(Vi,me);function Nn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zs(){this.g=!0}zs.prototype.xa=function(){this.g=!1};function $s(u,m,v,T,j,H){u.info(function(){if(u.g)if(H)for(var ie="",ze=H.split("&"),pt=0;pt<ze.length;pt++){var Le=ze[pt].split("=");if(1<Le.length){var Et=Le[0];Le=Le[1];var lt=Et.split("_");ie=2<=lt.length&&lt[1]=="type"?ie+(Et+"="+Le+"&"):ie+(Et+"=redacted&")}}else ie=null;else ie=H;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+m+`
`+v+`
`+ie})}function Mi(u,m,v,T,j,H,ie){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+m+`
`+v+`
`+H+" "+ie})}function On(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+dh(u,v)+(T?" "+T:"")})}function la(u,m){u.info(function(){return"TIMEOUT: "+m})}zs.prototype.info=function(){};function dh(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var T=v[u];if(!(2>T.length)){var j=T[1];if(Array.isArray(j)&&!(1>j.length)){var H=j[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ie=1;ie<j.length;ie++)j[ie]=""}}}}return na(v)}catch{return m}}var Fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dn;function Hs(){}b(Hs,js),Hs.prototype.g=function(){return new XMLHttpRequest},Hs.prototype.i=function(){return{}},Dn=new Hs;function Ln(u,m,v,T){this.j=u,this.i=m,this.l=v,this.R=T||1,this.U=new Us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nl}function Nl(){this.i=null,this.g="",this.h=!1}var ua={},Ui={};function ji(u,m,v){u.L=1,u.v=Qr(hn(m)),u.m=v,u.P=!0,ca(u,null)}function ca(u,m){u.F=Date.now(),We(u),u.A=hn(u.v);var v=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Jr(v.i,"t",T),u.C=0,v=u.j.J,u.h=new Nl,u.g=Yl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Fs(I(u.Y,u,u.g),u.O)),m=u.U,v=u.g,T=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(ea[0]=j.toString()),j=ea);for(var H=0;H<j.length;H++){var ie=Qo(v,j[H],T||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),wr(),$s(u.i,u.u,u.A,u.l,u.R,u.m)}Ln.prototype.ca=function(u){u=u.target;const m=this.M;m&&Jt(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)e:{const lt=Jt(this.g);var m=this.g.Ba();const In=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||ga(this.g)))){this.J||lt!=4||m==7||(m==8||0>=In?wr(3):wr(2)),qs(this);var v=this.g.Z();this.X=v;t:if(Ol(this)){var T=ga(this.g);u="";var j=T.length,H=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),qr(this);var ie="";break t}this.h.i=new d.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==j-1)});T.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,Mi(this.i,this.u,this.A,this.l,this.R,lt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,pt=this.g;if((ze=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(ze)){var Le=ze;break t}}Le=null}if(v=Le)On(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ha(this,v);else{this.o=!1,this.s=3,it(12),En(this),qr(this);break e}}if(this.P){v=!0;let fn;for(;!this.J&&this.C<ie.length;)if(fn=fh(this,ie),fn==Ui){lt==4&&(this.s=4,it(14),v=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==ua){this.s=4,it(15),On(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else On(this.i,this.l,fn,null),ha(this,fn);if(Ol(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||ie.length!=0||this.h.h||(this.s=1,it(16),v=!1),this.o=this.o&&v,!v)On(this.i,this.l,ie,"[Invalid Chunked Response]"),En(this),qr(this);else if(0<ie.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),va(Et),Et.M=!0,it(11))}}else On(this.i,this.l,ie,null),ha(this,ie);lt==4&&En(this),this.o&&!this.J&&(lt==4?Ji(this.j,this):(this.o=!1,We(this)))}else Wi(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),En(this),qr(this)}}}catch{}finally{}};function Ol(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function fh(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ui:(v=Number(m.substring(v,T)),isNaN(v)?ua:(T+=1,T+v>m.length?Ui:(m=m.slice(T,T+v),u.C=T+v,m)))}Ln.prototype.cancel=function(){this.J=!0,En(this)};function We(u){u.S=Date.now()+u.I,Dl(u,u.I)}function Dl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Nn(I(u.ba,u),m)}function qs(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Ln.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(la(this.i,this.A),this.L!=2&&(wr(),it(17)),En(this),this.s=2,qr(this)):Dl(this,this.S-u)};function qr(u){u.j.G==0||u.J||Ji(u.j,u)}function En(u){qs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ta(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ha(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||qt(v.h,u))){if(!u.K&&qt(v.h,u)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Yi(v),jn(v);else break e;Qi(v),it(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=Nn(I(v.Za,v),6e3));if(1>=Vl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Rr(v,11)}else if((u.K||v.g==u)&&Yi(v),!Y(m))for(j=v.Da.g.parse(m),m=0;m<j.length;m++){let Le=j[m];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Et=Le[3];Et!=null&&(v.la=Et,v.j.info("VER="+v.la));const lt=Le[4];lt!=null&&(v.Aa=lt,v.j.info("SVER="+v.Aa));const In=Le[5];In!=null&&typeof In=="number"&&0<In&&(T=1.5*In,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const fn=u.g;if(fn){const Xs=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xs){var H=T.h;H.g||Xs.indexOf("spdy")==-1&&Xs.indexOf("quic")==-1&&Xs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(da(H,H.h),H.h=null))}if(T.D){const Zi=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zi&&(T.ya=Zi,He(T.I,T.D,Zi))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var ie=u;if(T.qa=Ql(T,T.J?T.ia:null,T.W),ie.K){Ml(T.h,ie);var ze=ie,pt=T.L;pt&&(ze.I=pt),ze.B&&(qs(ze),We(ze)),T.g=ie}else Js(T);0<v.i.length&&tr(v)}else Le[0]!="stop"&&Le[0]!="close"||Rr(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Rr(v,7):At(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}wr(4)}catch{}}var Ll=class{constructor(u,m){this.g=u,this.map=m}};function Ws(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Vl(u){return u.h?1:u.g?u.g.size:0}function qt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function da(u,m){u.g?u.g.add(m):u.h=m}function Ml(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ws.prototype.cancel=function(){if(this.i=Fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return V(u.i)}function Bi(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,T=0;T<v;T++)m.push(u[T]);return m}m=[],v=0;for(T in u)m[v++]=u[T];return m}function zi(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const T in u)m[v++]=T;return m}}}function Wr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=zi(u),T=Bi(u),j=T.length,H=0;H<j;H++)m.call(void 0,T[H],v&&v[H],u)}var Gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ph(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var T=u[v].indexOf("="),j=null;if(0<=T){var H=u[v].substring(0,T);j=u[v].substring(T+1)}else H=u[v];m(H,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Er(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Er){this.h=u.h,Ks(this,u.j),this.o=u.o,this.g=u.g,Gr(this,u.s),this.l=u.l;var m=u.i,v=new Xn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Kr(this,v),this.m=u.m}else u&&(m=String(u).match(Gs))?(this.h=!1,Ks(this,m[1]||"",!0),this.o=Oe(m[2]||""),this.g=Oe(m[3]||"",!0),Gr(this,m[4]),this.l=Oe(m[5]||"",!0),Kr(this,m[6]||"",!0),this.m=Oe(m[7]||"")):(this.h=!1,this.i=new Xn(null,this.h))}Er.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Yr(m,$i,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Yr(m,$i,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Yr(v,v.charAt(0)=="/"?Bl:jl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Yr(v,fa)),u.join("")};function hn(u){return new Er(u)}function Ks(u,m,v){u.j=v?Oe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Kr(u,m,v){m instanceof Xn?(u.i=m,Zn(u.i,u.h)):(v||(m=Yr(m,zl)),u.i=new Xn(m,u.h))}function He(u,m,v){u.i.set(m,v)}function Qr(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Oe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Ul),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ul(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $i=/[#\/\?@]/g,jl=/[#\?:]/g,Bl=/[#\?]/g,zl=/[#\?@]/g,fa=/#/g;function Xn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ct(u){u.g||(u.g=new Map,u.h=0,u.i&&ph(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Xn.prototype,n.add=function(u,m){Ct(this),this.i=null,u=Tn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Vn(u,m){Ct(u),m=Tn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Mn(u,m){return Ct(u),m=Tn(u,m),u.g.has(m)}n.forEach=function(u,m){Ct(this),this.g.forEach(function(v,T){v.forEach(function(j){u.call(m,j,T,this)},this)},this)},n.na=function(){Ct(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const j=u[T];for(let H=0;H<j.length;H++)v.push(m[T])}return v},n.V=function(u){Ct(this);let m=[];if(typeof u=="string")Mn(this,u)&&(m=m.concat(this.g.get(Tn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Ct(this),this.i=null,u=Tn(this,u),Mn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Jr(u,m,v){Vn(u,m),0<v.length&&(u.i=null,u.g.set(Tn(u,m),V(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const H=encodeURIComponent(String(T)),ie=this.V(T);for(T=0;T<ie.length;T++){var j=H;ie[T]!==""&&(j+="="+encodeURIComponent(String(ie[T]))),u.push(j)}}return this.i=u.join("&")};function Tn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Zn(u,m){m&&!u.j&&(Ct(u),u.i=null,u.g.forEach(function(v,T){var j=T.toLowerCase();T!=j&&(Vn(this,T),Jr(this,j,v))},u)),u.j=m}function mh(u,m){const v=new zs;if(d.Image){const T=new Image;T.onload=L(Yt,v,"TestLoadImage: loaded",!0,m,T),T.onerror=L(Yt,v,"TestLoadImage: error",!1,m,T),T.onabort=L(Yt,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=L(Yt,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function $l(u,m){const v=new zs,T=new AbortController,j=setTimeout(()=>{T.abort(),Yt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(j),H.ok?Yt(v,"TestPingServer: ok",!0,m):Yt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Yt(v,"TestPingServer: error",!1,m)})}function Yt(u,m,v,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(v)}catch{}}function gh(){this.g=new sa}function Hl(u,m,v){const T=v||"";try{Wr(u,function(j,H){let ie=j;y(j)&&(ie=na(j)),m.push(T+H+"="+encodeURIComponent(ie))})}catch(j){throw m.push(T+"type="+encodeURIComponent("_badmap")),j}}function Tr(u){this.l=u.Ub||null,this.j=u.eb||!1}b(Tr,js),Tr.prototype.g=function(){return new Qs(this.l,this.j)},Tr.prototype.i=function(u){return function(){return u}}({});function Qs(u,m){dt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Qs,dt),n=Qs.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Un(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ql(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ql(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Un(this),this.readyState==3&&ql(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},n.Qa=function(u){this.g&&(this.response=u,Fn(this))},n.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Un(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Un(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ir(u){let m="";return re(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Xr(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=Ir(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):He(u,m,v))}function Ye(u){dt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ye,dt);var yh=/^https?$/i,pa=["POST","PUT"];n=Ye.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dn.g(),this.v=this.o?Oi(this.o):Oi(Dn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Ys(this,H);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)v.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(pa,m,void 0))||T||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of v)this.g.setRequestHeader(H,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qi(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Ys(this,H)}};function Ys(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Hi(u),dn(u)}function Hi(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ft(this,"complete"),ft(this,"abort"),dn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dn(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ma(this):this.bb())},n.bb=function(){ma(this)};function ma(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Jt(u)!=4||u.Z()!=2)){if(u.u&&Jt(u)==4)Zo(u.Ea,0,u);else if(ft(u,"readystatechange"),Jt(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=ie===0){var j=String(u.D).match(Gs)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),T=!yh.test(j?j.toLowerCase():"")}v=T}if(v)ft(u,"complete"),ft(u,"success");else{u.m=6;try{var H=2<Jt(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Hi(u)}}finally{dn(u)}}}}function dn(u,m){if(u.g){qi(u);const v=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||ft(u,"ready");try{v.onreadystatechange=T}catch{}}}function qi(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Jt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ra(m)}};function ga(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const m={};u=(u.g&&2<=Jt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(Y(u[T]))continue;var v=M(u[T]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[j]||[];m[j]=H,H.push(v)}x(m,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ya(u){this.Aa=0,this.i=[],this.j=new zs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=er("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=er("baseRetryDelayMs",5e3,u),this.cb=er("retryDelaySeedMs",1e4,u),this.Wa=er("forwardChannelMaxRetries",2,u),this.wa=er("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ws(u&&u.concurrentRequestLimit),this.Da=new gh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ya.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,T){it(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=Ql(this,null,this.W),tr(this)};function At(u){if(Gi(u),u.G==3){var m=u.U++,v=hn(u.I);if(He(v,"SID",u.K),He(v,"RID",m),He(v,"TYPE","terminate"),Sr(u,v),m=new Ln(u,u.j,m),m.L=2,m.v=Qr(hn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Yl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),We(m)}Kl(u)}function jn(u){u.g&&(va(u),u.g.cancel(),u.g=null)}function Gi(u){jn(u),u.u&&(d.clearTimeout(u.u),u.u=null),Yi(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function tr(u){if(!cn(u.h)&&!u.s){u.s=!0;var m=u.Ga;$e||le(),oe||($e(),oe=!0),ge.add(m,u),u.B=0}}function vh(u,m){return Vl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Nn(I(u.Ga,u,m),Gl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Ln(this,this.j,u);let H=this.o;if(this.S&&(H?(H=S(H),O(H,this.S)):H=this.S),this.m!==null||this.O||(j.H=H,H=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Zr(this,j,m),v=hn(this.I),He(v,"RID",u),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),Sr(this,v),H&&(this.O?m="headers="+encodeURIComponent(String(Ir(H)))+"&"+m:this.m&&Xr(v,this.m,H)),da(this.h,j),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",m),He(v,"SID","null"),j.T=!0,ji(j,v,null)):ji(j,v,m),this.G=2}}else this.G==3&&(u?Ki(this,u):this.i.length==0||cn(this.h)||Ki(this))};function Ki(u,m){var v;m?v=m.l:v=u.U++;const T=hn(u.I);He(T,"SID",u.K),He(T,"RID",v),He(T,"AID",u.T),Sr(u,T),u.m&&u.o&&Xr(T,u.m,u.o),v=new Ln(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Zr(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),da(u.h,v),ji(v,T,m)}function Sr(u,m){u.H&&re(u.H,function(v,T){He(m,T,v)}),u.l&&Wr({},function(v,T){He(m,T,v)})}function Zr(u,m,v){v=Math.min(u.i.length,v);var T=u.l?I(u.l.Na,u.l,u):null;e:{var j=u.i;let H=-1;for(;;){const ie=["count="+v];H==-1?0<v?(H=j[0].g,ie.push("ofs="+H)):H=0:ie.push("ofs="+H);let ze=!0;for(let pt=0;pt<v;pt++){let Le=j[pt].g;const Et=j[pt].map;if(Le-=H,0>Le)H=Math.max(0,j[pt].g-100),ze=!1;else try{Hl(Et,ie,"req"+Le+"_")}catch{T&&T(Et)}}if(ze){T=ie.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,T}function Js(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;$e||le(),oe||($e(),oe=!0),ge.add(m,u),u.v=0}}function Qi(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Nn(I(u.Fa,u),Gl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Wl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Nn(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),jn(this),Wl(this))};function va(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Wl(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=hn(u.qa);He(m,"RID","rpc"),He(m,"SID",u.K),He(m,"AID",u.T),He(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(m,"TO",u.ja),He(m,"TYPE","xmlhttp"),Sr(u,m),u.m&&u.o&&Xr(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Qr(hn(m)),v.m=null,v.P=!0,ca(v,u)}n.Za=function(){this.C!=null&&(this.C=null,jn(this),Qi(this),it(19))};function Yi(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ji(u,m){var v=null;if(u.g==m){Yi(u),va(u),u.g=null;var T=2}else if(qt(u.h,m))v=m.D,Ml(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var j=u.B;T=Bs(),ft(T,new Vi(T,v)),tr(u)}else Js(u);else if(j=m.s,j==3||j==0&&0<m.X||!(T==1&&vh(u,m)||T==2&&Qi(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),j){case 1:Rr(u,5);break;case 4:Rr(u,10);break;case 3:Rr(u,6);break;default:Rr(u,2)}}}function Gl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Rr(u,m){if(u.j.info("Error code "+m),m==2){var v=I(u.fb,u),T=u.Xa;const j=!T;T=new Er(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ks(T,"https"),Qr(T),j?mh(T.toString(),v):$l(T.toString(),v)}else it(2);u.G=0,u.l&&u.l.sa(m),Kl(u),Gi(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Kl(u){if(u.G=0,u.ka=[],u.l){const m=Fl(u.h);(m.length!=0||u.i.length!=0)&&(P(u.ka,m),P(u.ka,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.ra()}}function Ql(u,m,v){var T=v instanceof Er?hn(v):new Er(v);if(T.g!="")m&&(T.g=m+"."+T.g),Gr(T,T.s);else{var j=d.location;T=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var H=new Er(null);T&&Ks(H,T),m&&(H.g=m),j&&Gr(H,j),v&&(H.l=v),T=H}return v=u.D,m=u.ya,v&&m&&He(T,v,m),He(T,"VER",u.la),Sr(u,T),T}function Yl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ye(new Tr({eb:v})):new Ye(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _a(){}n=_a.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xi(){}Xi.prototype.g=function(u,m){return new Wt(u,m)};function Wt(u,m){dt.call(this),this.g=new ya(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Y(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Y(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new nr(this)}b(Wt,dt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){At(this.g)},Wt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=na(u),u=v);m.i.push(new Ll(m.Ya++,u)),m.G==3&&tr(m)},Wt.prototype.N=function(){this.g.l=null,delete this.j,At(this.g),delete this.g,Wt.aa.N.call(this)};function Jl(u){Yn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Jl,Yn);function Xl(){Li.call(this),this.status=1}b(Xl,Li);function nr(u){this.g=u}b(nr,_a),nr.prototype.ua=function(){ft(this.g,"a")},nr.prototype.ta=function(u){ft(this.g,new Jl(u))},nr.prototype.sa=function(u){ft(this.g,new Xl)},nr.prototype.ra=function(){ft(this.g,"b")},Xi.prototype.createWebChannel=Xi.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,c0=function(){return new Xi},u0=function(){return Bs()},l0=Jn,vf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,nc=Fi,bl.COMPLETE="complete",a0=bl,Di.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Ga=Di,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,o0=Ye}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});const $y="@firebase/firestore",Hy="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new qf("@firebase/firestore");function Eo(){return _i.logLevel}function ue(n,...e){if(_i.logLevel<=be.DEBUG){const t=e.map(sp);_i.debug(`Firestore (${zo}): ${n}`,...t)}}function jr(n,...e){if(_i.logLevel<=be.ERROR){const t=e.map(sp);_i.error(`Firestore (${zo}): ${n}`,...t)}}function bo(n,...e){if(_i.logLevel<=be.WARN){const t=e.map(sp);_i.warn(`Firestore (${zo}): ${n}`,...t)}}function sp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,h0(n,s,t)}function h0(n,e,t){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw jr(s),new Error(s)}function Be(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||h0(e,o,s)}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jt.UNAUTHENTICATED))}shutdown(){}}class TA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class IA{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let a=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Cs,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Cs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string",31837,{l:s}),new d0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new jt(e)}}class SA{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RA{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new SA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);const s=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const o=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new qy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=AA(40);for(let a=0;a<o.length;++a)s.length<20&&o[a]<t&&(s+=e.charAt(o[a]%62))}return s}}function Pe(n,e){return n<e?-1:n>e?1:0}function _f(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Pe(s,o);{const a=f0(),c=PA(a.encode(Wy(n,t)),a.encode(Wy(e,t)));return c!==0?c:Pe(s,o)}}t+=s>65535?2:1}return Pe(n.length,e.length)}function Wy(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function PA(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Pe(n[t],e[t]);return Pe(n.length,e.length)}function No(n,e,t){return n.length===e.length&&n.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=-62135596800,Ky=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Ky);return new vt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Gy)throw new _e(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ky}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Gy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new vt(0,0))}static max(){return new Se(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="__name__";class lr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return lr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const a=lr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Pe(e.length,t.length)}static compareSegments(e,t){const s=lr.isNumericId(e),o=lr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?lr.extractNumericId(e).compare(lr.extractNumericId(t)):_f(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class rt extends lr{construct(e,t,s){return new rt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const kA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends lr{construct(e,t,s){return new bt(e,t,s)}static isValidIdentifier(e){return kA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qy}static keyField(){return new bt([Qy])}static fromServerFormat(e){const t=[];let s="",o=0;const a=()=>{if(s.length===0)throw new _e(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new _e(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(a(),o++)}if(a(),c)throw new _e(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(rt.fromString(e))}static fromName(e){return new we(rt.fromString(e).popFirst(5))}static empty(){return new we(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=-1;function xA(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new vt(t+1,0):new vt(t,s));return new As(o,we.empty(),e)}function bA(n){return new As(n.readTime,n.key,al)}class As{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new As(Se.min(),we.empty(),al)}static max(){return new As(Se.max(),we.empty(),al)}}function NA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:Pe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==OA)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((s,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,s)=>{t(e)})}static reject(e){return new K((t,s)=>{s(e)})}static waitFor(e){return new K((t,s)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&t()},p=>s(p))}),c=!0,a===o&&t()})}static or(e){let t=K.resolve(!1);for(const s of e)t=t.next(o=>o?K.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,a)=>{s.push(t.call(this,o,a))}),this.waitFor(s)}static mapArray(e,t){return new K((s,o)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const y=p;t(e[y]).next(_=>{c[y]=_,++d,d===a&&s(c)},_=>o(_))}})}static doWhile(e,t){return new K((s,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):s()};a()})}}function LA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ho(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Fc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=-1;function Uc(n){return n==null}function _c(n){return n===0&&1/n==-1/0}function VA(n){return typeof n=="number"&&Number.isInteger(n)&&!_c(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="";function MA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Yy(e)),e=FA(n.get(t),e);return Yy(e)}function FA(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case m0:t+="";break;default:t+=a}}return t}function Yy(n){return n+m0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ls(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function g0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,t){this.comparator=e,this.root=t||xt.EMPTY}insert(e,t){return new et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?s(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,t,s,o,a){this.key=e,this.value=t,this.color=s??xt.RED,this.left=o??xt.EMPTY,this.right=a??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,a){return new xt(e??this.key,t??this.value,s??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const a=s(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,s),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,a){return this}insert(e,t,s){return new xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xy(this.data.getIterator())}getIteratorFrom(e){return new Xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=s.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _t(this.comparator);return t.data=e,t}}class Xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new yn([])}unionWith(e){let t=new _t(bt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new y0("Invalid base64 string: "+a):a}}(e);return new Nt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Nt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const UA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(n){if(Be(!!n,39018),typeof n=="string"){let e=0;const t=UA.exec(n);if(Be(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:at(n.seconds),nanos:at(n.nanos)}}function at(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ks(n){return typeof n=="string"?Nt.fromBase64String(n):Nt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="server_timestamp",_0="__type__",w0="__previous_value__",E0="__local_write_time__";function op(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[_0])===null||t===void 0?void 0:t.stringValue)===v0}function jc(n){const e=n.mapValue.fields[w0];return op(e)?jc(e):e}function ll(n){const e=Ps(n.mapValue.fields[E0].timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,t,s,o,a,c,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}const wc="(default)";class ul{constructor(e,t){this.projectId=e,this.database=t||wc}static empty(){return new ul("","")}get isDefaultDatabase(){return this.database===wc}isEqual(e){return e instanceof ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="__type__",BA="__max__",Qu={mapValue:{}},I0="__vector__",Ec="value";function xs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?op(n)?4:$A(n)?9007199254740991:zA(n)?10:11:Te(28295,{value:n})}function pr(n,e){if(n===e)return!0;const t=xs(n);if(t!==xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ll(n).isEqual(ll(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Ps(o.timestampValue),d=Ps(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return ks(o.bytesValue).isEqual(ks(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return at(o.geoPointValue.latitude)===at(a.geoPointValue.latitude)&&at(o.geoPointValue.longitude)===at(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return at(o.integerValue)===at(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=at(o.doubleValue),d=at(a.doubleValue);return c===d?_c(c)===_c(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return No(n.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(Jy(c)!==Jy(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!pr(c[p],d[p])))return!1;return!0}(n,e);default:return Te(52216,{left:n})}}function cl(n,e){return(n.values||[]).find(t=>pr(t,e))!==void 0}function Oo(n,e){if(n===e)return 0;const t=xs(n),s=xs(e);if(t!==s)return Pe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=at(a.integerValue||a.doubleValue),p=at(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Zy(n.timestampValue,e.timestampValue);case 4:return Zy(ll(n),ll(e));case 5:return _f(n.stringValue,e.stringValue);case 6:return function(a,c){const d=ks(a),p=ks(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=Pe(d[y],p[y]);if(_!==0)return _}return Pe(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=Pe(at(a.latitude),at(c.latitude));return d!==0?d:Pe(at(a.longitude),at(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ev(n.arrayValue,e.arrayValue);case 10:return function(a,c){var d,p,y,_;const E=a.fields||{},I=c.fields||{},L=(d=E[Ec])===null||d===void 0?void 0:d.arrayValue,b=(p=I[Ec])===null||p===void 0?void 0:p.arrayValue,V=Pe(((y=L==null?void 0:L.values)===null||y===void 0?void 0:y.length)||0,((_=b==null?void 0:b.values)===null||_===void 0?void 0:_.length)||0);return V!==0?V:ev(L,b)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===Qu.mapValue&&c===Qu.mapValue)return 0;if(a===Qu.mapValue)return 1;if(c===Qu.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const I=_f(p[E],_[E]);if(I!==0)return I;const L=Oo(d[p[E]],y[_[E]]);if(L!==0)return L}return Pe(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Te(23264,{Pe:t})}}function Zy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Pe(n,e);const t=Ps(n),s=Ps(e),o=Pe(t.seconds,s.seconds);return o!==0?o:Pe(t.nanos,s.nanos)}function ev(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const a=Oo(t[o],s[o]);if(a)return a}return Pe(t.length,s.length)}function Do(n){return wf(n)}function wf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Ps(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ks(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",o=!0;for(const a of t.values||[])o?o=!1:s+=",",s+=wf(a);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of s)a?a=!1:o+=",",o+=`${c}:${wf(t.fields[c])}`;return o+"}"}(n.mapValue):Te(61005,{value:n})}function rc(n){switch(xs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jc(n);return e?16+rc(e):16;case 5:return 2*n.stringValue.length;case 6:return ks(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,a)=>o+rc(a),0)}(n.arrayValue);case 10:case 11:return function(s){let o=0;return Ls(s.fields,(a,c)=>{o+=a.length+rc(c)}),o}(n.mapValue);default:throw Te(13486,{value:n})}}function Ef(n){return!!n&&"integerValue"in n}function ap(n){return!!n&&"arrayValue"in n}function tv(n){return!!n&&"nullValue"in n}function nv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sc(n){return!!n&&"mapValue"in n}function zA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[T0])===null||t===void 0?void 0:t.stringValue)===I0}function Ja(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ls(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ja(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ja(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $A(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===BA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!sc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ja(t)}setAll(e){let t=bt.emptyPath(),s={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}c?s[d.lastSegment()]=Ja(c):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,s,o)}delete(e){const t=this.field(e.popLast());sc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];sc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ls(t,(o,a)=>e[o]=a);for(const o of s)delete e[o]}clone(){return new an(Ja(this.value))}}function S0(n){const e=[];return Ls(n.fields,(t,s)=>{const o=new bt([t]);if(sc(s)){const a=S0(s.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,s,o,a,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Bt(e,0,Se.min(),Se.min(),Se.min(),an.empty(),0)}static newFoundDocument(e,t,s,o){return new Bt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new Bt(e,2,t,Se.min(),Se.min(),an.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,Se.min(),Se.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t){this.position=e,this.inclusive=t}}function rv(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?s=we.comparator(we.fromName(c.referenceValue),t.key):s=Oo(c,t.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function sv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!pr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t="asc"){this.field=e,this.dir=t}}function HA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{}class yt extends R0{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new WA(e,t,s):t==="array-contains"?new QA(e,s):t==="in"?new YA(e,s):t==="not-in"?new JA(e,s):t==="array-contains-any"?new XA(e,s):new yt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new GA(e,s):new KA(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Oo(t,this.value)):t!==null&&xs(this.value)===xs(t)&&this.matchesComparison(Oo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends R0{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new mr(e,t)}matches(e){return C0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function C0(n){return n.op==="and"}function A0(n){return qA(n)&&C0(n)}function qA(n){for(const e of n.filters)if(e instanceof mr)return!1;return!0}function Tf(n){if(n instanceof yt)return n.field.canonicalString()+n.op.toString()+Do(n.value);if(A0(n))return n.filters.map(e=>Tf(e)).join(",");{const e=n.filters.map(t=>Tf(t)).join(",");return`${n.op}(${e})`}}function P0(n,e){return n instanceof yt?function(s,o){return o instanceof yt&&s.op===o.op&&s.field.isEqual(o.field)&&pr(s.value,o.value)}(n,e):n instanceof mr?function(s,o){return o instanceof mr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((a,c,d)=>a&&P0(c,o.filters[d]),!0):!1}(n,e):void Te(19439)}function k0(n){return n instanceof yt?function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`}(n):n instanceof mr?function(t){return t.op.toString()+" {"+t.getFilters().map(k0).join(" ,")+"}"}(n):"Filter"}class WA extends yt{constructor(e,t,s){super(e,t,s),this.key=we.fromName(s.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class GA extends yt{constructor(e,t){super(e,"in",t),this.keys=x0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class KA extends yt{constructor(e,t){super(e,"not-in",t),this.keys=x0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function x0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>we.fromName(s.referenceValue))}class QA extends yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ap(t)&&cl(t.arrayValue,this.value)}}class YA extends yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cl(this.value.arrayValue,t)}}class JA extends yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!cl(this.value.arrayValue,t)}}class XA extends yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ap(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>cl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,t=null,s=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.Ie=null}}function iv(n,e=null,t=[],s=[],o=null,a=null,c=null){return new ZA(n,e,t,s,o,a,c)}function lp(n){const e=Re(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Tf(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),Uc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Do(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Do(s)).join(",")),e.Ie=t}return e.Ie}function up(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!HA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!P0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sv(n.startAt,e.startAt)&&sv(n.endAt,e.endAt)}function If(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t=null,s=[],o=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function eP(n,e,t,s,o,a,c,d){return new Bc(n,e,t,s,o,a,c,d)}function cp(n){return new Bc(n)}function ov(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tP(n){return n.collectionGroup!==null}function Xa(n){const e=Re(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new _t(bt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Ic(a,s))}),t.has(bt.keyField().canonicalString())||e.Ee.push(new Ic(bt.keyField(),s))}return e.Ee}function hr(n){const e=Re(n);return e.de||(e.de=nP(e,Xa(n))),e.de}function nP(n,e){if(n.limitType==="F")return iv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Ic(o.field,a)});const t=n.endAt?new Tc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Tc(n.startAt.position,n.startAt.inclusive):null;return iv(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Sf(n,e,t){return new Bc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zc(n,e){return up(hr(n),hr(e))&&n.limitType===e.limitType}function b0(n){return`${lp(hr(n))}|lt:${n.limitType}`}function To(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>k0(o)).join(", ")}]`),Uc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Do(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Do(o)).join(",")),`Target(${s})`}(hr(n))}; limitType=${n.limitType})`}function $c(n,e){return e.isFoundDocument()&&function(s,o){const a=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):we.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(n,e)&&function(s,o){for(const a of Xa(s))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(s,o){for(const a of s.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(s,o){return!(s.startAt&&!function(c,d,p){const y=rv(c,d,p);return c.inclusive?y<=0:y<0}(s.startAt,Xa(s),o)||s.endAt&&!function(c,d,p){const y=rv(c,d,p);return c.inclusive?y>=0:y>0}(s.endAt,Xa(s),o))}(n,e)}function rP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function N0(n){return(e,t)=>{let s=!1;for(const o of Xa(n)){const a=sP(o,e,t);if(a!==0)return a;s=s||o.field.isKeyField()}return 0}}function sP(n,e,t){const s=n.field.isKeyField()?we.comparator(e.key,t.key):function(a,c,d){const p=c.data.field(a),y=d.data.field(a);return p!==null&&y!==null?Oo(p,y):Te(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,a]of s)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(t,s)=>{for(const[o,a]of s)e(o,a)})}isEmpty(){return g0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new et(we.comparator);function Br(){return iP}const O0=new et(we.comparator);function Ka(...n){let e=O0;for(const t of n)e=e.insert(t.key,t);return e}function D0(n){let e=O0;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function di(){return Za()}function L0(){return Za()}function Za(){return new Ci(n=>n.toString(),(n,e)=>n.isEqual(e))}const oP=new et(we.comparator),aP=new _t(we.comparator);function Ne(...n){let e=aP;for(const t of n)e=e.add(t);return e}const lP=new _t(Pe);function uP(){return lP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function V0(n){return{integerValue:""+n}}function cP(n,e){return VA(e)?V0(e):hp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this._=void 0}}function hP(n,e,t){return n instanceof Sc?function(o,a){const c={fields:{[_0]:{stringValue:v0},[E0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&op(a)&&(a=jc(a)),a&&(c.fields[w0]=a),{mapValue:c}}(t,e):n instanceof hl?F0(n,e):n instanceof dl?U0(n,e):function(o,a){const c=M0(o,a),d=av(c)+av(o.Re);return Ef(c)&&Ef(o.Re)?V0(d):hp(o.serializer,d)}(n,e)}function dP(n,e,t){return n instanceof hl?F0(n,e):n instanceof dl?U0(n,e):t}function M0(n,e){return n instanceof Rc?function(s){return Ef(s)||function(a){return!!a&&"doubleValue"in a}(s)}(e)?e:{integerValue:0}:null}class Sc extends Hc{}class hl extends Hc{constructor(e){super(),this.elements=e}}function F0(n,e){const t=j0(e);for(const s of n.elements)t.some(o=>pr(o,s))||t.push(s);return{arrayValue:{values:t}}}class dl extends Hc{constructor(e){super(),this.elements=e}}function U0(n,e){let t=j0(e);for(const s of n.elements)t=t.filter(o=>!pr(o,s));return{arrayValue:{values:t}}}class Rc extends Hc{constructor(e,t){super(),this.serializer=e,this.Re=t}}function av(n){return at(n.integerValue||n.doubleValue)}function j0(n){return ap(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function fP(n,e){return n.field.isEqual(e.field)&&function(s,o){return s instanceof hl&&o instanceof hl||s instanceof dl&&o instanceof dl?No(s.elements,o.elements,pr):s instanceof Rc&&o instanceof Rc?pr(s.Re,o.Re):s instanceof Sc&&o instanceof Sc}(n.transform,e.transform)}class pP{constructor(e,t){this.version=e,this.transformResults=t}}class dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class qc{}function B0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new $0(n.key,dr.none()):new Tl(n.key,n.data,dr.none());{const t=n.data,s=an.empty();let o=new _t(bt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?s.delete(a):s.set(a,c),o=o.add(a)}return new Vs(n.key,s,new yn(o.toArray()),dr.none())}}function mP(n,e,t){n instanceof Tl?function(o,a,c){const d=o.value.clone(),p=uv(o.fieldTransforms,a,c.transformResults);d.setAll(p),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Vs?function(o,a,c){if(!ic(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=uv(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(z0(o)),p.setAll(d),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function el(n,e,t,s){return n instanceof Tl?function(a,c,d,p){if(!ic(a.precondition,c))return d;const y=a.value.clone(),_=cv(a.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,s):n instanceof Vs?function(a,c,d,p){if(!ic(a.precondition,c))return d;const y=cv(a.fieldTransforms,p,c),_=c.data;return _.setAll(z0(a)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,s):function(a,c,d){return ic(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function gP(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),a=M0(s.transform,o||null);a!=null&&(t===null&&(t=an.empty()),t.set(s.field,a))}return t||null}function lv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&No(s,o,(a,c)=>fP(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Tl extends qc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vs extends qc{constructor(e,t,s,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function z0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function uv(n,e,t){const s=new Map;Be(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);s.set(a.field,dP(c,d,t[o]))}return s}function cv(n,e,t){const s=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);s.set(o.field,hP(a,c,e))}return s}class $0 extends qc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yP extends qc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&mP(a,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=el(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=el(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=L0();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const p=B0(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(t,s)=>lv(t,s))&&No(this.baseMutations,e.baseMutations,(t,s)=>lv(t,s))}}class dp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Be(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return oP}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,s[c].version);return new dp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Ve;function EP(n){switch(n){case ne.OK:return Te(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function H0(n){if(n===void 0)return jr("GRPC error has no .code"),ne.UNKNOWN;switch(n){case ct.OK:return ne.OK;case ct.CANCELLED:return ne.CANCELLED;case ct.UNKNOWN:return ne.UNKNOWN;case ct.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case ct.INTERNAL:return ne.INTERNAL;case ct.UNAVAILABLE:return ne.UNAVAILABLE;case ct.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case ct.NOT_FOUND:return ne.NOT_FOUND;case ct.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case ct.ABORTED:return ne.ABORTED;case ct.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case ct.DATA_LOSS:return ne.DATA_LOSS;default:return Te(39323,{code:n})}}(Ve=ct||(ct={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=new Rs([4294967295,4294967295],0);function hv(n){const e=f0().encode(n),t=new i0;return t.update(e),new Uint8Array(t.digest())}function dv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Rs([t,s],0),new Rs([o,a],0)]}class fp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Qa(`Invalid padding: ${t}`);if(s<0)throw new Qa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Qa(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Qa(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Rs.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply(Rs.fromNumber(s)));return o.compare(TP)===1&&(o=new Rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=hv(e),[s,o]=dv(t);for(let a=0;a<this.hashCount;a++){const c=this.we(s,o,a);if(!this.be(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new fp(a,o,t);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=hv(e),[s,o]=dv(t);for(let a=0;a<this.hashCount;a++){const c=this.we(s,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Qa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t,s,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Il.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Wc(Se.min(),o,new et(Pe),Br(),Ne())}}class Il{constructor(e,t,s,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Il(s,t,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class q0{constructor(e,t){this.targetId=e,this.Ce=t}}class W0{constructor(e,t,s=Nt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class fv{constructor(){this.Fe=0,this.Me=pv(),this.xe=Nt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ne(),t=Ne(),s=Ne();return this.Me.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:a})}}),new Il(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=pv()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Be(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class IP{constructor(e){this.ze=e,this.je=new Map,this.He=Br(),this.Je=Yu(),this.Ye=Yu(),this.Ze=new et(Pe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const a=o.target;if(If(a))if(s===0){const c=new we(a.path);this.tt(t,c,Bt.newNoDocument(c,Se.min()))}else Be(s===1,20013,{expectedCount:s});else{const c=this.ut(t);if(c!==s){const d=this.ct(e),p=d?this.lt(d,e,c):1;if(p!==0){this.st(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,y)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=ks(s).toUint8Array()}catch(p){if(p instanceof y0)return bo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new fp(c,o,a)}catch(p){return bo(p instanceof Qa?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(a=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,a,null),o++)}),o}It(e){const t=new Map;this.je.forEach((a,c)=>{const d=this._t(c);if(d){if(a.current&&If(d.target)){const p=new we(d.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,Bt.newNoDocument(p,e))}a.Le&&(t.set(c,a.qe()),a.Qe())}});let s=Ne();this.Ye.forEach((a,c)=>{let d=!0;c.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(a))}),this.He.forEach((a,c)=>c.setReadTime(e));const o=new Wc(e,t,this.Ze,this.He,s);return this.He=Br(),this.Je=Yu(),this.Ye=Yu(),this.Ze=new et(Pe),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new fv,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new _t(Pe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new _t(Pe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new fv),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Yu(){return new et(we.comparator)}function pv(){return new et(we.comparator)}const SP={asc:"ASCENDING",desc:"DESCENDING"},RP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CP={and:"AND",or:"OR"};class AP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rf(n,e){return n.useProto3Json||Uc(e)?e:{value:e}}function Cc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function PP(n,e){return Cc(n,e.toTimestamp())}function fr(n){return Be(!!n,49232),Se.fromTimestamp(function(t){const s=Ps(t);return new vt(s.seconds,s.nanos)}(n))}function pp(n,e){return Cf(n,e).canonicalString()}function Cf(n,e){const t=function(o){return new rt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function K0(n){const e=rt.fromString(n);return Be(Z0(e),10190,{key:e.toString()}),e}function Af(n,e){return pp(n.databaseId,e.path)}function Jd(n,e){const t=K0(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(Y0(t))}function Q0(n,e){return pp(n.databaseId,e)}function kP(n){const e=K0(n);return e.length===4?rt.emptyPath():Y0(e)}function Pf(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Y0(n){return Be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mv(n,e,t){return{name:Af(n,e),fields:t.value.mapValue.fields}}function xP(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(y,_){return y.useProto3Json?(Be(_===void 0||typeof _=="string",58123),Nt.fromBase64String(_||"")):(Be(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Nt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const _=y.code===void 0?ne.UNKNOWN:H0(y.code);return new _e(_,y.message||"")}(c);t=new W0(s,o,a,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Jd(n,s.document.name),a=fr(s.document.updateTime),c=s.document.createTime?fr(s.document.createTime):Se.min(),d=new an({mapValue:{fields:s.document.fields}}),p=Bt.newFoundDocument(o,a,c,d),y=s.targetIds||[],_=s.removedTargetIds||[];t=new oc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Jd(n,s.document),a=s.readTime?fr(s.readTime):Se.min(),c=Bt.newNoDocument(o,a),d=s.removedTargetIds||[];t=new oc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Jd(n,s.document),a=s.removedTargetIds||[];t=new oc([],a,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:a}=s,c=new wP(o,a),d=s.targetId;t=new q0(d,c)}}return t}function bP(n,e){let t;if(e instanceof Tl)t={update:mv(n,e.key,e.value)};else if(e instanceof $0)t={delete:Af(n,e.key)};else if(e instanceof Vs)t={update:mv(n,e.key,e.data),updateMask:jP(e.fieldMask)};else{if(!(e instanceof yP))return Te(16599,{ft:e.type});t={verify:Af(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const d=c.transform;if(d instanceof Sc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof hl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof dl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Rc)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Te(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:PP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)}(n,e.precondition)),t}function NP(n,e){return n&&n.length>0?(Be(e!==void 0,14353),n.map(t=>function(o,a){let c=o.updateTime?fr(o.updateTime):fr(a);return c.isEqual(Se.min())&&(c=fr(a)),new pP(c,o.transformResults||[])}(t,e))):[]}function OP(n,e){return{documents:[Q0(n,e.path)]}}function DP(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Q0(n,o);const a=function(y){if(y.length!==0)return X0(mr.create(y,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(y){if(y.length!==0)return y.map(_=>function(I){return{field:Io(I.field),direction:MP(I.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Rf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:t,parent:o}}function LP(n){let e=kP(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Be(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(E){const I=J0(E);return I instanceof mr&&A0(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(I=>function(b){return new Ic(So(b.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(E){let I;return I=typeof E=="object"?E.value:E,Uc(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(E){const I=!!E.before,L=E.values||[];return new Tc(L,I)}(t.startAt));let y=null;return t.endAt&&(y=function(E){const I=!E.before,L=E.values||[];return new Tc(L,I)}(t.endAt)),eP(e,o,c,a,d,"F",p,y)}function VP(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function J0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=So(t.unaryFilter.field);return yt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=So(t.unaryFilter.field);return yt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=So(t.unaryFilter.field);return yt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=So(t.unaryFilter.field);return yt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(n):n.fieldFilter!==void 0?function(t){return yt.create(So(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return mr.create(t.compositeFilter.filters.map(s=>J0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(n):Te(30097,{filter:n})}function MP(n){return SP[n]}function FP(n){return RP[n]}function UP(n){return CP[n]}function Io(n){return{fieldPath:n.canonicalString()}}function So(n){return bt.fromServerFormat(n.fieldPath)}function X0(n){return n instanceof yt?function(t){if(t.op==="=="){if(nv(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NAN"}};if(tv(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nv(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NAN"}};if(tv(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(t.field),op:FP(t.op),value:t.value}}}(n):n instanceof mr?function(t){const s=t.getFilters().map(o=>X0(o));return s.length===1?s[0]:{compositeFilter:{op:UP(t.op),filters:s}}}(n):Te(54877,{filter:n})}function jP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Z0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t,s,o,a=Se.min(),c=Se.min(),d=Nt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.wt=e}}function zP(n){const e=LP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.yn=new HP}addToCollectionParentIndex(e,t){return this.yn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(As.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(As.min())}updateCollectionGroup(e,t,s){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class HP{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new _t(rt.comparator),a=!o.has(s);return this.index[t]=o.add(s),a}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new _t(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ew=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(ew,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Lo(0)}static ir(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="LruGarbageCollector",qP=1048576;function vv([n,e],[t,s]){const o=Pe(n,t);return o===0?Pe(e,s):o}class WP{constructor(e){this.cr=e,this.buffer=new _t(vv),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();vv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class GP{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ue(yv,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ho(t)?ue(yv,"Ignoring IndexedDB error during garbage collection: ",t):await $o(t)}await this.Ir(3e5)})}}class KP{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return K.resolve(Fc.le);const s=new WP(t);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Er.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(gv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gv):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let s,o,a,c,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(s=E,d=Date.now(),this.removeTargets(e,s,t))).next(E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(E=>(y=Date.now(),Eo()<=be.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}function QP(n,e){return new KP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.changes=new Ci(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?K.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&el(s.mutation,o,yn.empty(),vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ne()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ne()){const o=di();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(a=>{let c=Ka();return a.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=di();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ne()))}populateOverlays(e,t,s){const o=[];return s.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,s,o){let a=Br();const c=Za(),d=function(){return Za()}();return t.forEach((p,y)=>{const _=s.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Vs)?a=a.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),el(_.mutation,y,_.mutation.getFieldMask(),vt.now())):c.set(y.key,yn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((y,_)=>c.set(y,_)),t.forEach((y,_)=>{var E;return d.set(y,new JP(_,(E=c.get(y))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,t){const s=Za();let o=new et((c,d)=>c-d),a=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=s.get(p)||yn.empty();_=d.applyToLocalView(y,_),s.set(p,_);const E=(o.get(d.batchId)||Ne()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,E=L0();_.forEach(I=>{if(!a.has(I)){const L=B0(t.get(I),s.get(I));L!==null&&E.set(I,L),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return K.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(c){return we.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-a.size):K.resolve(di());let d=al,p=a;return c.next(y=>K.forEach(y,(_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(_)?K.resolve():this.remoteDocumentCache.getEntry(e,_).next(I=>{p=p.insert(_,I)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,p,y,Ne())).next(_=>({batchId:d,changes:D0(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(s=>{let o=Ka();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const a=t.collectionGroup;let c=Ka();return this.indexManager.getCollectionParents(e,a).next(d=>K.forEach(d,p=>{const y=function(E,I){return new Bc(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(_=>{_.forEach((E,I)=>{c=c.insert(E,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a,o))).next(c=>{a.forEach((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,Bt.newInvalidDocument(_)))});let d=Ka();return c.forEach((p,y)=>{const _=a.get(p);_!==void 0&&el(_.mutation,y,yn.empty(),vt.now()),$c(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return K.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:fr(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:zP(o.bundledQuery),readTime:fr(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.overlays=new et(we.comparator),this.Or=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const s=di();return K.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&s.set(o,a)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,a)=>{this.St(e,t,a)}),K.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(s)),K.resolve()}getOverlaysForCollection(e,t,s){const o=di(),a=t.length+1,c=new we(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>s&&o.set(p.getKey(),p)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let a=new et((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let _=a.get(y.largestBatchId);_===null&&(_=di(),a=a.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=di(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return K.resolve(d)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new _P(t,s));let a=this.Or.get(t);a===void 0&&(a=Ne(),this.Or.set(t,a)),this.Or.set(t,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(){this.Nr=new _t(Rt.Br),this.Lr=new _t(Rt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const s=new Rt(e,t);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Qr(new Rt(e,t))}$r(e,t){e.forEach(s=>this.removeReference(s,t))}Ur(e){const t=new we(new rt([])),s=new Rt(t,e),o=new Rt(t,e+1),a=[];return this.Lr.forEachInRange([s,o],c=>{this.Qr(c),a.push(c.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new we(new rt([])),s=new Rt(t,e),o=new Rt(t,e+1);let a=Ne();return this.Lr.forEachInRange([s,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Rt(e,0),s=this.Nr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Rt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return we.comparator(e.key,t.key)||Pe(e.Gr,t.Gr)}static kr(e,t){return Pe(e.Gr,t.Gr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new _t(Rt.Br)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new vP(a,t,s,o);this.mutationQueue.push(c);for(const d of o)this.zr=this.zr.add(new Rt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(c)}lookupMutationBatch(e,t){return K.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Hr(s),a=o<0?0:o;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?ip:this.Jn-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Rt(t,0),o=new Rt(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([s,o],c=>{const d=this.jr(c.Gr);a.push(d)}),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new _t(Pe);return t.forEach(o=>{const a=new Rt(o,0),c=new Rt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,c],d=>{s=s.add(d.Gr)})}),K.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let a=s;we.isDocumentKey(a)||(a=a.child(""));const c=new Rt(new we(a),0);let d=new _t(Pe);return this.zr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.Gr)),!0)},c),K.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return K.forEach(t.mutations,o=>{const a=new Rt(o.key,t.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,t){const s=new Rt(t,0),o=this.zr.firstAfterOrEqual(s);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.Zr=e,this.docs=function(){return new et(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),a=o?o.size:0,c=this.Zr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return K.resolve(s?s.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let s=Br();return t.forEach(o=>{const a=this.docs.get(o);s=s.insert(o,a?a.document.mutableCopy():Bt.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let a=Br();const c=t.path,d=new we(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||NA(bA(_),s)<=0||(o.has(_.key)||$c(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}Xr(e,t){return K.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new s1(this)}getSize(e){return K.resolve(this.size)}}class s1 extends YP{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),K.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.persistence=e,this.ei=new Ci(t=>lp(t),up),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ti=0,this.ni=new mp,this.targetCount=0,this.ri=Lo.rr()}forEachTarget(e,t){return this.ei.forEach((s,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ti&&(this.ti=t),K.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Lo(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.ar(t),K.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,s){let o=0;const a=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.ei.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),K.waitFor(a).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const s=this.ei.get(t)||null;return K.resolve(s)}addMatchingKeys(e,t,s){return this.ni.qr(t,s),K.resolve()}removeMatchingKeys(e,t,s){this.ni.$r(t,s);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),K.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),K.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ni.Wr(t);return K.resolve(s)}containsKey(e,t){return K.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,t){this.ii={},this.overlays={},this.si=new Fc(0),this.oi=!1,this.oi=!0,this._i=new t1,this.referenceDelegate=e(this),this.ai=new i1(this),this.indexManager=new $P,this.remoteDocumentCache=function(o){return new r1(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new BP(t),this.ci=new ZP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new e1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ii[e.toKey()];return s||(s=new n1(t,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new o1(this.si.next());return this.referenceDelegate.li(),s(o).next(a=>this.referenceDelegate.hi(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Pi(e,t){return K.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,t)))}}class o1 extends DA{constructor(e){super(),this.currentSequenceNumber=e}}class gp{constructor(e){this.persistence=e,this.Ti=new mp,this.Ii=null}static Ei(e){return new gp(e)}get di(){if(this.Ii)return this.Ii;throw Te(60996)}addReference(e,t,s){return this.Ti.addReference(s,t),this.di.delete(s.toString()),K.resolve()}removeReference(e,t,s){return this.Ti.removeReference(s,t),this.di.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.di.add(a.toString()))}).next(()=>s.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,s=>{const o=we.fromPath(s);return this.Ai(e,o).next(a=>{a||t.removeEntry(o,Se.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return K.or([()=>K.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Ac{constructor(e,t){this.persistence=e,this.Ri=new Ci(s=>MA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=QP(this,t)}static Ei(e,t){return new Ac(e,t)}li(){}hi(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}Vr(e){let t=0;return this.Ar(e,s=>{t++}).next(()=>t)}Ar(e,t){return K.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(a=>a?K.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Xr(e,c=>this.gr(e,c,t).next(d=>{d||(s++,a.removeEntry(c,Se.min()))})).next(()=>a.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),K.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rc(e.data.value)),t}gr(e,t,s){return K.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ls=s,this.hs=o}static Ps(e,t){let s=Ne(),o=Ne();for(const a of t.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new yp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return zI()?8:LA($t())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,s,o){const a={result:null};return this.Rs(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.Vs(e,t,o,s).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new a1;return this.fs(e,t,c).next(d=>{if(a.result=d,this.Is)return this.gs(e,t,c,d.size)})}).next(()=>a.result)}gs(e,t,s,o){return s.documentReadCount<this.Es?(Eo()<=be.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",To(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),K.resolve()):(Eo()<=be.DEBUG&&ue("QueryEngine","Query:",To(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Eo()<=be.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",To(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(t))):K.resolve())}Rs(e,t){if(ov(t))return K.resolve(null);let s=hr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Sf(t,null,"F"),s=hr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const c=Ne(...a);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.ps(t,d);return this.ys(t,y,c,p.readTime)?this.Rs(e,Sf(t,null,"F")):this.ws(e,y,t,p)}))})))}Vs(e,t,s,o){return ov(t)||o.isEqual(Se.min())?K.resolve(null):this.As.getDocuments(e,s).next(a=>{const c=this.ps(t,a);return this.ys(t,c,s,o)?K.resolve(null):(Eo()<=be.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),To(t)),this.ws(e,c,t,xA(o,al)).next(d=>d))})}ps(e,t){let s=new _t(N0(e));return t.forEach((o,a)=>{$c(e,a)&&(s=s.add(a))}),s}ys(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}fs(e,t,s){return Eo()<=be.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",To(t)),this.As.getDocumentsMatchingQuery(e,t,As.min(),s)}ws(e,t,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="LocalStore",u1=3e8;class c1{constructor(e,t,s,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new et(Pe),this.Ds=new Ci(a=>lp(a),up),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XP(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function h1(n,e,t,s){return new c1(n,e,t,s)}async function nw(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(a=>(o=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(s))).next(a=>{const c=[],d=[];let p=Ne();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of a){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(y=>({Ms:y,removedBatchIds:c,addedBatchIds:d}))})})}function d1(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,p,y,_){const E=y.batch,I=E.keys();let L=K.resolve();return I.forEach(b=>{L=L.next(()=>_.getEntry(p,b)).next(V=>{const P=y.docVersions.get(b);Be(P!==null,48541),V.version.compareTo(P)<0&&(E.applyToRemoteDocument(V,y),V.isValidDocument()&&(V.setReadTime(y.commitVersion),_.addEntry(V)))})}),L.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(t,s,e,a).next(()=>a.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ne();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function rw(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function f1(n,e){const t=Re(n),s=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const d=[];e.targetChanges.forEach((_,E)=>{const I=o.get(E);if(!I)return;d.push(t.ai.removeMatchingKeys(a,_.removedDocuments,E).next(()=>t.ai.addMatchingKeys(a,_.addedDocuments,E)));let L=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?L=L.withResumeToken(Nt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(_.resumeToken,s)),o=o.insert(E,L),function(V,P,W){return V.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=u1?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(I,L,_)&&d.push(t.ai.updateTargetData(a,L))});let p=Br(),y=Ne();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push(p1(a,c,e.documentUpdates).next(_=>{p=_.xs,y=_.Os})),!s.isEqual(Se.min())){const _=t.ai.getLastRemoteSnapshotVersion(a).next(E=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,s));d.push(_)}return K.waitFor(d).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,y)).next(()=>p)}).then(a=>(t.Ss=o,a))}function p1(n,e,t){let s=Ne(),o=Ne();return t.forEach(a=>s=s.add(a)),e.getEntries(n,s).next(a=>{let c=Br();return t.forEach((d,p)=>{const y=a.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ue(vp,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{xs:c,Os:o}})}function m1(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ip),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function g1(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.ai.getTargetData(s,e).next(a=>a?(o=a,K.resolve(o)):t.ai.allocateTargetId(s).next(c=>(o=new ws(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(s.targetId,s),t.Ds.set(e,s.targetId)),s})}async function kf(n,e,t){const s=Re(n),o=s.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",a,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Ho(c))throw c;ue(vp,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function _v(n,e,t){const s=Re(n);let o=Se.min(),a=Ne();return s.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,_){const E=Re(p),I=E.Ds.get(_);return I!==void 0?K.resolve(E.Ss.get(I)):E.ai.getTargetData(y,_)}(s,c,hr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(c,d.targetId).next(p=>{a=p})}).next(()=>s.bs.getDocumentsMatchingQuery(c,e,t?o:Se.min(),t?a:Ne())).next(d=>(y1(s,rP(e),d),{documents:d,Ns:a})))}function y1(n,e,t){let s=n.vs.get(e)||Se.min();t.forEach((o,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),n.vs.set(e,s)}class wv{constructor(){this.activeTargetIds=uP()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v1{constructor(){this.So=new wv,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,s){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new wv,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="ConnectivityMonitor";class Tv{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ue(Ev,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ue(Ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function xf(){return Ju===null?Ju=function(){return 268435456+Math.round(2147483648*Math.random())}():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="RestConnection",w1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class E1{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===wc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,t,s,o,a){const c=xf(),d=this.$o(e,t.toUriEncodedString());ue(Xd,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,a),this.Ko(e,d,p,s).then(y=>(ue(Xd,`Received RPC '${e}' ${c}: `,y),y),y=>{throw bo(Xd,`RPC '${e}' ${c} failed with error: `,y,"url: ",d,"request:",s),y})}Wo(e,t,s,o,a,c){return this.Qo(e,t,s,o,a)}Uo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),s&&s.headers.forEach((o,a)=>e[a]=o)}$o(e,t){const s=w1[e];return`${this.Lo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class I1 extends E1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,s,o){const a=xf();return new Promise((c,d)=>{const p=new o0;p.setWithCredentials(!0),p.listenOnce(a0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case nc.NO_ERROR:const _=p.getResponseJson();ue(Ut,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case nc.TIMEOUT:ue(Ut,`RPC '${e}' ${a} timed out`),d(new _e(ne.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:const E=p.getStatus();if(ue(Ut,`RPC '${e}' ${a} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const L=I==null?void 0:I.error;if(L&&L.status&&L.message){const b=function(P){const W=P.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(W)>=0?W:ne.UNKNOWN}(L.status);d(new _e(b,L.message))}else d(new _e(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new _e(ne.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{s_:e,streamId:a,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{ue(Ut,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(o);ue(Ut,`RPC '${e}' ${a} sending request:`,o),p.send(t,"POST",y,s,15)})}a_(e,t,s){const o=xf(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=c0(),d=u0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=a.join("");ue(Ut,`Creating RPC '${e}' stream ${o}: ${_}`,p);const E=c.createWebChannel(_,p);let I=!1,L=!1;const b=new T1({Go:P=>{L?ue(Ut,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(I||(ue(Ut,`Opening RPC '${e}' stream ${o} transport.`),E.open(),I=!0),ue(Ut,`RPC '${e}' stream ${o} sending:`,P),E.send(P))},zo:()=>E.close()}),V=(P,W,Y)=>{P.listen(W,Z=>{try{Y(Z)}catch(ee){setTimeout(()=>{throw ee},0)}})};return V(E,Ga.EventType.OPEN,()=>{L||(ue(Ut,`RPC '${e}' stream ${o} transport opened.`),b.t_())}),V(E,Ga.EventType.CLOSE,()=>{L||(L=!0,ue(Ut,`RPC '${e}' stream ${o} transport closed`),b.r_())}),V(E,Ga.EventType.ERROR,P=>{L||(L=!0,bo(Ut,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),b.r_(new _e(ne.UNAVAILABLE,"The operation could not be completed")))}),V(E,Ga.EventType.MESSAGE,P=>{var W;if(!L){const Y=P.data[0];Be(!!Y,16349);const Z=Y,ee=(Z==null?void 0:Z.error)||((W=Z[0])===null||W===void 0?void 0:W.error);if(ee){ue(Ut,`RPC '${e}' stream ${o} received error:`,ee);const fe=ee.status;let re=function(C){const O=ct[C];if(O!==void 0)return H0(O)}(fe),x=ee.message;re===void 0&&(re=ne.INTERNAL,x="Unknown error status: "+fe+" with message "+ee.message),L=!0,b.r_(new _e(re,x)),E.close()}else ue(Ut,`RPC '${e}' stream ${o} received:`,Y),b.i_(Y)}}),V(d,l0.STAT_EVENT,P=>{P.stat===vf.PROXY?ue(Ut,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===vf.NOPROXY&&ue(Ut,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.n_()},0),b}}function Zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(n){return new AP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t,s=1e3,o=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=s,this.c_=o,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="PersistentStream";class iw{constructor(e,t,s,o,a,c,d,p){this.bi=e,this.R_=s,this.V_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new sw(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(jr(t.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===t&&this.B_(s,o)},s=>{e(()=>{const o=new _e(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,t){const s=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ue(Iv,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ue(Iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S1 extends iw{constructor(e,t,s,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=xP(this.serializer,e),s=function(a){if(!("targetChange"in a))return Se.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?fr(c.readTime):Se.min()}(e);return this.listener.Q_(t,s)}U_(e){const t={};t.database=Pf(this.serializer),t.addTarget=function(a,c){let d;const p=c.target;if(d=If(p)?{documents:OP(a,p)}:{query:DP(a,p).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=G0(a,c.resumeToken);const y=Rf(a,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Se.min())>0){d.readTime=Cc(a,c.snapshotVersion.toTimestamp());const y=Rf(a,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const s=VP(this.serializer,e);s&&(t.labels=s),this.F_(t)}K_(e){const t={};t.database=Pf(this.serializer),t.removeTarget=e,this.F_(t)}}class R1 extends iw{constructor(e,t,s,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=NP(e.writeResults,e.commitTime),s=fr(e.commitTime);return this.listener.j_(s,t)}H_(){const e={};e.database=Pf(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>bP(this.serializer,s))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{}class A1 extends C1{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new _e(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Qo(e,Cf(t,s),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(ne.UNKNOWN,a.toString())})}Wo(e,t,s,o,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,Cf(t,s),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(ne.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class P1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(jr(t),this.ea=!1):ue("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="RemoteStore";class k1{constructor(e,t,s,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(c=>{s.enqueueAndForget(async()=>{Ai(this)&&(ue(wi,"Restarting streams for network reachability change."),await async function(p){const y=Re(p);y.aa.add(4),await Sl(y),y.la.set("Unknown"),y.aa.delete(4),await Kc(y)}(this))})}),this.la=new P1(s,o)}}async function Kc(n){if(Ai(n))for(const e of n.ua)await e(!0)}async function Sl(n){for(const e of n.ua)await e(!1)}function ow(n,e){const t=Re(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Tp(t)?Ep(t):qo(t).b_()&&wp(t,e))}function _p(n,e){const t=Re(n),s=qo(t);t._a.delete(e),s.b_()&&aw(t,e),t._a.size===0&&(s.b_()?s.v_():Ai(t)&&t.la.set("Unknown"))}function wp(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qo(n).U_(e)}function aw(n,e){n.ha.Ke(e),qo(n).K_(e)}function Ep(n){n.ha=new IP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),qo(n).start(),n.la.ta()}function Tp(n){return Ai(n)&&!qo(n).w_()&&n._a.size>0}function Ai(n){return Re(n).aa.size===0}function lw(n){n.ha=void 0}async function x1(n){n.la.set("Online")}async function b1(n){n._a.forEach((e,t)=>{wp(n,e)})}async function N1(n,e){lw(n),Tp(n)?(n.la.ia(e),Ep(n)):n.la.set("Unknown")}async function O1(n,e,t){if(n.la.set("Online"),e instanceof W0&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o._a.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o._a.delete(d),o.ha.removeTarget(d))}(n,e)}catch(s){ue(wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Pc(n,s)}else if(e instanceof oc?n.ha.Xe(e):e instanceof q0?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Se.min()))try{const s=await rw(n.localStore);t.compareTo(s)>=0&&await function(a,c){const d=a.ha.It(c);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=a._a.get(y);_&&a._a.set(y,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,y)=>{const _=a._a.get(p);if(!_)return;a._a.set(p,_.withResumeToken(Nt.EMPTY_BYTE_STRING,_.snapshotVersion)),aw(a,p);const E=new ws(_.target,p,y,_.sequenceNumber);wp(a,E)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(s){ue(wi,"Failed to raise snapshot:",s),await Pc(n,s)}}async function Pc(n,e,t){if(!Ho(e))throw e;n.aa.add(1),await Sl(n),n.la.set("Offline"),t||(t=()=>rw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(wi,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Kc(n)})}function uw(n,e){return e().catch(t=>Pc(n,t,e))}async function Qc(n){const e=Re(n),t=bs(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:ip;for(;D1(e);)try{const o=await m1(e.localStore,s);if(o===null){e.oa.length===0&&t.v_();break}s=o.batchId,L1(e,o)}catch(o){await Pc(e,o)}cw(e)&&hw(e)}function D1(n){return Ai(n)&&n.oa.length<10}function L1(n,e){n.oa.push(e);const t=bs(n);t.b_()&&t.W_&&t.G_(e.mutations)}function cw(n){return Ai(n)&&!bs(n).w_()&&n.oa.length>0}function hw(n){bs(n).start()}async function V1(n){bs(n).H_()}async function M1(n){const e=bs(n);for(const t of n.oa)e.G_(t.mutations)}async function F1(n,e,t){const s=n.oa.shift(),o=dp.from(s,e,t);await uw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Qc(n)}async function U1(n,e){e&&bs(n).W_&&await async function(s,o){if(function(c){return EP(c)&&c!==ne.ABORTED}(o.code)){const a=s.oa.shift();bs(s).D_(),await uw(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Qc(s)}}(n,e),cw(n)&&hw(n)}async function Sv(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),ue(wi,"RemoteStore received new credentials");const s=Ai(t);t.aa.add(3),await Sl(t),s&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Kc(t)}async function j1(n,e){const t=Re(n);e?(t.aa.delete(2),await Kc(t)):e||(t.aa.add(2),await Sl(t),t.la.set("Unknown"))}function qo(n){return n.Pa||(n.Pa=function(t,s,o){const a=Re(t);return a.Y_(),new S1(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:x1.bind(null,n),Jo:b1.bind(null,n),Zo:N1.bind(null,n),Q_:O1.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Tp(n)?Ep(n):n.la.set("Unknown")):(await n.Pa.stop(),lw(n))})),n.Pa}function bs(n){return n.Ta||(n.Ta=function(t,s,o){const a=Re(t);return a.Y_(),new R1(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:V1.bind(null,n),Zo:U1.bind(null,n),z_:M1.bind(null,n),j_:F1.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Qc(n)):(await n.Ta.stop(),n.oa.length>0&&(ue(wi,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,t,s,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=a,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,a){const c=Date.now()+s,d=new Ip(e,t,c,o,a);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(n,e){if(jr("AsyncQueue",`${e}: ${n}`),Ho(n))return new _e(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||we.comparator(t.key,s.key):(t,s)=>we.comparator(t.key,s.key),this.keyedMap=Ka(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=s.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ko;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.Ia=new et(we.comparator)}track(e){const t=e.doc.key,s=this.Ia.get(t);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(t):e.type===1&&s.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Te(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,s)=>{e.push(s)}),e}}class Vo{constructor(e,t,s,o,a,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,a){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Vo(e,t,ko.emptySet(t),c,s,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class z1{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,s){const o=Re(t),a=o.queries;o.queries=Cv(),a.forEach((c,d)=>{for(const p of d.Ra)p.onError(s)})})(this,new _e(ne.ABORTED,"Firestore shutting down"))}}function Cv(){return new Ci(n=>b0(n),zc)}async function $1(n,e){const t=Re(n);let s=3;const o=e.query;let a=t.queries.get(o);a?!a.Va()&&e.ma()&&(s=2):(a=new B1,s=e.ma()?0:1);try{switch(s){case 0:a.Aa=await t.onListen(o,!0);break;case 1:a.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Sp(c,`Initialization of query '${To(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&Rp(t)}async function H1(n,e){const t=Re(n),s=e.query;let o=3;const a=t.queries.get(s);if(a){const c=a.Ra.indexOf(e);c>=0&&(a.Ra.splice(c,1),a.Ra.length===0?o=e.ma()?0:1:!a.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function q1(n,e){const t=Re(n);let s=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.Ra)d.pa(o)&&(s=!0);c.Aa=o}}s&&Rp(t)}function W1(n,e,t){const s=Re(n),o=s.queries.get(e);if(o)for(const a of o.Ra)a.onError(t);s.queries.delete(e)}function Rp(n){n.fa.forEach(e=>{e.next()})}var bf,Av;(Av=bf||(bf={})).ya="default",Av.Cache="cache";class G1{constructor(e,t,s){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const s=t!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==bf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.key=e}}class fw{constructor(e){this.key=e}}class K1{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ne(),this.mutatedKeys=Ne(),this.Ua=N0(e),this.Ka=new ko(this.Ua)}get Wa(){return this.qa}Ga(e,t){const s=t?t.za:new Rv,o=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,E)=>{const I=o.get(_),L=$c(this.query,E)?E:null,b=!!I&&this.mutatedKeys.has(I.key),V=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let P=!1;I&&L?I.data.isEqual(L.data)?b!==V&&(s.track({type:3,doc:L}),P=!0):this.ja(I,L)||(s.track({type:2,doc:L}),P=!0,(p&&this.Ua(L,p)>0||y&&this.Ua(L,y)<0)&&(d=!0)):!I&&L?(s.track({type:0,doc:L}),P=!0):I&&!L&&(s.track({type:1,doc:I}),P=!0,(p||y)&&(d=!0)),P&&(L?(c=c.add(L),a=V?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),s.track({type:1,doc:_})}return{Ka:c,za:s,ys:d,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((_,E)=>function(L,b){const V=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:P})}};return V(L)-V(b)}(_.type,E.type)||this.Ua(_.doc,E.doc)),this.Ha(s),o=o!=null&&o;const d=t&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,y=p!==this.Qa;return this.Qa=p,c.length!==0||y?{snapshot:new Vo(this.query,e.Ka,a,c,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Rv,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ne(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const t=[];return e.forEach(s=>{this.$a.has(s)||t.push(new fw(s))}),this.$a.forEach(s=>{e.has(s)||t.push(new dw(s))}),t}Xa(e){this.qa=e.Ns,this.$a=Ne();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Vo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Cp="SyncEngine";class Q1{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Y1{constructor(e){this.key=e,this.tu=!1}}class J1{constructor(e,t,s,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new Ci(d=>b0(d),zc),this.iu=new Map,this.su=new Set,this.ou=new et(we.comparator),this._u=new Map,this.au=new mp,this.uu={},this.cu=new Map,this.lu=Lo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function X1(n,e,t=!0){const s=_w(n);let o;const a=s.ru.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.eu()):o=await pw(s,e,t,!0),o}async function Z1(n,e){const t=_w(n);await pw(t,e,!0,!1)}async function pw(n,e,t,s){const o=await g1(n.localStore,hr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return s&&(d=await ek(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&ow(n.remoteStore,o),d}async function ek(n,e,t,s,o){n.Pu=(E,I,L)=>async function(V,P,W,Y){let Z=P.view.Ga(W);Z.ys&&(Z=await _v(V.localStore,P.query,!1).then(({documents:x})=>P.view.Ga(x,Z)));const ee=Y&&Y.targetChanges.get(P.targetId),fe=Y&&Y.targetMismatches.get(P.targetId)!=null,re=P.view.applyChanges(Z,V.isPrimaryClient,ee,fe);return kv(V,P.targetId,re.Ya),re.snapshot}(n,E,I,L);const a=await _v(n.localStore,e,!0),c=new K1(e,a.Ns),d=c.Ga(a.documents),p=Il.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);kv(n,t,y.Ya);const _=new Q1(e,t,c);return n.ru.set(e,_),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),y.snapshot}async function tk(n,e,t){const s=Re(n),o=s.ru.get(e),a=s.iu.get(o.targetId);if(a.length>1)return s.iu.set(o.targetId,a.filter(c=>!zc(c,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await kf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&_p(s.remoteStore,o.targetId),Nf(s,o.targetId)}).catch($o)):(Nf(s,o.targetId),await kf(s.localStore,o.targetId,!0))}async function nk(n,e){const t=Re(n),s=t.ru.get(e),o=t.iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),_p(t.remoteStore,s.targetId))}async function rk(n,e,t){const s=ck(n);try{const o=await function(c,d){const p=Re(c),y=vt.now(),_=d.reduce((L,b)=>L.add(b.key),Ne());let E,I;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let b=Br(),V=Ne();return p.Cs.getEntries(L,_).next(P=>{b=P,b.forEach((W,Y)=>{Y.isValidDocument()||(V=V.add(W))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,b)).next(P=>{E=P;const W=[];for(const Y of d){const Z=gP(Y,E.get(Y.key).overlayedDocument);Z!=null&&W.push(new Vs(Y.key,Z,S0(Z.value.mapValue),dr.exists(!0)))}return p.mutationQueue.addMutationBatch(L,y,W,d)}).next(P=>{I=P;const W=P.applyToLocalDocumentSet(E,V);return p.documentOverlayCache.saveOverlays(L,P.batchId,W)})}).then(()=>({batchId:I.batchId,changes:D0(E)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let y=c.uu[c.currentUser.toKey()];y||(y=new et(Pe)),y=y.insert(d,p),c.uu[c.currentUser.toKey()]=y}(s,o.batchId,t),await Rl(s,o.changes),await Qc(s.remoteStore)}catch(o){const a=Sp(o,"Failed to persist write");t.reject(a)}}async function mw(n,e){const t=Re(n);try{const s=await f1(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t._u.get(a);c&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.tu=!0:o.modifiedDocuments.size>0?Be(c.tu,14607):o.removedDocuments.size>0&&(Be(c.tu,42227),c.tu=!1))}),await Rl(t,s,e)}catch(s){await $o(s)}}function Pv(n,e,t){const s=Re(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ru.forEach((a,c)=>{const d=c.view.ga(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Re(c);p.onlineState=d;let y=!1;p.queries.forEach((_,E)=>{for(const I of E.Ra)I.ga(d)&&(y=!0)}),y&&Rp(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function sk(n,e,t){const s=Re(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s._u.get(e),a=o&&o.key;if(a){let c=new et(we.comparator);c=c.insert(a,Bt.newNoDocument(a,Se.min()));const d=Ne().add(a),p=new Wc(Se.min(),new Map,new et(Pe),c,d);await mw(s,p),s.ou=s.ou.remove(a),s._u.delete(e),Ap(s)}else await kf(s.localStore,e,!1).then(()=>Nf(s,e,t)).catch($o)}async function ik(n,e){const t=Re(n),s=e.batch.batchId;try{const o=await d1(t.localStore,e);yw(t,s,null),gw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Rl(t,o)}catch(o){await $o(o)}}async function ok(n,e,t){const s=Re(n);try{const o=await function(c,d){const p=Re(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,d).next(E=>(Be(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(y,E))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(s.localStore,e);yw(s,e,t),gw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Rl(s,o)}catch(o){await $o(o)}}function gw(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function yw(n,e,t){const s=Re(n);let o=s.uu[s.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function Nf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.iu.get(e))n.ru.delete(s),t&&n.nu.Tu(s,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(s=>{n.au.containsKey(s)||vw(n,s)})}function vw(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(_p(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Ap(n))}function kv(n,e,t){for(const s of t)s instanceof dw?(n.au.addReference(s.key,e),ak(n,s)):s instanceof fw?(ue(Cp,"Document no longer in limbo: "+s.key),n.au.removeReference(s.key,e),n.au.containsKey(s.key)||vw(n,s.key)):Te(19791,{Iu:s})}function ak(n,e){const t=e.key,s=t.path.canonicalString();n.ou.get(t)||n.su.has(s)||(ue(Cp,"New document in limbo: "+t),n.su.add(s),Ap(n))}function Ap(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new we(rt.fromString(e)),s=n.lu.next();n._u.set(s,new Y1(t)),n.ou=n.ou.insert(t,s),ow(n.remoteStore,new ws(hr(cp(t.path)),s,"TargetPurposeLimboResolution",Fc.le))}}async function Rl(n,e,t){const s=Re(n),o=[],a=[],c=[];s.ru.isEmpty()||(s.ru.forEach((d,p)=>{c.push(s.Pu(p,e,t).then(y=>{var _;if((y||t)&&s.isPrimaryClient){const E=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=yp.Ps(p.targetId,y);a.push(E)}}))}),await Promise.all(c),s.nu.Q_(o),await async function(p,y){const _=Re(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>K.forEach(y,I=>K.forEach(I.ls,L=>_.persistence.referenceDelegate.addReference(E,I.targetId,L)).next(()=>K.forEach(I.hs,L=>_.persistence.referenceDelegate.removeReference(E,I.targetId,L)))))}catch(E){if(!Ho(E))throw E;ue(vp,"Failed to update sequence numbers: "+E)}for(const E of y){const I=E.targetId;if(!E.fromCache){const L=_.Ss.get(I),b=L.snapshotVersion,V=L.withLastLimboFreeSnapshotVersion(b);_.Ss=_.Ss.insert(I,V)}}}(s.localStore,a))}async function lk(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){ue(Cp,"User change. New user:",e.toKey());const s=await nw(t.localStore,e);t.currentUser=e,function(a,c){a.cu.forEach(d=>{d.forEach(p=>{p.reject(new _e(ne.CANCELLED,c))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Rl(t,s.Ms)}}function uk(n,e){const t=Re(n),s=t._u.get(e);if(s&&s.tu)return Ne().add(s.key);{let o=Ne();const a=t.iu.get(e);if(!a)return o;for(const c of a){const d=t.ru.get(c);o=o.unionWith(d.view.Wa)}return o}}function _w(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sk.bind(null,e),e.nu.Q_=q1.bind(null,e.eventManager),e.nu.Tu=W1.bind(null,e.eventManager),e}function ck(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ik.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ok.bind(null,e),e}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return h1(this.persistence,new l1,e.initialUser,this.serializer)}Ru(e){return new tw(gp.Ei,this.serializer)}Au(e){return new v1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class hk extends kc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Be(this.persistence.referenceDelegate instanceof Ac,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new GP(s,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new tw(s=>Ac.Ei(s,t),this.serializer)}}class Of{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Pv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lk.bind(null,this.syncEngine),await j1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z1}()}createDatastore(e){const t=Gc(e.databaseInfo.databaseId),s=function(a){return new I1(a)}(e.databaseInfo);return function(a,c,d,p){return new A1(a,c,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,a,c,d){return new k1(s,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Pv(this.syncEngine,t,0),function(){return Tv.C()?new Tv:new _1}())}createSyncEngine(e,t){return function(o,a,c,d,p,y,_){const E=new J1(o,a,c,d,p,y);return _&&(E.hu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Re(o);ue(wi,"RemoteStore shutting down."),a.aa.add(5),await Sl(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Of.provider={build:()=>new Of};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class fk{constructor(e,t,s,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=jt.UNAUTHENTICATED,this.clientId=p0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async c=>{ue(Ns,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(ue(Ns,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Sp(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ef(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Ns,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async o=>{s.isEqual(o)||(await nw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function xv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await pk(n);ue(Ns,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>Sv(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>Sv(e.remoteStore,o)),n._onlineComponents=e}async function pk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Ns,"Using user provided OfflineComponentProvider");try{await ef(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;bo("Error using user provided cache. Falling back to memory cache: "+t),await ef(n,new kc)}}else ue(Ns,"Using default OfflineComponentProvider"),await ef(n,new hk(void 0));return n._offlineComponents}async function ww(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Ns,"Using user provided OnlineComponentProvider"),await xv(n,n._uninitializedComponentsProvider._online)):(ue(Ns,"Using default OnlineComponentProvider"),await xv(n,new Of))),n._onlineComponents}function mk(n){return ww(n).then(e=>e.syncEngine)}async function gk(n){const e=await ww(n),t=e.eventManager;return t.onListen=X1.bind(null,e.syncEngine),t.onUnlisten=tk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Z1.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=nk.bind(null,e.syncEngine),t}function yk(n,e,t={}){const s=new Cs;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,p,y){const _=new dk({next:I=>{_.yu(),c.enqueueAndForget(()=>H1(a,E));const L=I.docs.has(d);!L&&I.fromCache?y.reject(new _e(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&I.fromCache&&p&&p.source==="server"?y.reject(new _e(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),E=new G1(cp(d.path),_,{includeMetadataChanges:!0,Fa:!0});return $1(a,E)}(await gk(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(n,e,t){if(!t)throw new _e(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _k(n,e,t,s){if(e===!0&&s===!0)throw new _e(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Nv(n){if(!we.isDocumentKey(n))throw new _e(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Pp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function Ei(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pp(n);throw new _e(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="firestore.googleapis.com",Ov=!0;class Dv{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tw,this.ssl=Ov}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ov;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ew;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qP)throw new _e(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_k("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ew((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kp{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new EA;switch(s.type){case"firstParty":return new RA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=bv.get(t);s&&(ue("ComponentProvider","Removing Datastore"),bv.delete(t),s.terminate())}(this),Promise.resolve()}}function wk(n,e,t,s={}){var o;const a=(n=Ei(n,kp))._getSettings(),c=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;a.host!==Tw&&a.host!==d&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},a),{host:d,ssl:!1,emulatorOptions:s});if(!mi(p,c)&&(n._setSettings(p),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=jt.MOCK_USER;else{y=LI(s.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new _e(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new jt(E)}n._authCredentials=new TA(new d0(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xp(this.firestore,e,this._query)}}class vn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class fl extends xp{constructor(e,t,s){super(e,t,cp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new we(e))}withConverter(e){return new fl(this.firestore,e,this._path)}}function bp(n,e,...t){if(n=Ht(n),arguments.length===1&&(e=p0.newId()),vk("doc","path",e),n instanceof kp){const s=rt.fromString(e,...t);return Nv(s),new vn(n,null,new we(s))}{if(!(n instanceof vn||n instanceof fl))throw new _e(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(rt.fromString(e,...t));return Nv(s),new vn(n.firestore,n instanceof fl?n.converter:null,new we(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="AsyncQueue";class Vv{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new sw(this,"async_queue_retry"),this.ju=()=>{const s=Zd();s&&ue(Lv,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const t=Zd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Zd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Cs;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ho(e))throw e;ue(Lv,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,jr("INTERNAL UNHANDLED ERROR: ",Mv(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=t,t}enqueueAfterDelay(e,t,s){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=Ip.createAndSchedule(this,e,t,s,a=>this.Xu(a));return this.Uu.push(o),o}Ju(){this.Ku&&Te(47125,{ec:Mv(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function Mv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Yc extends kp{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Vv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vv(e),this._firestoreClient=void 0,await e}}}function Ek(n,e){const t=typeof n=="object"?n:E_(),s=typeof n=="string"?n:wc,o=Gf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const a=OI("firestore");a&&wk(o,...a)}return o}function Iw(n){if(n._terminated)throw new _e(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Tk(n),n._firestoreClient}function Tk(n){var e,t,s;const o=n._freezeSettings(),a=function(d,p,y,_){return new jA(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Ew(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new fk(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(Nt.fromBase64String(e))}catch(t){throw new _e(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mo(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=/^__.*__$/;class Sk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tl(e,this.data,t,this.fieldTransforms)}}class Sw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Vs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Rw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{oc:n})}}class Lp{constructor(e,t,s,o,a,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Lp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return xc(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Rw(this.oc)&&Ik.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Rk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Gc(e)}dc(e,t,s,o=!1){return new Lp({oc:e,methodName:t,Ec:s,path:bt.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cw(n){const e=n._freezeSettings(),t=Gc(n._databaseId);return new Rk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ck(n,e,t,s,o,a={}){const c=n.dc(a.merge||a.mergeFields?2:0,e,t,o);Vp("Data must be an object, but it was:",c,s);const d=Aw(s,c);let p,y;if(a.merge)p=new yn(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const I=Df(e,E,t);if(!c.contains(I))throw new _e(ne.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);kw(_,I)||_.push(I)}p=new yn(_),y=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=c.fieldTransforms;return new Sk(new an(d),p,y)}class Xc extends Np{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xc}}function Ak(n,e,t,s){const o=n.dc(1,e,t);Vp("Data must be an object, but it was:",o,s);const a=[],c=an.empty();Ls(s,(p,y)=>{const _=Mp(e,p,t);y=Ht(y);const E=o.hc(_);if(y instanceof Xc)a.push(_);else{const I=Zc(y,E);I!=null&&(a.push(_),c.set(_,I))}});const d=new yn(a);return new Sw(c,d,o.fieldTransforms)}function Pk(n,e,t,s,o,a){const c=n.dc(1,e,t),d=[Df(e,s,t)],p=[o];if(a.length%2!=0)throw new _e(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<a.length;I+=2)d.push(Df(e,a[I])),p.push(a[I+1]);const y=[],_=an.empty();for(let I=d.length-1;I>=0;--I)if(!kw(y,d[I])){const L=d[I];let b=p[I];b=Ht(b);const V=c.hc(L);if(b instanceof Xc)y.push(L);else{const P=Zc(b,V);P!=null&&(y.push(L),_.set(L,P))}}const E=new yn(y);return new Sw(_,E,c.fieldTransforms)}function Zc(n,e){if(Pw(n=Ht(n)))return Vp("Unsupported field value:",e,n),Aw(n,e);if(n instanceof Np)return function(s,o){if(!Rw(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const a=[];let c=0;for(const d of s){let p=Zc(d,o.Pc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(s,o){if((s=Ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cP(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=vt.fromDate(s);return{timestampValue:Cc(o.serializer,a)}}if(s instanceof vt){const a=new vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Cc(o.serializer,a)}}if(s instanceof Op)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mo)return{bytesValue:G0(o.serializer,s._byteString)};if(s instanceof vn){const a=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(a))throw o.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:pp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Dp)return function(c,d){return{mapValue:{fields:{[T0]:{stringValue:I0},[Ec]:{arrayValue:{values:c.toArray().map(y=>{if(typeof y!="number")throw d.Tc("VectorValues must only contain numeric values.");return hp(d.serializer,y)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Pp(s)}`)}(n,e)}function Aw(n,e){const t={};return g0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(n,(s,o)=>{const a=Zc(o,e.uc(s));a!=null&&(t[s]=a)}),{mapValue:{fields:t}}}function Pw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof vt||n instanceof Op||n instanceof Mo||n instanceof vn||n instanceof Np||n instanceof Dp)}function Vp(n,e,t){if(!Pw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Pp(t);throw s==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+s)}}function Df(n,e,t){if((e=Ht(e))instanceof Jc)return e._internalPath;if(typeof e=="string")return Mp(n,e);throw xc("Field path arguments must be of type string or ",n,!1,void 0,t)}const kk=new RegExp("[~\\*/\\[\\]]");function Mp(n,e,t){if(e.search(kk)>=0)throw xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jc(...e.split("."))._internalPath}catch{throw xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xc(n,e,t,s,o){const a=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new _e(ne.INVALID_ARGUMENT,d+n+p)}function kw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t,s,o,a){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class xk extends xw{data(){return super.data()}}function bw(n,e){return typeof e=="string"?Mp(n,e):e instanceof Jc?e._internalPath:e._delegate._internalPath}class bk{convertValue(e,t="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ls(e,(o,a)=>{s[o]=this.convertValue(a,t)}),s}convertVectorValue(e){var t,s,o;const a=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ec].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(c=>at(c.doubleValue));return new Dp(a)}convertGeoPoint(e){return new Op(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=jc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){const t=Ps(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=rt.fromString(e);Be(Z0(s),9688,{name:e});const o=new ul(s.get(1),s.get(3)),a=new we(s.popFirst(5));return o.isEqual(t)||jr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(n,e,t){let s;return s=n?n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nw extends xw{constructor(e,t,s,o,a,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Dk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(bw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Dk extends Nw{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(n){n=Ei(n,vn);const e=Ei(n.firestore,Yc);return yk(Iw(e),n._key).then(t=>Uk(e,n,t))}class Vk extends bk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}function Mk(n,e,t){n=Ei(n,vn);const s=Ei(n.firestore,Yc),o=Nk(n.converter,e);return Ow(s,[Ck(Cw(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,dr.none())])}function Fk(n,e,t,...s){n=Ei(n,vn);const o=Ei(n.firestore,Yc),a=Cw(o);let c;return c=typeof(e=Ht(e))=="string"||e instanceof Jc?Pk(a,"updateDoc",n._key,e,t,s):Ak(a,"updateDoc",n._key,e),Ow(o,[c.toMutation(n._key,dr.exists(!0))])}function Ow(n,e){return function(s,o){const a=new Cs;return s.asyncQueue.enqueueAndForget(async()=>rk(await mk(s),o,a)),a.promise}(Iw(n),e)}function Uk(n,e,t){const s=t.docs.get(e._key),o=new Vk(n);return new Nw(n,o,e._key,s,new Ok(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){zo=o})(jo),xo(new gi("firestore",(s,{instanceIdentifier:o,options:a})=>{const c=s.getProvider("app").getImmediate(),d=new Yc(new IA(s.getProvider("auth-internal")),new CA(c,s.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new _e(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(y.options.projectId,_)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Ss($y,Hy,e),Ss($y,Hy,"esm2017")})();const jk={apiKey:"AIzaSyCj9bjaoQUopBGdATQ-U1PnGIKxke6qUY4",authDomain:"digital-coop-a3083.firebaseapp.com",projectId:"digital-coop-a3083",storageBucket:"digital-coop-a3083.appspot.com",messagingSenderId:"925403828694",appId:"1:925403828694:web:26224650e09df2a2531477",measurementId:"G-CCWK2CWY7L"},Dw=w_(jk),tl=rp(Dw),Fp=Ek(Dw);function Bk(){const[n,e]=G.useState(""),[t,s]=G.useState(""),[o,a]=G.useState(""),[c,d]=G.useState(!1),p=_n(),y=E=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E),_=async E=>{if(E.preventDefault(),a(""),!y(n)){a("Please enter a valid email address.");return}if(t.length<6){a("Password must be at least 6 characters.");return}d(!0);try{await rC(tl,n,t),p("/onboarding")}catch(I){I.code==="auth/email-already-in-use"?a("This email is already registered. Please log in instead."):a("Something went wrong. Please try again.")}finally{d(!1)}};return k.jsxs("form",{onSubmit:_,className:"p-4 space-y-4",children:[k.jsx("h2",{className:"text-xl font-bold",children:"Sign Up"}),k.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:E=>e(E.target.value),className:"w-full p-2 border rounded"}),k.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:E=>s(E.target.value),className:"w-full p-2 border rounded"}),o&&k.jsx("p",{className:"text-red-600",children:o}),k.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded w-full",disabled:c,children:c?"Creating account...":"Continue"}),k.jsxs("div",{className:"text-center text-sm mt-2",children:["Already have an account?"," ",k.jsx(lf,{to:"/login",className:"text-blue-600 underline",children:"Log in"})]})]})}function zk(){const[n,e]=G.useState(""),[t,s]=G.useState(""),o=_n(),a=async c=>{c.preventDefault();try{await K_(tl,n,t),o("/dashboard")}catch(d){console.error("Login error",d)}};return k.jsxs("form",{onSubmit:a,className:"p-4 space-y-4",children:[k.jsx("h2",{className:"text-xl font-bold",children:"Log In"}),k.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:c=>e(c.target.value),className:"w-full p-2 border rounded"}),k.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:c=>s(c.target.value),className:"w-full p-2 border rounded"}),k.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Log In"})]})}function $k(){var Z;const n=Uo(),[e,t]=G.useState(0),[s,o]=G.useState(((Z=n.state)==null?void 0:Z.answers)||{}),[a,c]=G.useState([]),[d,p]=G.useState(!1),[y,_]=G.useState("");G.useRef(null);const E=_n();rp();const I=[{key:"org_type",question:"What type of organisation are you?",required:!0,options:["Union","NGO","Political Party","Community Group","Social Enterprise","Other"]},{key:"scale",question:"What is your operational scale?",required:!0,options:["Local","Statewide","National","International","Federation with Local Branches","Other"]},{key:"membership_size",question:"How many members/supporters do you have?",required:!1,options:["<100","100–1000","1000–5000","5000–10,000","10,000+"]},{key:"campaign_budget",question:"Typical campaign budget range?",required:!1,options:["Under $5,000","$5,000–$20,000","$20,000–$100,000","Over $100,000"]},{key:"staff_count",question:"How many paid staff?",required:!1,options:["0","1–5","6–20","21–100","100+"]},{key:"volunteer_count",question:"How many active volunteers?",required:!1,options:["0","1–10","11–50","51–200","200+"]},{key:"tech_stack",question:"Which campaign tools do you use? (Select all that apply, then press Submit)",required:!1,multi:!0,options:["Action Network","Yabbr","NationBuilder","Mailchimp","Hootsuite","Canva","HubSpot","Zoho Campaigns","Other"]}],L=I[e],b=ee=>{ee==="Other"?p(!0):Y(L.key,ee)},V=()=>{y.trim()&&(Y(L.key,y.trim()),_(""),p(!1))},P=ee=>{c(fe=>fe.includes(ee)?fe.filter(re=>re!==ee):[...fe,ee])},W=()=>{const ee=a.includes("Other")&&y.trim()?[...a.filter(fe=>fe!=="Other"),y.trim()]:a;Y(L.key,ee),c([]),_(""),p(!1)},Y=(ee,fe)=>{const re={...s,[ee]:fe};o(re),e+1<I.length?t(e+1):E("/onboarding/summary",{state:{answers:re}})};return k.jsxs("div",{className:"p-4 max-w-xl mx-auto",children:[k.jsx("h2",{className:"text-xl font-bold mb-4",children:"Onboarding"}),k.jsx("p",{className:"mb-4",children:L.question}),k.jsx("div",{className:"space-y-2",children:L.multi?k.jsxs(k.Fragment,{children:[L.options.map(ee=>k.jsx("button",{className:`block w-full text-left px-4 py-2 border rounded ${a.includes(ee)?"bg-blue-600 text-white":"bg-gray-100"}`,onClick:()=>P(ee),children:ee},ee)),a.includes("Other")&&k.jsx("input",{className:"w-full mt-2 p-2 border rounded",value:y,onChange:ee=>_(ee.target.value),placeholder:"Please specify"}),k.jsx("button",{className:"mt-4 px-4 py-2 bg-green-600 text-white rounded",onClick:W,children:"Submit"})]}):d?k.jsxs(k.Fragment,{children:[k.jsx("input",{className:"w-full p-2 border rounded",value:y,onChange:ee=>_(ee.target.value),placeholder:"Please specify"}),k.jsx("button",{className:"mt-2 px-4 py-2 bg-green-600 text-white rounded",onClick:V,children:"Continue"})]}):L.options.map(ee=>k.jsx("button",{className:"block w-full text-left px-4 py-2 border rounded bg-gray-100 hover:bg-blue-100",onClick:()=>b(ee),children:ee},ee))})]})}function Hk(){const{state:n}=Uo(),e=_n(),t=rp(),s=(n==null?void 0:n.answers)??{},o=["org_type","scale","membership_size","campaign_budget","staff_count","volunteer_count","tech_stack"],a=async()=>{const d=t.currentUser;d&&(await Mk(bp(Fp,"organisations",d.uid),s),e("/dashboard"))},c=d=>{const p=o.indexOf(d);p>=0&&e("/onboarding",{state:{answers:s,stepIndex:p}})};return k.jsxs("div",{className:"p-4 max-w-xl mx-auto",children:[k.jsx("h2",{className:"text-xl font-bold mb-4",children:"Review Your Answers"}),k.jsx("ul",{className:"space-y-4",children:Object.entries(s).map(([d,p])=>k.jsx("li",{className:"border p-3 rounded shadow-sm bg-white",children:k.jsxs("div",{className:"flex justify-between items-start",children:[k.jsxs("div",{children:[k.jsxs("strong",{children:[d.replace(/_/g," "),":"]}),k.jsx("br",{}),Array.isArray(p)?p.join(", "):p]}),k.jsx("button",{onClick:()=>c(d),className:"ml-4 px-2 py-1 text-sm bg-yellow-400 text-black rounded",children:"Edit"})]})},d))}),k.jsxs("div",{className:"mt-6 flex space-x-4",children:[k.jsx("button",{onClick:()=>e("/onboarding",{state:{answers:s}}),className:"px-4 py-2 bg-gray-300 text-black rounded",children:"Edit All"}),k.jsx("button",{onClick:a,className:"px-4 py-2 bg-green-600 text-white rounded",children:"Confirm & Continue"})]})]})}const Lw=G.createContext();function Up(){return G.useContext(Lw)}function qk({children:n}){const[e,t]=G.useState(null),[s,o]=G.useState(!0);G.useEffect(()=>oC(tl,y=>{t(y||null),o(!1)}),[]);const d={user:e,loading:s,login:(p,y)=>K_(tl,p,y),logout:()=>aC(tl)};return k.jsx(Lw.Provider,{value:d,children:n})}function Vw(n,e){return function(){return n.apply(e,arguments)}}const{toString:Wk}=Object.prototype,{getPrototypeOf:jp}=Object,{iterator:eh,toStringTag:Mw}=Symbol,th=(n=>e=>{const t=Wk.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Qn=n=>(n=n.toLowerCase(),e=>th(e)===n),nh=n=>e=>typeof e===n,{isArray:Wo}=Array,pl=nh("undefined");function Gk(n){return n!==null&&!pl(n)&&n.constructor!==null&&!pl(n.constructor)&&ln(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Fw=Qn("ArrayBuffer");function Kk(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Fw(n.buffer),e}const Qk=nh("string"),ln=nh("function"),Uw=nh("number"),rh=n=>n!==null&&typeof n=="object",Yk=n=>n===!0||n===!1,ac=n=>{if(th(n)!=="object")return!1;const e=jp(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Mw in n)&&!(eh in n)},Jk=Qn("Date"),Xk=Qn("File"),Zk=Qn("Blob"),ex=Qn("FileList"),tx=n=>rh(n)&&ln(n.pipe),nx=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ln(n.append)&&((e=th(n))==="formdata"||e==="object"&&ln(n.toString)&&n.toString()==="[object FormData]"))},rx=Qn("URLSearchParams"),[sx,ix,ox,ax]=["ReadableStream","Request","Response","Headers"].map(Qn),lx=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cl(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let s,o;if(typeof n!="object"&&(n=[n]),Wo(n))for(s=0,o=n.length;s<o;s++)e.call(null,n[s],s,n);else{const a=t?Object.getOwnPropertyNames(n):Object.keys(n),c=a.length;let d;for(s=0;s<c;s++)d=a[s],e.call(null,n[d],d,n)}}function jw(n,e){e=e.toLowerCase();const t=Object.keys(n);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const fi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Bw=n=>!pl(n)&&n!==fi;function Lf(){const{caseless:n}=Bw(this)&&this||{},e={},t=(s,o)=>{const a=n&&jw(e,o)||o;ac(e[a])&&ac(s)?e[a]=Lf(e[a],s):ac(s)?e[a]=Lf({},s):Wo(s)?e[a]=s.slice():e[a]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Cl(arguments[s],t);return e}const ux=(n,e,t,{allOwnKeys:s}={})=>(Cl(e,(o,a)=>{t&&ln(o)?n[a]=Vw(o,t):n[a]=o},{allOwnKeys:s}),n),cx=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),hx=(n,e,t,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},dx=(n,e,t,s)=>{let o,a,c;const d={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),a=o.length;a-- >0;)c=o[a],(!s||s(c,n,e))&&!d[c]&&(e[c]=n[c],d[c]=!0);n=t!==!1&&jp(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},fx=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const s=n.indexOf(e,t);return s!==-1&&s===t},px=n=>{if(!n)return null;if(Wo(n))return n;let e=n.length;if(!Uw(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},mx=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&jp(Uint8Array)),gx=(n,e)=>{const s=(n&&n[eh]).call(n);let o;for(;(o=s.next())&&!o.done;){const a=o.value;e.call(n,a[0],a[1])}},yx=(n,e)=>{let t;const s=[];for(;(t=n.exec(e))!==null;)s.push(t);return s},vx=Qn("HTMLFormElement"),_x=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),Fv=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),wx=Qn("RegExp"),zw=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),s={};Cl(t,(o,a)=>{let c;(c=e(o,a,n))!==!1&&(s[a]=c||o)}),Object.defineProperties(n,s)},Ex=n=>{zw(n,(e,t)=>{if(ln(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=n[t];if(ln(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Tx=(n,e)=>{const t={},s=o=>{o.forEach(a=>{t[a]=!0})};return Wo(n)?s(n):s(String(n).split(e)),t},Ix=()=>{},Sx=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Rx(n){return!!(n&&ln(n.append)&&n[Mw]==="FormData"&&n[eh])}const Cx=n=>{const e=new Array(10),t=(s,o)=>{if(rh(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const a=Wo(s)?[]:{};return Cl(s,(c,d)=>{const p=t(c,o+1);!pl(p)&&(a[d]=p)}),e[o]=void 0,a}}return s};return t(n,0)},Ax=Qn("AsyncFunction"),Px=n=>n&&(rh(n)||ln(n))&&ln(n.then)&&ln(n.catch),$w=((n,e)=>n?setImmediate:e?((t,s)=>(fi.addEventListener("message",({source:o,data:a})=>{o===fi&&a===t&&s.length&&s.shift()()},!1),o=>{s.push(o),fi.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ln(fi.postMessage)),kx=typeof queueMicrotask<"u"?queueMicrotask.bind(fi):typeof process<"u"&&process.nextTick||$w,xx=n=>n!=null&&ln(n[eh]),q={isArray:Wo,isArrayBuffer:Fw,isBuffer:Gk,isFormData:nx,isArrayBufferView:Kk,isString:Qk,isNumber:Uw,isBoolean:Yk,isObject:rh,isPlainObject:ac,isReadableStream:sx,isRequest:ix,isResponse:ox,isHeaders:ax,isUndefined:pl,isDate:Jk,isFile:Xk,isBlob:Zk,isRegExp:wx,isFunction:ln,isStream:tx,isURLSearchParams:rx,isTypedArray:mx,isFileList:ex,forEach:Cl,merge:Lf,extend:ux,trim:lx,stripBOM:cx,inherits:hx,toFlatObject:dx,kindOf:th,kindOfTest:Qn,endsWith:fx,toArray:px,forEachEntry:gx,matchAll:yx,isHTMLForm:vx,hasOwnProperty:Fv,hasOwnProp:Fv,reduceDescriptors:zw,freezeMethods:Ex,toObjectSet:Tx,toCamelCase:_x,noop:Ix,toFiniteNumber:Sx,findKey:jw,global:fi,isContextDefined:Bw,isSpecCompliantForm:Rx,toJSONObject:Cx,isAsyncFn:Ax,isThenable:Px,setImmediate:$w,asap:kx,isIterable:xx};function Ce(n,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}q.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const Hw=Ce.prototype,qw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{qw[n]={value:n}});Object.defineProperties(Ce,qw);Object.defineProperty(Hw,"isAxiosError",{value:!0});Ce.from=(n,e,t,s,o,a)=>{const c=Object.create(Hw);return q.toFlatObject(n,c,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),Ce.call(c,n.message,e,t,s,o),c.cause=n,c.name=n.name,a&&Object.assign(c,a),c};const bx=null;function Vf(n){return q.isPlainObject(n)||q.isArray(n)}function Ww(n){return q.endsWith(n,"[]")?n.slice(0,-2):n}function Uv(n,e,t){return n?n.concat(e).map(function(o,a){return o=Ww(o),!t&&a?"["+o+"]":o}).join(t?".":""):e}function Nx(n){return q.isArray(n)&&!n.some(Vf)}const Ox=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function sh(n,e,t){if(!q.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(V,P){return!q.isUndefined(P[V])});const s=t.metaTokens,o=t.visitor||_,a=t.dots,c=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(o))throw new TypeError("visitor must be a function");function y(b){if(b===null)return"";if(q.isDate(b))return b.toISOString();if(!p&&q.isBlob(b))throw new Ce("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(b)||q.isTypedArray(b)?p&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function _(b,V,P){let W=b;if(b&&!P&&typeof b=="object"){if(q.endsWith(V,"{}"))V=s?V:V.slice(0,-2),b=JSON.stringify(b);else if(q.isArray(b)&&Nx(b)||(q.isFileList(b)||q.endsWith(V,"[]"))&&(W=q.toArray(b)))return V=Ww(V),W.forEach(function(Z,ee){!(q.isUndefined(Z)||Z===null)&&e.append(c===!0?Uv([V],ee,a):c===null?V:V+"[]",y(Z))}),!1}return Vf(b)?!0:(e.append(Uv(P,V,a),y(b)),!1)}const E=[],I=Object.assign(Ox,{defaultVisitor:_,convertValue:y,isVisitable:Vf});function L(b,V){if(!q.isUndefined(b)){if(E.indexOf(b)!==-1)throw Error("Circular reference detected in "+V.join("."));E.push(b),q.forEach(b,function(W,Y){(!(q.isUndefined(W)||W===null)&&o.call(e,W,q.isString(Y)?Y.trim():Y,V,I))===!0&&L(W,V?V.concat(Y):[Y])}),E.pop()}}if(!q.isObject(n))throw new TypeError("data must be an object");return L(n),e}function jv(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Bp(n,e){this._pairs=[],n&&sh(n,this,e)}const Gw=Bp.prototype;Gw.append=function(e,t){this._pairs.push([e,t])};Gw.toString=function(e){const t=e?function(s){return e.call(this,s,jv)}:jv;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function Dx(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kw(n,e,t){if(!e)return n;const s=t&&t.encode||Dx;q.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let a;if(o?a=o(e,t):a=q.isURLSearchParams(e)?e.toString():new Bp(e,t).toString(s),a){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class Bv{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Qw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lx=typeof URLSearchParams<"u"?URLSearchParams:Bp,Vx=typeof FormData<"u"?FormData:null,Mx=typeof Blob<"u"?Blob:null,Fx={isBrowser:!0,classes:{URLSearchParams:Lx,FormData:Vx,Blob:Mx},protocols:["http","https","file","blob","url","data"]},zp=typeof window<"u"&&typeof document<"u",Mf=typeof navigator=="object"&&navigator||void 0,Ux=zp&&(!Mf||["ReactNative","NativeScript","NS"].indexOf(Mf.product)<0),jx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Bx=zp&&window.location.href||"http://localhost",zx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zp,hasStandardBrowserEnv:Ux,hasStandardBrowserWebWorkerEnv:jx,navigator:Mf,origin:Bx},Symbol.toStringTag,{value:"Module"})),zt={...zx,...Fx};function $x(n,e){return sh(n,new zt.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,a){return zt.isNode&&q.isBuffer(t)?(this.append(s,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function Hx(n){return q.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function qx(n){const e={},t=Object.keys(n);let s;const o=t.length;let a;for(s=0;s<o;s++)a=t[s],e[a]=n[a];return e}function Yw(n){function e(t,s,o,a){let c=t[a++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),p=a>=t.length;return c=!c&&q.isArray(o)?o.length:c,p?(q.hasOwnProp(o,c)?o[c]=[o[c],s]:o[c]=s,!d):((!o[c]||!q.isObject(o[c]))&&(o[c]=[]),e(t,s,o[c],a)&&q.isArray(o[c])&&(o[c]=qx(o[c])),!d)}if(q.isFormData(n)&&q.isFunction(n.entries)){const t={};return q.forEachEntry(n,(s,o)=>{e(Hx(s),o,t,0)}),t}return null}function Wx(n,e,t){if(q.isString(n))try{return(e||JSON.parse)(n),q.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}const Al={transitional:Qw,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,a=q.isObject(e);if(a&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return o?JSON.stringify(Yw(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return $x(e,this.formSerializer).toString();if((d=q.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return sh(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||o?(t.setContentType("application/json",!1),Wx(e)):e}],transformResponse:[function(e){const t=this.transitional||Al.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(s&&!this.responseType||o)){const c=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?Ce.from(d,Ce.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zt.classes.FormData,Blob:zt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],n=>{Al.headers[n]={}});const Gx=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kx=n=>{const e={};let t,s,o;return n&&n.split(`
`).forEach(function(c){o=c.indexOf(":"),t=c.substring(0,o).trim().toLowerCase(),s=c.substring(o+1).trim(),!(!t||e[t]&&Gx[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},zv=Symbol("internals");function Ha(n){return n&&String(n).trim().toLowerCase()}function lc(n){return n===!1||n==null?n:q.isArray(n)?n.map(lc):String(n)}function Qx(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(n);)e[s[1]]=s[2];return e}const Yx=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function tf(n,e,t,s,o){if(q.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!q.isString(e)){if(q.isString(s))return e.indexOf(s)!==-1;if(q.isRegExp(s))return s.test(e)}}function Jx(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function Xx(n,e){const t=q.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+t,{value:function(o,a,c){return this[s].call(this,e,o,a,c)},configurable:!0})})}let un=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function a(d,p,y){const _=Ha(p);if(!_)throw new Error("header name must be a non-empty string");const E=q.findKey(o,_);(!E||o[E]===void 0||y===!0||y===void 0&&o[E]!==!1)&&(o[E||p]=lc(d))}const c=(d,p)=>q.forEach(d,(y,_)=>a(y,_,p));if(q.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(q.isString(e)&&(e=e.trim())&&!Yx(e))c(Kx(e),t);else if(q.isObject(e)&&q.isIterable(e)){let d={},p,y;for(const _ of e){if(!q.isArray(_))throw TypeError("Object iterator must return a key-value pair");d[y=_[0]]=(p=d[y])?q.isArray(p)?[...p,_[1]]:[p,_[1]]:_[1]}c(d,t)}else e!=null&&a(t,e,s);return this}get(e,t){if(e=Ha(e),e){const s=q.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return Qx(o);if(q.isFunction(t))return t.call(this,o,s);if(q.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ha(e),e){const s=q.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||tf(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function a(c){if(c=Ha(c),c){const d=q.findKey(s,c);d&&(!t||tf(s,s[d],d,t))&&(delete s[d],o=!0)}}return q.isArray(e)?e.forEach(a):a(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const a=t[s];(!e||tf(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const t=this,s={};return q.forEach(this,(o,a)=>{const c=q.findKey(s,a);if(c){t[c]=lc(o),delete t[a];return}const d=e?Jx(a):String(a).trim();d!==a&&delete t[a],t[d]=lc(o),s[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return q.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&q.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[zv]=this[zv]={accessors:{}}).accessors,o=this.prototype;function a(c){const d=Ha(c);s[d]||(Xx(o,c),s[d]=!0)}return q.isArray(e)?e.forEach(a):a(e),this}};un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(un.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[t]=s}}});q.freezeMethods(un);function nf(n,e){const t=this||Al,s=e||t,o=un.from(s.headers);let a=s.data;return q.forEach(n,function(d){a=d.call(t,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function Jw(n){return!!(n&&n.__CANCEL__)}function Go(n,e,t){Ce.call(this,n??"canceled",Ce.ERR_CANCELED,e,t),this.name="CanceledError"}q.inherits(Go,Ce,{__CANCEL__:!0});function Xw(n,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?n(t):e(new Ce("Request failed with status code "+t.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Zx(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function eb(n,e){n=n||10;const t=new Array(n),s=new Array(n);let o=0,a=0,c;return e=e!==void 0?e:1e3,function(p){const y=Date.now(),_=s[a];c||(c=y),t[o]=p,s[o]=y;let E=a,I=0;for(;E!==o;)I+=t[E++],E=E%n;if(o=(o+1)%n,o===a&&(a=(a+1)%n),y-c<e)return;const L=_&&y-_;return L?Math.round(I*1e3/L):void 0}}function tb(n,e){let t=0,s=1e3/e,o,a;const c=(y,_=Date.now())=>{t=_,o=null,a&&(clearTimeout(a),a=null),n.apply(null,y)};return[(...y)=>{const _=Date.now(),E=_-t;E>=s?c(y,_):(o=y,a||(a=setTimeout(()=>{a=null,c(o)},s-E)))},()=>o&&c(o)]}const bc=(n,e,t=3)=>{let s=0;const o=eb(50,250);return tb(a=>{const c=a.loaded,d=a.lengthComputable?a.total:void 0,p=c-s,y=o(p),_=c<=d;s=c;const E={loaded:c,total:d,progress:d?c/d:void 0,bytes:p,rate:y||void 0,estimated:y&&d&&_?(d-c)/y:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(E)},t)},$v=(n,e)=>{const t=n!=null;return[s=>e[0]({lengthComputable:t,total:n,loaded:s}),e[1]]},Hv=n=>(...e)=>q.asap(()=>n(...e)),nb=zt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,zt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(zt.origin),zt.navigator&&/(msie|trident)/i.test(zt.navigator.userAgent)):()=>!0,rb=zt.hasStandardBrowserEnv?{write(n,e,t,s,o,a){const c=[n+"="+encodeURIComponent(e)];q.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),q.isString(s)&&c.push("path="+s),q.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sb(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function ib(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Zw(n,e,t){let s=!sb(e);return n&&(s||t==!1)?ib(n,e):e}const qv=n=>n instanceof un?{...n}:n;function Ti(n,e){e=e||{};const t={};function s(y,_,E,I){return q.isPlainObject(y)&&q.isPlainObject(_)?q.merge.call({caseless:I},y,_):q.isPlainObject(_)?q.merge({},_):q.isArray(_)?_.slice():_}function o(y,_,E,I){if(q.isUndefined(_)){if(!q.isUndefined(y))return s(void 0,y,E,I)}else return s(y,_,E,I)}function a(y,_){if(!q.isUndefined(_))return s(void 0,_)}function c(y,_){if(q.isUndefined(_)){if(!q.isUndefined(y))return s(void 0,y)}else return s(void 0,_)}function d(y,_,E){if(E in e)return s(y,_);if(E in n)return s(void 0,y)}const p={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(y,_,E)=>o(qv(y),qv(_),E,!0)};return q.forEach(Object.keys(Object.assign({},n,e)),function(_){const E=p[_]||o,I=E(n[_],e[_],_);q.isUndefined(I)&&E!==d||(t[_]=I)}),t}const eE=n=>{const e=Ti({},n);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:a,headers:c,auth:d}=e;e.headers=c=un.from(c),e.url=Kw(Zw(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(q.isFormData(t)){if(zt.hasStandardBrowserEnv||zt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[y,..._]=p?p.split(";").map(E=>E.trim()).filter(Boolean):[];c.setContentType([y||"multipart/form-data",..._].join("; "))}}if(zt.hasStandardBrowserEnv&&(s&&q.isFunction(s)&&(s=s(e)),s||s!==!1&&nb(e.url))){const y=o&&a&&rb.read(a);y&&c.set(o,y)}return e},ob=typeof XMLHttpRequest<"u",ab=ob&&function(n){return new Promise(function(t,s){const o=eE(n);let a=o.data;const c=un.from(o.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:y}=o,_,E,I,L,b;function V(){L&&L(),b&&b(),o.cancelToken&&o.cancelToken.unsubscribe(_),o.signal&&o.signal.removeEventListener("abort",_)}let P=new XMLHttpRequest;P.open(o.method.toUpperCase(),o.url,!0),P.timeout=o.timeout;function W(){if(!P)return;const Z=un.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),fe={data:!d||d==="text"||d==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:Z,config:n,request:P};Xw(function(x){t(x),V()},function(x){s(x),V()},fe),P=null}"onloadend"in P?P.onloadend=W:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(W)},P.onabort=function(){P&&(s(new Ce("Request aborted",Ce.ECONNABORTED,n,P)),P=null)},P.onerror=function(){s(new Ce("Network Error",Ce.ERR_NETWORK,n,P)),P=null},P.ontimeout=function(){let ee=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const fe=o.transitional||Qw;o.timeoutErrorMessage&&(ee=o.timeoutErrorMessage),s(new Ce(ee,fe.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,n,P)),P=null},a===void 0&&c.setContentType(null),"setRequestHeader"in P&&q.forEach(c.toJSON(),function(ee,fe){P.setRequestHeader(fe,ee)}),q.isUndefined(o.withCredentials)||(P.withCredentials=!!o.withCredentials),d&&d!=="json"&&(P.responseType=o.responseType),y&&([I,b]=bc(y,!0),P.addEventListener("progress",I)),p&&P.upload&&([E,L]=bc(p),P.upload.addEventListener("progress",E),P.upload.addEventListener("loadend",L)),(o.cancelToken||o.signal)&&(_=Z=>{P&&(s(!Z||Z.type?new Go(null,n,P):Z),P.abort(),P=null)},o.cancelToken&&o.cancelToken.subscribe(_),o.signal&&(o.signal.aborted?_():o.signal.addEventListener("abort",_)));const Y=Zx(o.url);if(Y&&zt.protocols.indexOf(Y)===-1){s(new Ce("Unsupported protocol "+Y+":",Ce.ERR_BAD_REQUEST,n));return}P.send(a||null)})},lb=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let s=new AbortController,o;const a=function(y){if(!o){o=!0,d();const _=y instanceof Error?y:this.reason;s.abort(_ instanceof Ce?_:new Go(_ instanceof Error?_.message:_))}};let c=e&&setTimeout(()=>{c=null,a(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const d=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(y=>{y.unsubscribe?y.unsubscribe(a):y.removeEventListener("abort",a)}),n=null)};n.forEach(y=>y.addEventListener("abort",a));const{signal:p}=s;return p.unsubscribe=()=>q.asap(d),p}},ub=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let s=0,o;for(;s<t;)o=s+e,yield n.slice(s,o),s=o},cb=async function*(n,e){for await(const t of hb(n))yield*ub(t,e)},hb=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},Wv=(n,e,t,s)=>{const o=cb(n,e);let a=0,c,d=p=>{c||(c=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:y,value:_}=await o.next();if(y){d(),p.close();return}let E=_.byteLength;if(t){let I=a+=E;t(I)}p.enqueue(new Uint8Array(_))}catch(y){throw d(y),y}},cancel(p){return d(p),o.return()}},{highWaterMark:2})},ih=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",tE=ih&&typeof ReadableStream=="function",db=ih&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),nE=(n,...e)=>{try{return!!n(...e)}catch{return!1}},fb=tE&&nE(()=>{let n=!1;const e=new Request(zt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Gv=64*1024,Ff=tE&&nE(()=>q.isReadableStream(new Response("").body)),Nc={stream:Ff&&(n=>n.body)};ih&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Nc[e]&&(Nc[e]=q.isFunction(n[e])?t=>t[e]():(t,s)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,s)})})})(new Response);const pb=async n=>{if(n==null)return 0;if(q.isBlob(n))return n.size;if(q.isSpecCompliantForm(n))return(await new Request(zt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(q.isArrayBufferView(n)||q.isArrayBuffer(n))return n.byteLength;if(q.isURLSearchParams(n)&&(n=n+""),q.isString(n))return(await db(n)).byteLength},mb=async(n,e)=>{const t=q.toFiniteNumber(n.getContentLength());return t??pb(e)},gb=ih&&(async n=>{let{url:e,method:t,data:s,signal:o,cancelToken:a,timeout:c,onDownloadProgress:d,onUploadProgress:p,responseType:y,headers:_,withCredentials:E="same-origin",fetchOptions:I}=eE(n);y=y?(y+"").toLowerCase():"text";let L=lb([o,a&&a.toAbortSignal()],c),b;const V=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let P;try{if(p&&fb&&t!=="get"&&t!=="head"&&(P=await mb(_,s))!==0){let fe=new Request(e,{method:"POST",body:s,duplex:"half"}),re;if(q.isFormData(s)&&(re=fe.headers.get("content-type"))&&_.setContentType(re),fe.body){const[x,S]=$v(P,bc(Hv(p)));s=Wv(fe.body,Gv,x,S)}}q.isString(E)||(E=E?"include":"omit");const W="credentials"in Request.prototype;b=new Request(e,{...I,signal:L,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:s,duplex:"half",credentials:W?E:void 0});let Y=await fetch(b);const Z=Ff&&(y==="stream"||y==="response");if(Ff&&(d||Z&&V)){const fe={};["status","statusText","headers"].forEach(C=>{fe[C]=Y[C]});const re=q.toFiniteNumber(Y.headers.get("content-length")),[x,S]=d&&$v(re,bc(Hv(d),!0))||[];Y=new Response(Wv(Y.body,Gv,x,()=>{S&&S(),V&&V()}),fe)}y=y||"text";let ee=await Nc[q.findKey(Nc,y)||"text"](Y,n);return!Z&&V&&V(),await new Promise((fe,re)=>{Xw(fe,re,{data:ee,headers:un.from(Y.headers),status:Y.status,statusText:Y.statusText,config:n,request:b})})}catch(W){throw V&&V(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,n,b),{cause:W.cause||W}):Ce.from(W,W&&W.code,n,b)}}),Uf={http:bx,xhr:ab,fetch:gb};q.forEach(Uf,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Kv=n=>`- ${n}`,yb=n=>q.isFunction(n)||n===null||n===!1,rE={getAdapter:n=>{n=q.isArray(n)?n:[n];const{length:e}=n;let t,s;const o={};for(let a=0;a<e;a++){t=n[a];let c;if(s=t,!yb(t)&&(s=Uf[(c=String(t)).toLowerCase()],s===void 0))throw new Ce(`Unknown adapter '${c}'`);if(s)break;o[c||"#"+a]=s}if(!s){const a=Object.entries(o).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?a.length>1?`since :
`+a.map(Kv).join(`
`):" "+Kv(a[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:Uf};function rf(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Go(null,n)}function Qv(n){return rf(n),n.headers=un.from(n.headers),n.data=nf.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),rE.getAdapter(n.adapter||Al.adapter)(n).then(function(s){return rf(n),s.data=nf.call(n,n.transformResponse,s),s.headers=un.from(s.headers),s},function(s){return Jw(s)||(rf(n),s&&s.response&&(s.response.data=nf.call(n,n.transformResponse,s.response),s.response.headers=un.from(s.response.headers))),Promise.reject(s)})}const sE="1.9.0",oh={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{oh[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const Yv={};oh.transitional=function(e,t,s){function o(a,c){return"[Axios v"+sE+"] Transitional option '"+a+"'"+c+(s?". "+s:"")}return(a,c,d)=>{if(e===!1)throw new Ce(o(c," has been removed"+(t?" in "+t:"")),Ce.ERR_DEPRECATED);return t&&!Yv[c]&&(Yv[c]=!0,console.warn(o(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,c,d):!0}};oh.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function vb(n,e,t){if(typeof n!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let o=s.length;for(;o-- >0;){const a=s[o],c=e[a];if(c){const d=n[a],p=d===void 0||c(d,a,n);if(p!==!0)throw new Ce("option "+a+" must be "+p,Ce.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ce("Unknown option "+a,Ce.ERR_BAD_OPTION)}}const uc={assertOptions:vb,validators:oh},ar=uc.validators;let pi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Bv,response:new Bv}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ti(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:a}=t;s!==void 0&&uc.assertOptions(s,{silentJSONParsing:ar.transitional(ar.boolean),forcedJSONParsing:ar.transitional(ar.boolean),clarifyTimeoutError:ar.transitional(ar.boolean)},!1),o!=null&&(q.isFunction(o)?t.paramsSerializer={serialize:o}:uc.assertOptions(o,{encode:ar.function,serialize:ar.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),uc.assertOptions(t,{baseUrl:ar.spelling("baseURL"),withXsrfToken:ar.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=a&&q.merge(a.common,a[t.method]);a&&q.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),t.headers=un.concat(c,a);const d=[];let p=!0;this.interceptors.request.forEach(function(V){typeof V.runWhen=="function"&&V.runWhen(t)===!1||(p=p&&V.synchronous,d.unshift(V.fulfilled,V.rejected))});const y=[];this.interceptors.response.forEach(function(V){y.push(V.fulfilled,V.rejected)});let _,E=0,I;if(!p){const b=[Qv.bind(this),void 0];for(b.unshift.apply(b,d),b.push.apply(b,y),I=b.length,_=Promise.resolve(t);E<I;)_=_.then(b[E++],b[E++]);return _}I=d.length;let L=t;for(E=0;E<I;){const b=d[E++],V=d[E++];try{L=b(L)}catch(P){V.call(this,P);break}}try{_=Qv.call(this,L)}catch(b){return Promise.reject(b)}for(E=0,I=y.length;E<I;)_=_.then(y[E++],y[E++]);return _}getUri(e){e=Ti(this.defaults,e);const t=Zw(e.baseURL,e.url,e.allowAbsoluteUrls);return Kw(t,e.params,e.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(e){pi.prototype[e]=function(t,s){return this.request(Ti(s||{},{method:e,url:t,data:(s||{}).data}))}});q.forEach(["post","put","patch"],function(e){function t(s){return function(a,c,d){return this.request(Ti(d||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}pi.prototype[e]=t(),pi.prototype[e+"Form"]=t(!0)});let _b=class iE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const s=this;this.promise.then(o=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](o);s._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(d=>{s.subscribe(d),a=d}).then(o);return c.cancel=function(){s.unsubscribe(a)},c},e(function(a,c,d){s.reason||(s.reason=new Go(a,c,d),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new iE(function(o){e=o}),cancel:e}}};function wb(n){return function(t){return n.apply(null,t)}}function Eb(n){return q.isObject(n)&&n.isAxiosError===!0}const jf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jf).forEach(([n,e])=>{jf[e]=n});function oE(n){const e=new pi(n),t=Vw(pi.prototype.request,e);return q.extend(t,pi.prototype,e,{allOwnKeys:!0}),q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return oE(Ti(n,o))},t}const tt=oE(Al);tt.Axios=pi;tt.CanceledError=Go;tt.CancelToken=_b;tt.isCancel=Jw;tt.VERSION=sE;tt.toFormData=sh;tt.AxiosError=Ce;tt.Cancel=tt.CanceledError;tt.all=function(e){return Promise.all(e)};tt.spread=wb;tt.isAxiosError=Eb;tt.mergeConfig=Ti;tt.AxiosHeaders=un;tt.formToJSON=n=>Yw(q.isHTMLForm(n)?new FormData(n):n);tt.getAdapter=rE.getAdapter;tt.HttpStatusCode=jf;tt.default=tt;const{Axios:Xb,AxiosError:Zb,CanceledError:eN,isCancel:tN,CancelToken:nN,VERSION:rN,all:sN,Cancel:iN,isAxiosError:oN,spread:aN,toFormData:lN,AxiosHeaders:uN,HttpStatusCode:cN,formToJSON:hN,getAdapter:dN,mergeConfig:fN}=tt;function Tb(){console.log("✅ Dashboard component mounted");const{currentUser:n,getIdToken:e}=Up(),t=_n(),[s,o]=G.useState(null),[a,c]=G.useState([]),[d,p]=G.useState(!0),[y,_]=G.useState(!0),[E,I]=G.useState("");return G.useEffect(()=>{(async()=>{var V;if(console.log("Dashboard Effect: currentUser from useAuth():",n),!n){console.log("Dashboard Effect: No user logged in. Setting loading states to false."),p(!1),_(!1);return}p(!0);let b=!1;try{console.log(`Dashboard Effect: Fetching organisation data for UID: ${n.uid}`);const P=bp(Fp,"organisations",n.uid),W=await Lk(P);if(W.exists()){b=!0;const Y=W.data();console.log("Dashboard Effect: Fetched organization data:",Y),o(Y)}else{console.log("Dashboard Effect: No organization data found for user. Redirecting to onboarding."),t("/onboarding"),p(!1),_(!1);return}}catch(P){console.error("Dashboard Effect: Error fetching organization data:",P),I("Failed to load organization details."),b=!1}finally{p(!1)}if(b&&!E){_(!0);let P=null;try{if(console.log("Dashboard Effect: Attempting to get Firebase ID token via getIdToken()..."),P=await e(),console.log("Dashboard Effect: Got Firebase ID token (first 10 chars):",P?P.substring(0,10)+"...":"No token found"),!P){console.error("Dashboard Effect: Authentication token not available after call."),I(Y=>Y+(Y?" | ":"")+"Authentication token unavailable."),c([]),_(!1);return}console.log("Dashboard Effect: Calling GET /api/campaigns with token.");const W=await tt.get("/api/campaigns",{headers:{Authorization:`Bearer ${P}`}});console.log("Dashboard Effect: Received response from /api/campaigns:",W),console.log("Dashboard Effect: Campaigns data:",W.data),c(W.data||[])}catch(W){if(console.error("Dashboard Effect: Error fetching campaigns from API:",W),W.response){console.error("Dashboard Effect: API Error Response Data:",W.response.data),console.error("Dashboard Effect: API Error Response Status:",W.response.status),console.error("Dashboard Effect: API Error Response Headers:",W.response.headers);let Y=`API Error ${W.response.status}: Failed to load campaigns.`;W.response.status===401||W.response.status===403?Y+=" (Authorization Failed)":(V=W.response.data)!=null&&V.message&&(Y+=` Backend Message: ${W.response.data.message}`),I(Z=>Z+(Z?" | ":"")+Y)}else W.request?(console.error("Dashboard Effect: API Error Request:",W.request),I(Y=>Y+(Y?" | ":"")+"Network error or no response from server when fetching campaigns.")):(console.error("Dashboard Effect: API Error Message:",W.message),I(Y=>Y+(Y?" | ":"")+"Error setting up request to fetch campaigns."));c([])}finally{_(!1)}}else b||(console.log("Dashboard Effect: Skipping campaign fetch because organization data check failed or redirected."),_(!1))})()},[n,e,t]),console.log(`Dashboard Render: LoadingOrg=${d}, LoadingCampaigns=${y}, Error='${E}', Campaigns Count=${a==null?void 0:a.length}`),d||y?k.jsx("div",{className:"p-6",children:"Loading dashboard data..."}):E?k.jsxs("div",{className:"p-6 text-red-700 bg-red-100 border border-red-400 rounded",children:[k.jsx("h2",{className:"font-bold text-lg mb-2",children:"Error Loading Dashboard"}),k.jsx("p",{children:E})]}):k.jsxs("div",{className:"p-6 space-y-6 max-w-5xl mx-auto",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),k.jsx("p",{children:"Welcome back! Manage your organisation and campaigns here."}),k.jsx("button",{onClick:()=>t("/app/campaign/new"),className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:"Start a New Campaign"}),s&&k.jsxs("div",{className:"bg-white shadow p-6 rounded-lg mt-6",children:[k.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Organisation Overview"}),k.jsx("ul",{children:Object.entries(s).map(([L,b])=>k.jsxs("li",{className:"text-sm mb-1",children:[k.jsxs("strong",{className:"capitalize",children:[L.replace(/_/g," "),":"]})," ",Array.isArray(b)?b.join(", "):String(b)]},L))})]}),k.jsxs("div",{className:"bg-white shadow p-6 rounded-lg mt-6",children:[k.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your Campaigns"}),Array.isArray(a)&&a.length>0?k.jsx("ul",{className:"list-disc list-inside space-y-2",children:a.map(L=>{var b;return k.jsxs("li",{className:"mb-2 text-sm",children:[k.jsx("span",{className:"font-medium",children:L.name||`Campaign ${L.id.substring(0,5)}`}),((b=L.createdAt)==null?void 0:b.seconds)&&k.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(Created: ",new Date(L.createdAt.seconds*1e3).toLocaleDateString(),")"]})]},L.id)})}):k.jsx("p",{className:"text-gray-500",children:"You haven't created any campaigns yet."})]})]})}function Ib(...n){return n.filter(Boolean).join(" ")}const aE=G.forwardRef(({className:n,...e},t)=>k.jsx("textarea",{className:Ib("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));aE.displayName="Textarea";function Dr(...n){return n.filter(Boolean).join(" ")}const ah=G.forwardRef(({className:n,children:e,variant:t,size:s,...o},a)=>{let c=Dr("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background hover:bg-primary/90 h-10 px-4 py-2",n);switch(t){case"outline":c=Dr(c,"border border-input bg-background hover:bg-accent hover:text-accent-foreground");break;case"secondary":c=Dr(c,"bg-secondary text-secondary-foreground hover:bg-secondary/80");break;case"ghost":c=Dr(c,"hover:bg-accent hover:text-accent-foreground");break;case"link":c=Dr(c,"hover:underline underline-offset-4");break;default:c=Dr(c,"bg-primary text-primary-foreground shadow-sm")}switch(s){case"sm":c=Dr(c,"h-9 px-3 rounded-md");break;case"lg":c=Dr(c,"h-11 px-8 rounded-md");break;case"icon":c=Dr(c,"h-10 w-10");break}return k.jsx("button",{className:c,ref:a,...o,children:e})});ah.displayName="Button";function Sb(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}Array(12).fill(0);let Bf=1;class Rb{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:s,...o}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Bf++,c=this.toasts.find(p=>p.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(p=>p.id===a?(this.publish({...p,...e,id:a,title:s}),{...p,...e,id:a,dismissible:d,title:s}):p):this.addToast({title:s,...o,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let a=s!==void 0,c;const d=o.then(async y=>{if(c=["resolve",y],on.isValidElement(y))a=!1,this.create({id:s,type:"default",message:y});else if(Ab(y)&&!y.ok){a=!1;const E=typeof t.error=="function"?await t.error(`HTTP error! status: ${y.status}`):t.error,I=typeof t.description=="function"?await t.description(`HTTP error! status: ${y.status}`):t.description,b=typeof E=="object"&&!on.isValidElement(E)?E:{message:E};this.create({id:s,type:"error",description:I,...b})}else if(y instanceof Error){a=!1;const E=typeof t.error=="function"?await t.error(y):t.error,I=typeof t.description=="function"?await t.description(y):t.description,b=typeof E=="object"&&!on.isValidElement(E)?E:{message:E};this.create({id:s,type:"error",description:I,...b})}else if(t.success!==void 0){a=!1;const E=typeof t.success=="function"?await t.success(y):t.success,I=typeof t.description=="function"?await t.description(y):t.description,b=typeof E=="object"&&!on.isValidElement(E)?E:{message:E};this.create({id:s,type:"success",description:I,...b})}}).catch(async y=>{if(c=["reject",y],t.error!==void 0){a=!1;const _=typeof t.error=="function"?await t.error(y):t.error,E=typeof t.description=="function"?await t.description(y):t.description,L=typeof _=="object"&&!on.isValidElement(_)?_:{message:_};this.create({id:s,type:"error",description:E,...L})}}).finally(()=>{a&&(this.dismiss(s),s=void 0),t.finally==null||t.finally.call(t)}),p=()=>new Promise((y,_)=>d.then(()=>c[0]==="reject"?_(c[1]):y(c[1])).catch(_));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(e,t)=>{const s=(t==null?void 0:t.id)||Bf++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const xn=new Rb,Cb=(n,e)=>{const t=(e==null?void 0:e.id)||Bf++;return xn.addToast({title:n,...e,id:t}),t},Ab=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Pb=Cb,kb=()=>xn.toasts,xb=()=>xn.getActiveToasts(),bb=Object.assign(Pb,{success:xn.success,info:xn.info,warning:xn.warning,error:xn.error,custom:xn.custom,message:xn.message,promise:xn.promise,dismiss:xn.dismiss,loading:xn.loading},{getHistory:kb,getToasts:xb});Sb("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const $p=()=>({toast:({title:e,description:t,action:s,...o})=>bb(e,{description:t,action:s,...o})});function Ko(...n){return n.filter(Boolean).join(" ")}const lh=on.forwardRef(({className:n,...e},t)=>k.jsx("div",{className:Ko("rounded-lg border bg-card text-card-foreground shadow-sm",n),ref:t,...e}));lh.displayName="Card";const uh=on.forwardRef(({className:n,...e},t)=>k.jsx("div",{className:Ko("flex flex-col space-y-1.5 p-6",n),ref:t,...e}));uh.displayName="CardHeader";const ch=on.forwardRef(({className:n,...e},t)=>k.jsx("h3",{className:Ko("text-lg font-semibold leading-none tracking-tight",n),ref:t,...e}));ch.displayName="CardTitle";const Nb=on.forwardRef(({className:n,...e},t)=>k.jsx("p",{className:Ko("text-sm text-muted-foreground",n),ref:t,...e}));Nb.displayName="CardDescription";const hh=on.forwardRef(({className:n,...e},t)=>k.jsx("div",{className:Ko("p-6 pt-0",n),ref:t,...e}));hh.displayName="CardContent";const Ob=on.forwardRef(({className:n,...e},t)=>k.jsx("div",{className:Ko("flex items-center p-6 pt-0",n),ref:t,...e}));Ob.displayName="CardFooter";const Pl=G.createContext(),kl=()=>G.useContext(Pl),Db=({children:n})=>{const[e,t]=G.useState(null),[s,o]=G.useState(null),[a,c]=G.useState([]),d=E=>{t(E),console.log("✅ Summary updated:",E)},p=E=>{o(E),console.log("✅ Classification updated:",E)},y=E=>{const I=E.map((L,b)=>({...L,rank:b+1}));c(I),console.log("✅ Goals updated:",I)},_=async()=>{try{const L=await(await fetch("/api/save-campaign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({summary:e,classification:s,goals:a})})).json();console.log("✅ Campaign saved:",L)}catch(E){console.error("❌ Error saving campaign:",E)}};return k.jsx(Pl.Provider,{value:{summary:e,classification:s,goals:a,updateSummary:d,updateClassification:p,updateGoals:y,saveCampaign:_},children:n})};async function Lb(n){console.log("classifyCampaign API call: Sending summary data:",n);try{const e=await fetch("/api/classify-campaign-type",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({summary:n})});console.log("classifyCampaign API call: Response Status:",e.status);const t=await e.json().catch(s=>{if(console.error("classifyCampaign API call: Failed to parse JSON response body",s),!e.ok)throw new Error(`Classifier API request failed with status ${e.status} and non-JSON response.`);return{message:"Received OK status but failed to parse response body."}});if(!e.ok)throw console.error("classifyCampaign API call: API Error Response Data:",t),new Error((t==null?void 0:t.message)||`Classifier API request failed with status ${e.status}`);if(console.log("classifyCampaign API call: API Response Data:",t),t&&t.match)return t.match;throw console.warn("classifyCampaign API call: Classification returned no match. Message:",t==null?void 0:t.message),new Error((t==null?void 0:t.message)||"Campaign could not be classified.")}catch(e){throw console.error("❌ Error in classifyCampaign API call:",e),e}}function Vb(){const[n,e]=G.useState(""),[t,s]=G.useState([]),[o,a]=G.useState(!1),[c,d]=G.useState(null),p=_n(),{toast:y}=$p(),{updateCampaignData:_,resetCampaignData:E}=kl(),I=G.useRef(null);G.useEffect(()=>{console.log("CampaignBuilder Effect: Resetting campaign data."),E()},[]),G.useEffect(()=>{I.current&&(I.current.scrollTop=I.current.scrollHeight)},[t]);const L=async()=>{if(console.log("sendMessage: Called."),!n.trim())return;const V={role:"user",content:n},P=[...t,V];s(P),e(""),a(!0),d(null),console.log("sendMessage: Calling API /api/campaign-assistant");try{const W=await fetch("/api/campaign-assistant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:V.content,history:P})});if(console.log("sendMessage (Assistant): API Response Status:",W.status),!W.ok){const S=await W.json().catch(()=>({message:"Failed to parse assistant error response"}));throw console.error("sendMessage (Assistant): API Error Response Data:",S),new Error(S.message||`Assistant API request failed with status ${W.status}`)}const Y=await W.json();console.log("sendMessage (Assistant): API Response Data:",Y);const{aiMessage:Z,done:ee,structured:fe,classification_guess:re,summary:x}=Y;if(Z?s(S=>[...S,{role:"assistant",content:Z}]):console.warn("sendMessage (Assistant): Received response but no aiMessage content."),ee&&fe){console.log("sendMessage: Assistant Done & Overall Structured. Proceeding with workflow."),console.log("CampaignBuilder: Object being sent to classifyCampaign helper (this is assistantSummaryObject):",JSON.stringify(x,null,2)),console.log("sendMessage: Updating context with summary:",x,"and AI's guess:",re),_({summary:x,classification_guess:re}),console.log("sendMessage: Calling classifyCampaign API with (this is assistantSummaryObject):",x);const S=await Lb(x);console.log("sendMessage: Programmatic classification result received:",S),S?(console.log("sendMessage: Updating context with programmatic classification:",S),_({classification:S})):re?console.log("sendMessage: Programmatic classification failed or null. AI guess was:",re,". Consider if this guess should be used in context if no programmatic result."):(console.warn("sendMessage: No AI guess and programmatic classification failed/null."),y({variant:"default",title:"Campaign Classification",description:"Could not programmatically classify the campaign based on summary. Please review manually."})),console.log("sendMessage: Navigating to /campaign/review"),p("/campaign/review")}else ee&&!fe&&(console.warn("sendMessage: Done, but summary structure parsing failed by assistant. Staying on page."),d("Assistant finished, but the summary format was not understood. Please try rephrasing or review the chat.")),a(!1)}catch(W){console.error("❌ Error in sendMessage or Classification step:",W),y({variant:"destructive",title:"Error",description:W.message||"An unexpected error occurred."}),d(W.message||"An unexpected error occurred."),a(!1)}},b=V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),L())};return k.jsx("div",{className:"container py-8",children:k.jsxs(lh,{className:"max-w-3xl mx-auto",children:[k.jsx(uh,{children:k.jsx(ch,{children:"Describe Your Campaign"})}),k.jsx(hh,{children:k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{ref:I,className:"min-h-[200px] max-h-[400px] overflow-y-auto border rounded p-4 bg-gray-50 flex flex-col gap-2",children:[t.length===0&&k.jsx("p",{className:"text-muted-foreground",children:"Start by describing what you’re working on…"}),t.map((V,P)=>k.jsxs("div",{className:`px-4 py-2 rounded max-w-[80%] text-sm whitespace-pre-wrap ${V.role==="user"?"bg-blue-500 text-white self-end ml-auto":"bg-gray-200 text-gray-800 self-start mr-auto"}`,children:[k.jsxs("strong",{children:[V.role==="user"?"You":"Assistant",":"]})," ",V.content??"*Missing message content*"]},P)),o&&k.jsx("p",{className:"text-muted-foreground self-start mr-auto px-4 py-2",children:"Processing... (includes classification)"})]}),k.jsx(aE,{placeholder:"Type your message and hit Enter…",value:n,onChange:V=>e(V.target.value),onKeyDown:b,rows:3,disabled:o}),k.jsx(ah,{onClick:L,disabled:o||!n.trim(),children:o?"Processing…":"Send"}),c&&k.jsx("p",{className:"text-red-500 text-sm",children:c})]})})]})})}function Mb(...n){return n.filter(Boolean).join(" ")}const lE=on.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!1,...s},o)=>k.jsx("div",{role:t?"none":"separator","aria-orientation":t?void 0:e,className:Mb("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),ref:o,...s}));lE.displayName="Separator";const Fb=()=>{const{campaignData:n,updateCampaignData:e}=kl(),[t,s]=G.useState(""),[o,a]=G.useState(!1),c=_n(),{toast:d}=$p();G.useEffect(()=>{(async()=>{if(!n.summary){d({variant:"destructive",title:"Missing Summary",description:"Please define your campaign first."}),c("/app/campaign/new");return}a(!0);try{const _=await fetch("/api/campaign-plan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n.summary)});if(!_.ok)throw new Error("Failed to fetch campaign plan");const E=await _.json();s(E.plan),e({plan:E.plan})}catch(_){console.error("Error fetching campaign plan:",_),d({variant:"destructive",title:"Error generating plan",description:_.message})}finally{a(!1)}})()},[n.summary]);const p=()=>{c("/app/campaign/message")};return k.jsx("div",{className:"container py-8",children:k.jsxs(lh,{className:"max-w-4xl mx-auto",children:[k.jsx(uh,{children:k.jsx(ch,{children:"Suggested Campaign Plan"})}),k.jsx(hh,{children:o?k.jsx("p",{children:"Generating plan..."}):k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"whitespace-pre-wrap text-sm bg-gray-50 p-4 rounded border mb-4 max-h-[500px] overflow-y-auto",children:t||"No plan available."}),k.jsx(lE,{}),k.jsx(ah,{onClick:p,className:"mt-4",children:"Next: Develop Messaging"})]})})]})})};function Ub(){const[n,e]=G.useState(!0),[t,s]=G.useState(""),{campaignData:o,updateCampaignData:a}=kl(),c=_n();G.useEffect(()=>{if(!o.summary){s("Campaign summary is missing. Please define the campaign first."),console.error("CampaignMessagingGuide: Missing summary in context."),e(!1);return}if(o.messagingGuide){console.log("CampaignMessagingGuide: Using existing guide from context."),e(!1);return}console.log("CampaignMessagingGuide: Fetching guide with summary:",o.summary),e(!0),s(""),tt.post("/api/messaging-guide",o.summary).then(p=>{console.log("CampaignMessagingGuide: Received guide data:",p.data),a({messagingGuide:p.data.messagingGuide}),e(!1)}).catch(p=>{var y,_;console.error("CampaignMessagingGuide: Failed to generate messaging guide:",p),s("Failed to generate messaging guide. "+(((_=(y=p.response)==null?void 0:y.data)==null?void 0:_.error)||p.message)),a({messagingGuide:{error:"Guide generation failed"}}),e(!1)})},[o.summary,o.messagingGuide,a,c]);const d=()=>{var p;return n?k.jsx("p",{className:"text-gray-500",children:"Thinking… writing guide..."}):t?k.jsx("p",{className:"text-red-600",children:t}):(p=o.messagingGuide)!=null&&p.error?k.jsxs("p",{className:"text-red-600",children:["Error: ",o.messagingGuide.error]}):o.messagingGuide?k.jsx("pre",{className:"whitespace-pre-wrap bg-white shadow p-4 rounded text-sm",children:o.messagingGuide}):k.jsx("p",{className:"text-gray-500",children:"No messaging guide generated yet."})};return k.jsxs("div",{className:"p-6 space-y-4 max-w-4xl mx-auto",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"🗣️ Messaging Guide"}),d(),k.jsxs("div",{className:"mt-6 flex space-x-4 border-t pt-4",children:[k.jsx("button",{onClick:()=>c("/campaign/plan"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",children:"Review Campaign Plan 🗺"}),k.jsx("button",{onClick:()=>c("/campaign/review"),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded",children:"Review & Save 🔬"}),k.jsx("button",{onClick:()=>c("/app/campaign/new"),className:"bg-gray-300 hover:bg-gray-400 text-black px-4 py-2 rounded",children:"Back to Builder"})]})]})}function jb(){const{campaignData:n,updateCampaignData:e}=kl(),{getIdToken:t,currentUser:s}=Up(),[o,a]=G.useState(!1),[c,d]=G.useState(""),[p,y]=G.useState(n.name||""),_=_n(),E=async()=>{var b,V,P,W,Y;if(!s){d("You must be logged in to save.");return}if(!p.trim()){d("Please provide a name for your campaign.");return}a(!0),d("");try{const Z=await t();if(!Z){d("Authentication error. Please log in again."),a(!1);return}const ee={...n,name:p.trim()};(b=ee.plan)!=null&&b.error&&(ee.plan=null),(V=ee.messagingGuide)!=null&&V.error&&(ee.messagingGuide=null),(P=ee.classification)!=null&&P.error&&(ee.classification=null),console.log("🚀 Saving campaign data:",ee);const fe=await tt.post("/api/campaigns/create",ee,{headers:{Authorization:`Bearer ${Z}`}});console.log("✅ Campaign saved successfully:",fe.data),_("/dashboard")}catch(Z){console.error("❌ Error saving campaign:",Z),d("Failed to save campaign. "+(((Y=(W=Z.response)==null?void 0:W.data)==null?void 0:Y.error)||Z.message))}finally{a(!1)}},I=(b,V)=>{let P="Not generated yet.";return V!=null&&V.error?P=k.jsxs("span",{className:"text-red-500",children:["Error: ",V.error]}):V&&(P=typeof V=="string"?V:JSON.stringify(V,null,2)),k.jsxs("div",{className:"mb-4 p-4 border rounded shadow-sm bg-white",children:[k.jsx("h3",{className:"text-lg font-semibold mb-2 border-b pb-1",children:b}),k.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:P})]})},L=b=>{let V="Not classified.";return b!=null&&b.error?V=k.jsxs("span",{className:"text-red-500",children:["Error: ",b.error]}):b!=null&&b.type?V=`Type: ${b.type}
Description: ${b.description}
Suggested Actions: ${b.suggested_actions||"None"}`:b===null&&n.summary&&(V="No specific type matched based on summary."),k.jsxs("div",{className:"mb-4 p-4 border rounded shadow-sm bg-white",children:[k.jsx("h3",{className:"text-lg font-semibold mb-2 border-b pb-1",children:"Classification"}),k.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:V})]})};return k.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[k.jsx("h1",{className:"text-3xl font-bold",children:"🔬 Review & Save Campaign"}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{htmlFor:"campaignName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Name"}),k.jsx("input",{type:"text",id:"campaignName",value:p,onChange:b=>{y(b.target.value)},placeholder:"Enter a name for this campaign",className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500",required:!0})]}),I("Campaign Summary",n.summary),L(n.classification),I("Campaign Plan",n.plan),I("Messaging Guide",n.messagingGuide),c&&k.jsx("p",{className:"text-red-600 mt-2",children:c}),k.jsxs("div",{className:"mt-6 flex space-x-4 border-t pt-4",children:[k.jsx("button",{onClick:E,disabled:o||!p.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded disabled:opacity-50",children:o?"Saving...":"Save Campaign"}),k.jsx("button",{onClick:()=>_("/campaign/plan"),className:"bg-gray-300 hover:bg-gray-400 text-black px-4 py-2 rounded",children:"Back to Plan"})]})]})}function Bb(){const{user:n}=Up(),e=_n(),[t,s]=G.useState(null),[o,a]=G.useState(null),[c,d]=G.useState([]),[p,y]=G.useState([]),[_,E]=G.useState([]),[I,L]=G.useState(""),[b,V]=G.useState(""),[P,W]=G.useState("");G.useEffect(()=>{const re=localStorage.getItem("campaignData");if(re){const x=JSON.parse(re);s(x),a(x.classification||{})}},[]),G.useEffect(()=>{fetch("/api/classification-options").then(re=>re.json()).then(re=>{d(re.types||[]),y(re.subtypes||[]),E(re.useCases||[])}).catch(re=>console.error("❌ Failed to load classification options:",re))},[]),G.useEffect(()=>{if(!o||c.length===0||p.length===0||_.length===0)return;const re=c.find(C=>{var O;return C.name.toLowerCase()===((O=o.primary_type)==null?void 0:O.toLowerCase())}),x=p.find(C=>{var O;return C.name.toLowerCase()===((O=o.secondary_type)==null?void 0:O.toLowerCase())}),S=_.find(C=>{var O;return C.name.toLowerCase()===((O=o.sub_type)==null?void 0:O.toLowerCase())});re&&L(re.id),x&&V(x.id),S&&W(S.id)},[c,p,_,o]);const Y=async()=>{var C,O,M;if(!(n!=null&&n.uid)||!(t!=null&&t.campaignId))return;const re=((C=c.find(F=>F.id===I))==null?void 0:C.name)||"",x=((O=p.find(F=>F.id===b))==null?void 0:O.name)||"",S=((M=_.find(F=>F.id===P))==null?void 0:M.name)||"";try{const F=bp(Fp,"users",n.uid,"campaigns",t.campaignId);await Fk(F,{classification:{primary_type:re,secondary_type:x,sub_type:S}}),console.log("✅ Classification updated in Firestore"),e("/campaign/next-steps")}catch(F){console.error("❌ Error saving classification:",F)}},Z=p.filter(re=>re.type_id===I),ee=b==null?void 0:b.split("_").pop(),fe=_.filter(re=>re.subtype_id===ee);return k.jsxs("div",{className:"max-w-xl mx-auto p-6 bg-white rounded-lg shadow-md",children:[k.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Review and Update Campaign Classification"}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"Primary Type"}),k.jsxs("select",{className:"w-full border border-gray-300 rounded p-2",value:I,onChange:re=>L(re.target.value),children:[k.jsx("option",{value:"",children:"Select primary type"}),c.map(re=>k.jsx("option",{value:re.id,children:re.name},re.id))]})]}),k.jsxs("div",{className:"mb-4",children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"Secondary Type"}),k.jsxs("select",{className:"w-full border border-gray-300 rounded p-2",value:b,onChange:re=>V(re.target.value),children:[k.jsx("option",{value:"",children:"Select secondary type"}),Z.map(re=>k.jsx("option",{value:re.id,children:re.name},re.id))]})]}),k.jsxs("div",{className:"mb-6",children:[k.jsx("label",{className:"block text-sm font-medium mb-1",children:"Use Case"}),k.jsxs("select",{className:"w-full border border-gray-300 rounded p-2",value:P,onChange:re=>W(re.target.value),children:[k.jsx("option",{value:"",children:"Select use case"}),fe.map(re=>k.jsx("option",{value:re.id,children:re.name},re.id))]})]}),k.jsx("button",{onClick:Y,className:"bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Save Classification"})]})}const Jv=[{id:"membership",label:"Membership"},{id:"donation",label:"Donation"},{id:"participation",label:"Participation"},{id:"activism",label:"Activism"},{id:"sales",label:"Sales"},{id:"vote",label:"Vote"},{id:"corporate_decision",label:"Corporate Decision"},{id:"political_decision",label:"Political Decision"},{id:"issue_awareness",label:"Issue Awareness"},{id:"issue_support",label:"Issue Support"},{id:"other",label:"Other"}];function zb({initialGoals:n=[],onConfirm:e}){const[t,s]=G.useState(n.slice(0,4)),o=d=>{t.length>=4||t.find(p=>p.id===d.id)||s([...t,{...d,rank:t.length+1}])},a=d=>{const p=t.filter(y=>y.id!==d).map((y,_)=>({...y,rank:_+1}));s(p)},c=d=>{const p=d.target.value,y=Jv.find(_=>_.id===p);y&&o(y)};return k.jsxs("div",{className:"space-y-4",children:[k.jsx("h2",{className:"text-lg font-semibold",children:"Confirm Your Campaign Goals"}),k.jsx("ul",{className:"space-y-2",children:t.map(d=>k.jsxs("li",{className:"flex items-center justify-between p-2 border rounded bg-white",children:[k.jsx("span",{children:d.label}),k.jsx("button",{onClick:()=>a(d.id),className:"px-2 py-1 text-sm bg-red-100 text-red-700 rounded",children:"Remove"})]},d.id))}),t.length<4&&k.jsxs("div",{className:"pt-4",children:[k.jsx("label",{className:"block text-sm font-medium",children:"Add another goal:"}),k.jsxs("select",{onChange:c,defaultValue:"",className:"mt-1 p-2 border rounded w-full",children:[k.jsx("option",{value:"",disabled:!0,children:"Select a goal"}),Jv.filter(d=>!t.some(p=>p.id===d.id)).map(d=>k.jsx("option",{value:d.id,children:d.label},d.id))]})]}),k.jsx("div",{className:"pt-4",children:k.jsx("button",{onClick:()=>e(t),disabled:t.length===0,className:"px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-50",children:"Confirm Goals and Continue"})})]})}function $b({initialGoals:n=[],onRankedGoalsChange:e}){const[t,s]=G.useState([]);G.useEffect(()=>{const a=[...n].sort((c,d)=>(c.rank||0)-(d.rank||0));s(a)},[n]);const o=(a,c)=>{const d=[...t],p=a+c;if(p>=0&&p<d.length){const y=d[a];d[a]=d[p],d[p]=y;const _=d.map((E,I)=>({...E,rank:I+1}));s(_),e&&e(_)}};return k.jsx("div",{className:"space-y-4",children:t.map((a,c)=>k.jsxs("div",{className:"flex items-center justify-between border p-2 rounded-md shadow-sm bg-white",children:[k.jsx("span",{className:"text-gray-800",children:a.label}),k.jsxs("div",{className:"flex space-x-2",children:[k.jsx("button",{onClick:()=>o(c,-1),disabled:c===0,className:"px-2 py-1 border rounded disabled:opacity-50",children:"↑"}),k.jsx("button",{onClick:()=>o(c,1),disabled:c===t.length-1,className:"px-2 py-1 border rounded disabled:opacity-50",children:"↓"})]})]},a.id))})}function Hb(){const n=_n(),{summary:e,classification:t,updateClassification:s}=G.useContext(Pl),o=a=>{s(a),n("/app/campaign/confirm-goals")};return k.jsx(Bb,{summary:e,classification:t,onNext:o})}function qb(){const n=_n(),{goals:e,updateGoals:t}=G.useContext(Pl),s=o=>{t(o),n("/app/campaign/rank-goals")};return k.jsx(zb,{initialGoals:e,onConfirm:s})}function Wb(){const{goals:n,updateGoals:e,saveCampaign:t}=G.useContext(Pl),s=async o=>{e(o),await t()};return k.jsx($b,{initialGoals:n,onRankedGoalsChange:s})}function Gb(){const{campaignData:n}=kl(),{messagingGuide:e,summary:t}=n||{},{toast:s}=$p(),[o,a]=G.useState("SMS"),[c,d]=G.useState(""),[p,y]=G.useState(!1),_=["SMS","Social Media Post","Email Intro","Poster Slogan","Speech Excerpt"],E=async()=>{y(!0),d("");try{const L=await(await fetch("/api/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({format:o,messagingGuide:e,summary:t})})).json();L.content?d(L.content):s({variant:"destructive",title:"No content returned"})}catch(I){s({variant:"destructive",title:"Error generating content",description:I.message})}finally{y(!1)}};return k.jsx("div",{className:"container py-8",children:k.jsxs(lh,{className:"max-w-4xl mx-auto",children:[k.jsx(uh,{children:k.jsx(ch,{children:"Generate Campaign Content"})}),k.jsxs(hh,{className:"space-y-4",children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Content Format:"}),k.jsx("select",{value:o,onChange:I=>a(I.target.value),className:"w-full p-2 border rounded",children:_.map(I=>k.jsx("option",{value:I,children:I},I))}),k.jsx(ah,{onClick:E,disabled:p,children:p?"Generating…":"Generate Content"}),c&&k.jsxs("div",{className:"mt-6 whitespace-pre-wrap border rounded p-4 bg-gray-50",children:[k.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Generated Content:"}),k.jsx("div",{children:c})]})]})]})})}function Kb(){return console.log("--- Rendering App Component (Router Setup) ---"),k.jsxs(k.Fragment,{children:[" ",console.log("--- App.jsx: Before <Routes> ---"),k.jsxs(fI,{children:[k.jsx(Qt,{path:"/",element:k.jsx(SI,{})}),k.jsx(Qt,{path:"/signup",element:k.jsx(Bk,{})}),k.jsx(Qt,{path:"/login",element:k.jsx(zk,{})}),k.jsx(Qt,{path:"/onboarding",element:k.jsx($k,{})}),k.jsx(Qt,{path:"/onboarding/summary",element:k.jsx(Hk,{})}),k.jsx(Qt,{path:"/dashboard",element:k.jsx(Tb,{})}),k.jsx(Qt,{path:"/app/campaign/new",element:k.jsxs(k.Fragment,{children:[console.log("--- App.jsx: Matched /app/campaign/new, evaluating element... ---"),k.jsx(Vb,{})," "]})}),k.jsx(Qt,{path:"/app/campaign/plan",element:k.jsx(Fb,{})}),k.jsx(Qt,{path:"/app/campaign/message",element:k.jsx(Ub,{})}),k.jsx(Qt,{path:"/campaign/review",element:k.jsx(jb,{})}),k.jsx(Qt,{path:"/campaign/content",element:k.jsx(Gb,{})}),k.jsx(Qt,{path:"/app/campaign/edit-classification",element:k.jsx(Hb,{})}),k.jsx(Qt,{path:"/app/campaign/confirm-goals",element:k.jsx(qb,{})}),k.jsx(Qt,{path:"/app/campaign/rank-goals",element:k.jsx(Wb,{})})]}),console.log("--- App.jsx: After <Routes> ---")]})}TT.createRoot(document.getElementById("root")).render(k.jsx(on.StrictMode,{children:k.jsxs(wI,{children:[k.jsxs(qk,{children:["        ",k.jsxs(Db,{children:["    ",k.jsx(Kb,{})]}),"   "]}),"       "]})}));
//# sourceMappingURL=index-xYAQsuch.js.map
