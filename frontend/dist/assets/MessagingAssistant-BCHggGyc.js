import{d as w,u as G,r,j as s}from"./index-D6efte17.js";function O(){var u,p,b,h,x;const{campaignData:t,updateCampaignData:y}=w();G();const[n,l]=r.useState({issueName:((u=t.summary)==null?void 0:u.purpose)||"",proposedChange:((p=t.summary)==null?void 0:p.proposedChange)||"",geographicContext:((b=t.summary)==null?void 0:b.context)||"",desiredOutcome:((h=t.summary)==null?void 0:h.goal)||"",primaryAudience:((x=t.summary)==null?void 0:x.audience)||"",audienceProfile:{demographics:"",psychographics:"",priorBeliefs:"",mediaHabits:""},campaignObjective:"",deliveryContext:{format:"",messenger:"",timing:""},knownComparisons:"",benchmarkData:""}),[o,d]=r.useState(!1),[m,c]=r.useState(null),[g,C]=r.useState(""),j=(a,e)=>{if(a.includes(".")){const[i,N]=a.split(".");l(f=>({...f,[i]:{...f[i],[N]:e}}))}else l(i=>({...i,[a]:e}))},v=async()=>{d(!0),c(null);try{const a=await fetch("/api/messaging-guide",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),e=await a.json();if(!a.ok)throw new Error(e.error||"Unknown error");y({messagingGuide:e.messagingGuide}),C(e.messagingGuide)}catch(a){console.error("âŒ Messaging Assistant Error:",a),c(a.message)}finally{d(!1)}};return s.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Messaging Assistant"}),s.jsx("p",{className:"text-sm mb-2 text-gray-600",children:"Fill in any missing info to generate a strategic messaging guide."}),[{label:"Issue Name",field:"issueName"},{label:"Proposed Change (Goal)",field:"proposedChange"},{label:"Geographic Context",field:"geographicContext"},{label:"Desired Outcome",field:"desiredOutcome"},{label:"Primary Audience",field:"primaryAudience"},{label:"Demographics",field:"audienceProfile.demographics"},{label:"Psychographics",field:"audienceProfile.psychographics"},{label:"Prior Beliefs",field:"audienceProfile.priorBeliefs"},{label:"Media Habits",field:"audienceProfile.mediaHabits"},{label:"Campaign Objective",field:"campaignObjective"},{label:"Delivery Format",field:"deliveryContext.format"},{label:"Delivery Messenger",field:"deliveryContext.messenger"},{label:"Delivery Timing",field:"deliveryContext.timing"},{label:"Known Comparisons",field:"knownComparisons"},{label:"Benchmark Data",field:"benchmarkData"}].map(({label:a,field:e})=>s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),s.jsx("input",{type:"text",value:e.includes(".")?n[e.split(".")[0]][e.split(".")[1]]:n[e],onChange:i=>j(e,i.target.value),className:"w-full border border-gray-300 px-3 py-2 rounded shadow-sm"})]},e)),m&&s.jsx("p",{className:"text-red-600 mt-2",children:m}),s.jsx("button",{onClick:v,disabled:o,className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:o?"Generating...":"Generate Messaging Guide"}),g&&s.jsxs("div",{className:"mt-6 p-4 border rounded bg-gray-50 whitespace-pre-wrap text-sm",children:[s.jsx("h3",{className:"font-bold mb-2",children:"Generated Messaging Guide"}),g]})]})}export{O as default};
//# sourceMappingURL=MessagingAssistant-BCHggGyc.js.map
