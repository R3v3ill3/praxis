import{d as y,b as k,u as f,r as o,j as e,h as w,i as C,l as S}from"./index-D6efte17.js";function G(){var p;const{campaignData:t}=y(),{user:c}=k(),u=f(),s=(t==null?void 0:t.summary)||{},n=(t==null?void 0:t.classification)||{},[i,b]=o.useState(s.goals||[]),[h,g]=o.useState(!1),[j,m]=o.useState(!1),x=(a,l)=>{const d=[...i],[N]=d.splice(a,1);d.splice(l,0,N),b(d)},v=async()=>{if(!(!(c!=null&&c.uid)||!(t!=null&&t.campaignId))){g(!0);try{const a=w(C,"users",c.uid,"campaigns",t.campaignId);await S(a,{ranked_goals:i}),m(!0)}catch(a){console.error("Error saving ranked goals:",a)}finally{g(!1)}}},r=a=>{u(a)};return e.jsxs("div",{className:"p-6 max-w-3xl mx-auto bg-white shadow-md rounded",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Campaign Ready"}),e.jsx("p",{className:"mb-6",children:"Here’s your campaign summary. What would you like to do next?"}),e.jsxs("div",{className:"bg-gray-100 p-4 rounded mb-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-2",children:"Campaign Summary"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Purpose:"})," ",s==null?void 0:s.purpose]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Audience:"})," ",s==null?void 0:s.audience]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Target:"})," ",s==null?void 0:s.target]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Intent:"})," ",s==null?void 0:s.intent]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Location:"})," ",s==null?void 0:s.location]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Goals:"}),e.jsx("ol",{className:"list-decimal ml-6",children:(p=s==null?void 0:s.goals)==null?void 0:p.map((a,l)=>e.jsx("li",{children:a},l))})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded mb-6 text-sm",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Classification"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Type:"})," ",n==null?void 0:n.primary_type]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Subtype:"})," ",n==null?void 0:n.secondary_type]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Use Case:"})," ",n==null?void 0:n.sub_type]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Confidence Score:"})," ",n==null?void 0:n.confidence]})]})]}),s.goals&&s.goals.length>0&&e.jsxs("div",{className:"bg-white p-4 border rounded mb-6",children:[e.jsx("h4",{className:"text-md font-semibold mb-2",children:"Rank these goals by importance"}),e.jsx("ul",{className:"space-y-2",children:i.map((a,l)=>e.jsxs("li",{className:"bg-gray-100 p-2 rounded flex justify-between items-center",children:[e.jsxs("span",{children:[l+1,". ",a]}),e.jsxs("div",{className:"space-x-1",children:[l>0&&e.jsx("button",{className:"text-sm px-2 py-1 bg-blue-100 rounded",onClick:()=>x(l,l-1),children:"↑"}),l<i.length-1&&e.jsx("button",{className:"text-sm px-2 py-1 bg-blue-100 rounded",onClick:()=>x(l,l+1),children:"↓"})]})]},l))}),e.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:v,disabled:h,children:h?"Saving…":"Save Ranking"}),j&&e.jsx("p",{className:"text-green-600 mt-2",children:"✅ Ranking saved"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>r("/app/campaign/message"),className:"block w-full px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Build Campaign Messaging"}),e.jsx("button",{onClick:()=>r("/campaign/plan"),className:"block w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Build Action Plan"}),e.jsx("button",{onClick:()=>r("/campaign/classification-review"),className:"block w-full px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Review Campaign Details"})]})]})}export{G as default};
//# sourceMappingURL=CampaignNextSteps-BSVHVrDm.js.map
